var x4=Object.defineProperty;var E4=(t,e,n)=>e in t?x4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var eo=(t,e,n)=>E4(t,typeof e!="symbol"?e+"":e,n);function T4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u2={exports:{}},Mg={},c2={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh=Symbol.for("react.element"),S4=Symbol.for("react.portal"),A4=Symbol.for("react.fragment"),P4=Symbol.for("react.strict_mode"),I4=Symbol.for("react.profiler"),O4=Symbol.for("react.provider"),C4=Symbol.for("react.context"),k4=Symbol.for("react.forward_ref"),R4=Symbol.for("react.suspense"),N4=Symbol.for("react.memo"),M4=Symbol.for("react.lazy"),aA=Symbol.iterator;function j4(t){return t===null||typeof t!="object"?null:(t=aA&&t[aA]||t["@@iterator"],typeof t=="function"?t:null)}var f2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h2=Object.assign,d2={};function Zl(t,e,n){this.props=t,this.context=e,this.refs=d2,this.updater=n||f2}Zl.prototype.isReactComponent={};Zl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p2(){}p2.prototype=Zl.prototype;function Px(t,e,n){this.props=t,this.context=e,this.refs=d2,this.updater=n||f2}var Ix=Px.prototype=new p2;Ix.constructor=Px;h2(Ix,Zl.prototype);Ix.isPureReactComponent=!0;var sA=Array.isArray,m2=Object.prototype.hasOwnProperty,Ox={current:null},g2={key:!0,ref:!0,__self:!0,__source:!0};function y2(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)m2.call(e,r)&&!g2.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:lh,type:t,key:o,ref:a,props:i,_owner:Ox.current}}function D4(t,e){return{$$typeof:lh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cx(t){return typeof t=="object"&&t!==null&&t.$$typeof===lh}function $4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lA=/\/+/g;function $v(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$4(""+t.key):e.toString(36)}function ep(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case lh:case S4:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+$v(a,0):r,sA(i)?(n="",t!=null&&(n=t.replace(lA,"$&/")+"/"),ep(i,e,n,"",function(u){return u})):i!=null&&(Cx(i)&&(i=D4(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(lA,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",sA(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+$v(o,s);a+=ep(o,e,n,l,i)}else if(l=j4(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+$v(o,s++),a+=ep(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function cd(t,e,n){if(t==null)return t;var r=[],i=0;return ep(t,r,"","",function(o){return e.call(n,o,i++)}),r}function L4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xn={current:null},tp={transition:null},V4={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:tp,ReactCurrentOwner:Ox};Ee.Children={map:cd,forEach:function(t,e,n){cd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cd(t,function(){e++}),e},toArray:function(t){return cd(t,function(e){return e})||[]},only:function(t){if(!Cx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Zl;Ee.Fragment=A4;Ee.Profiler=I4;Ee.PureComponent=Px;Ee.StrictMode=P4;Ee.Suspense=R4;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V4;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=h2({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Ox.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)m2.call(e,l)&&!g2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:lh,type:t.type,key:i,ref:o,props:r,_owner:a}};Ee.createContext=function(t){return t={$$typeof:C4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:O4,_context:t},t.Consumer=t};Ee.createElement=y2;Ee.createFactory=function(t){var e=y2.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:k4,render:t}};Ee.isValidElement=Cx;Ee.lazy=function(t){return{$$typeof:M4,_payload:{_status:-1,_result:t},_init:L4}};Ee.memo=function(t,e){return{$$typeof:N4,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=tp.transition;tp.transition={};try{t()}finally{tp.transition=e}};Ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ee.useCallback=function(t,e){return xn.current.useCallback(t,e)};Ee.useContext=function(t){return xn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return xn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return xn.current.useEffect(t,e)};Ee.useId=function(){return xn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return xn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return xn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return xn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return xn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return xn.current.useReducer(t,e,n)};Ee.useRef=function(t){return xn.current.useRef(t)};Ee.useState=function(t){return xn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return xn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return xn.current.useTransition()};Ee.version="18.2.0";c2.exports=Ee;var j=c2.exports;const D=ze(j),F4=T4({__proto__:null,default:D},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B4=j,U4=Symbol.for("react.element"),z4=Symbol.for("react.fragment"),q4=Object.prototype.hasOwnProperty,W4=B4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H4={key:!0,ref:!0,__self:!0,__source:!0};function v2(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)q4.call(e,r)&&!H4.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:U4,type:t,key:o,ref:a,props:i,_owner:W4.current}}Mg.Fragment=z4;Mg.jsx=v2;Mg.jsxs=v2;u2.exports=Mg;var E=u2.exports,g_={},_2={exports:{}},Xn={},b2={exports:{}},w2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var G=L.length;L.push(z);e:for(;0<G;){var Q=G-1>>>1,K=L[Q];if(0<i(K,z))L[Q]=z,L[G]=K,G=Q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],G=L.pop();if(G!==z){L[0]=G;e:for(var Q=0,K=L.length,re=K>>>1;Q<re;){var ve=2*(Q+1)-1,Ae=L[ve],je=ve+1,gt=L[je];if(0>i(Ae,G))je<K&&0>i(gt,Ae)?(L[Q]=gt,L[je]=G,Q=je):(L[Q]=Ae,L[ve]=G,Q=ve);else if(je<K&&0>i(gt,G))L[Q]=gt,L[je]=G,Q=je;else break e}}return z}function i(L,z){var G=L.sortIndex-z.sortIndex;return G!==0?G:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function I(L){if(g=!1,y(L),!m)if(n(l)!==null)m=!0,F(S);else{var z=n(u);z!==null&&q(I,z.startTime-L)}}function S(L,z){m=!1,g&&(g=!1,w(x),x=-1),p=!0;var G=d;try{for(y(z),f=n(l);f!==null&&(!(f.expirationTime>z)||L&&!k());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,d=f.priorityLevel;var K=Q(f.expirationTime<=z);z=t.unstable_now(),typeof K=="function"?f.callback=K:f===n(l)&&r(l),y(z)}else r(l);f=n(l)}if(f!==null)var re=!0;else{var ve=n(u);ve!==null&&q(I,ve.startTime-z),re=!1}return re}finally{f=null,d=G,p=!1}}var P=!1,T=null,x=-1,O=5,C=-1;function k(){return!(t.unstable_now()-C<O)}function N(){if(T!==null){var L=t.unstable_now();C=L;var z=!0;try{z=T(!0,L)}finally{z?R():(P=!1,T=null)}}else P=!1}var R;if(typeof _=="function")R=function(){_(N)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,V=B.port2;B.port1.onmessage=N,R=function(){V.postMessage(null)}}else R=function(){v(N,0)};function F(L){T=L,P||(P=!0,R())}function q(L,z){x=v(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,F(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var G=d;d=z;try{return L()}finally{d=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=d;d=L;try{return z()}finally{d=G}},t.unstable_scheduleCallback=function(L,z,G){var Q=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Q+G:Q):G=Q,L){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=G+K,L={id:c++,callback:z,priorityLevel:L,startTime:G,expirationTime:K,sortIndex:-1},G>Q?(L.sortIndex=G,e(u,L),n(l)===null&&L===n(u)&&(g?(w(x),x=-1):g=!0,q(I,G-Q))):(L.sortIndex=K,e(l,L),m||p||(m=!0,F(S))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var z=d;return function(){var G=d;d=z;try{return L.apply(this,arguments)}finally{d=G}}}})(w2);b2.exports=w2;var G4=b2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2=j,Hn=G4;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E2=new Set,zc={};function os(t,e){dl(t,e),dl(t+"Capture",e)}function dl(t,e){for(zc[t]=e,t=0;t<e.length;t++)E2.add(e[t])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y_=Object.prototype.hasOwnProperty,K4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uA={},cA={};function X4(t){return y_.call(cA,t)?!0:y_.call(uA,t)?!1:K4.test(t)?cA[t]=!0:(uA[t]=!0,!1)}function Y4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Q4(t,e,n,r){if(e===null||typeof e>"u"||Y4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new En(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new En(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new En(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new En(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new En(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new En(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new En(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new En(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new En(t,5,!1,t.toLowerCase(),null,!1,!1)});var kx=/[\-:]([a-z])/g;function Rx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kx,Rx);Kt[e]=new En(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kx,Rx);Kt[e]=new En(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kx,Rx);Kt[e]=new En(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new En(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new En(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nx(t,e,n,r){var i=Kt.hasOwnProperty(e)?Kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Q4(e,n,i,r)&&(n=null),r||i===null?X4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zi=x2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fd=Symbol.for("react.element"),ks=Symbol.for("react.portal"),Rs=Symbol.for("react.fragment"),Mx=Symbol.for("react.strict_mode"),v_=Symbol.for("react.profiler"),T2=Symbol.for("react.provider"),S2=Symbol.for("react.context"),jx=Symbol.for("react.forward_ref"),__=Symbol.for("react.suspense"),b_=Symbol.for("react.suspense_list"),Dx=Symbol.for("react.memo"),io=Symbol.for("react.lazy"),A2=Symbol.for("react.offscreen"),fA=Symbol.iterator;function $u(t){return t===null||typeof t!="object"?null:(t=fA&&t[fA]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,Lv;function ic(t){if(Lv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lv=e&&e[1]||""}return`
`+Lv+t}var Vv=!1;function Fv(t,e){if(!t||Vv)return"";Vv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Vv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ic(t):""}function J4(t){switch(t.tag){case 5:return ic(t.type);case 16:return ic("Lazy");case 13:return ic("Suspense");case 19:return ic("SuspenseList");case 0:case 2:case 15:return t=Fv(t.type,!1),t;case 11:return t=Fv(t.type.render,!1),t;case 1:return t=Fv(t.type,!0),t;default:return""}}function w_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rs:return"Fragment";case ks:return"Portal";case v_:return"Profiler";case Mx:return"StrictMode";case __:return"Suspense";case b_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case S2:return(t.displayName||"Context")+".Consumer";case T2:return(t._context.displayName||"Context")+".Provider";case jx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dx:return e=t.displayName||null,e!==null?e:w_(t.type)||"Memo";case io:e=t._payload,t=t._init;try{return w_(t(e))}catch{}}return null}function Z4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return w_(e);case 8:return e===Mx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $o(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function P2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function e5(t){var e=P2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hd(t){t._valueTracker||(t._valueTracker=e5(t))}function I2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=P2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function x_(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$o(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function O2(t,e){e=e.checked,e!=null&&Nx(t,"checked",e,!1)}function E_(t,e){O2(t,e);var n=$o(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?T_(t,e.type,n):e.hasOwnProperty("defaultValue")&&T_(t,e.type,$o(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function T_(t,e,n){(e!=="number"||Pp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oc=Array.isArray;function Js(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$o(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function S_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(oc(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$o(n)}}function C2(t,e){var n=$o(e.value),r=$o(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function k2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?k2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dd,R2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dd=dd||document.createElement("div"),dd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t5=["Webkit","ms","Moz","O"];Object.keys(gc).forEach(function(t){t5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gc[e]=gc[t]})});function N2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gc.hasOwnProperty(t)&&gc[t]?(""+e).trim():e+"px"}function M2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=N2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var n5=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function P_(t,e){if(e){if(n5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function I_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O_=null;function $x(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var C_=null,Zs=null,el=null;function gA(t){if(t=fh(t)){if(typeof C_!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Vg(e),C_(t.stateNode,t.type,e))}}function j2(t){Zs?el?el.push(t):el=[t]:Zs=t}function D2(){if(Zs){var t=Zs,e=el;if(el=Zs=null,gA(t),e)for(t=0;t<e.length;t++)gA(e[t])}}function $2(t,e){return t(e)}function L2(){}var Bv=!1;function V2(t,e,n){if(Bv)return t(e,n);Bv=!0;try{return $2(t,e,n)}finally{Bv=!1,(Zs!==null||el!==null)&&(L2(),D2())}}function Wc(t,e){var n=t.stateNode;if(n===null)return null;var r=Vg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var k_=!1;if(Ii)try{var Lu={};Object.defineProperty(Lu,"passive",{get:function(){k_=!0}}),window.addEventListener("test",Lu,Lu),window.removeEventListener("test",Lu,Lu)}catch{k_=!1}function r5(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var yc=!1,Ip=null,Op=!1,R_=null,i5={onError:function(t){yc=!0,Ip=t}};function o5(t,e,n,r,i,o,a,s,l){yc=!1,Ip=null,r5.apply(i5,arguments)}function a5(t,e,n,r,i,o,a,s,l){if(o5.apply(this,arguments),yc){if(yc){var u=Ip;yc=!1,Ip=null}else throw Error(J(198));Op||(Op=!0,R_=u)}}function as(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function F2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yA(t){if(as(t)!==t)throw Error(J(188))}function s5(t){var e=t.alternate;if(!e){if(e=as(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return yA(i),t;if(o===r)return yA(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function B2(t){return t=s5(t),t!==null?U2(t):null}function U2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=U2(t);if(e!==null)return e;t=t.sibling}return null}var z2=Hn.unstable_scheduleCallback,vA=Hn.unstable_cancelCallback,l5=Hn.unstable_shouldYield,u5=Hn.unstable_requestPaint,dt=Hn.unstable_now,c5=Hn.unstable_getCurrentPriorityLevel,Lx=Hn.unstable_ImmediatePriority,q2=Hn.unstable_UserBlockingPriority,Cp=Hn.unstable_NormalPriority,f5=Hn.unstable_LowPriority,W2=Hn.unstable_IdlePriority,jg=null,Wr=null;function h5(t){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(jg,t,void 0,(t.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:m5,d5=Math.log,p5=Math.LN2;function m5(t){return t>>>=0,t===0?32:31-(d5(t)/p5|0)|0}var pd=64,md=4194304;function ac(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=ac(s):(o&=a,o!==0&&(r=ac(o)))}else a=n&~i,a!==0?r=ac(a):o!==0&&(r=ac(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cr(e),i=1<<n,r|=t[n],e&=~i;return r}function g5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Cr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=g5(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function N_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H2(){var t=pd;return pd<<=1,!(pd&4194240)&&(pd=64),t}function Uv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cr(e),t[e]=n}function v5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Vx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function G2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var K2,Fx,X2,Y2,Q2,M_=!1,gd=[],xo=null,Eo=null,To=null,Hc=new Map,Gc=new Map,lo=[],_5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _A(t,e){switch(t){case"focusin":case"focusout":xo=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":Hc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(e.pointerId)}}function Vu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=fh(e),e!==null&&Fx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function b5(t,e,n,r,i){switch(e){case"focusin":return xo=Vu(xo,t,e,n,r,i),!0;case"dragenter":return Eo=Vu(Eo,t,e,n,r,i),!0;case"mouseover":return To=Vu(To,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Hc.set(o,Vu(Hc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Gc.set(o,Vu(Gc.get(o)||null,t,e,n,r,i)),!0}return!1}function J2(t){var e=ba(t.target);if(e!==null){var n=as(e);if(n!==null){if(e=n.tag,e===13){if(e=F2(n),e!==null){t.blockedOn=e,Q2(t.priority,function(){X2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function np(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=j_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);O_=r,n.target.dispatchEvent(r),O_=null}else return e=fh(n),e!==null&&Fx(e),t.blockedOn=n,!1;e.shift()}return!0}function bA(t,e,n){np(t)&&n.delete(e)}function w5(){M_=!1,xo!==null&&np(xo)&&(xo=null),Eo!==null&&np(Eo)&&(Eo=null),To!==null&&np(To)&&(To=null),Hc.forEach(bA),Gc.forEach(bA)}function Fu(t,e){t.blockedOn===e&&(t.blockedOn=null,M_||(M_=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,w5)))}function Kc(t){function e(i){return Fu(i,t)}if(0<gd.length){Fu(gd[0],t);for(var n=1;n<gd.length;n++){var r=gd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xo!==null&&Fu(xo,t),Eo!==null&&Fu(Eo,t),To!==null&&Fu(To,t),Hc.forEach(e),Gc.forEach(e),n=0;n<lo.length;n++)r=lo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<lo.length&&(n=lo[0],n.blockedOn===null);)J2(n),n.blockedOn===null&&lo.shift()}var tl=zi.ReactCurrentBatchConfig,Rp=!0;function x5(t,e,n,r){var i=De,o=tl.transition;tl.transition=null;try{De=1,Bx(t,e,n,r)}finally{De=i,tl.transition=o}}function E5(t,e,n,r){var i=De,o=tl.transition;tl.transition=null;try{De=4,Bx(t,e,n,r)}finally{De=i,tl.transition=o}}function Bx(t,e,n,r){if(Rp){var i=j_(t,e,n,r);if(i===null)Jv(t,e,r,Np,n),_A(t,r);else if(b5(i,t,e,n,r))r.stopPropagation();else if(_A(t,r),e&4&&-1<_5.indexOf(t)){for(;i!==null;){var o=fh(i);if(o!==null&&K2(o),o=j_(t,e,n,r),o===null&&Jv(t,e,r,Np,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Jv(t,e,r,null,n)}}var Np=null;function j_(t,e,n,r){if(Np=null,t=$x(r),t=ba(t),t!==null)if(e=as(t),e===null)t=null;else if(n=e.tag,n===13){if(t=F2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Np=t,null}function Z2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c5()){case Lx:return 1;case q2:return 4;case Cp:case f5:return 16;case W2:return 536870912;default:return 16}default:return 16}}var yo=null,Ux=null,rp=null;function eM(){if(rp)return rp;var t,e=Ux,n=e.length,r,i="value"in yo?yo.value:yo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return rp=i.slice(t,1<r?1-r:void 0)}function ip(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yd(){return!0}function wA(){return!1}function Yn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yd:wA,this.isPropagationStopped=wA,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yd)},persist:function(){},isPersistent:yd}),e}var eu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zx=Yn(eu),ch=ot({},eu,{view:0,detail:0}),T5=Yn(ch),zv,qv,Bu,Dg=ot({},ch,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bu&&(Bu&&t.type==="mousemove"?(zv=t.screenX-Bu.screenX,qv=t.screenY-Bu.screenY):qv=zv=0,Bu=t),zv)},movementY:function(t){return"movementY"in t?t.movementY:qv}}),xA=Yn(Dg),S5=ot({},Dg,{dataTransfer:0}),A5=Yn(S5),P5=ot({},ch,{relatedTarget:0}),Wv=Yn(P5),I5=ot({},eu,{animationName:0,elapsedTime:0,pseudoElement:0}),O5=Yn(I5),C5=ot({},eu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),k5=Yn(C5),R5=ot({},eu,{data:0}),EA=Yn(R5),N5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=j5[t])?!!e[t]:!1}function qx(){return D5}var $5=ot({},ch,{key:function(t){if(t.key){var e=N5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ip(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?M5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qx,charCode:function(t){return t.type==="keypress"?ip(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ip(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),L5=Yn($5),V5=ot({},Dg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TA=Yn(V5),F5=ot({},ch,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qx}),B5=Yn(F5),U5=ot({},eu,{propertyName:0,elapsedTime:0,pseudoElement:0}),z5=Yn(U5),q5=ot({},Dg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W5=Yn(q5),H5=[9,13,27,32],Wx=Ii&&"CompositionEvent"in window,vc=null;Ii&&"documentMode"in document&&(vc=document.documentMode);var G5=Ii&&"TextEvent"in window&&!vc,tM=Ii&&(!Wx||vc&&8<vc&&11>=vc),SA=" ",AA=!1;function nM(t,e){switch(t){case"keyup":return H5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ns=!1;function K5(t,e){switch(t){case"compositionend":return rM(e);case"keypress":return e.which!==32?null:(AA=!0,SA);case"textInput":return t=e.data,t===SA&&AA?null:t;default:return null}}function X5(t,e){if(Ns)return t==="compositionend"||!Wx&&nM(t,e)?(t=eM(),rp=Ux=yo=null,Ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tM&&e.locale!=="ko"?null:e.data;default:return null}}var Y5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y5[t.type]:e==="textarea"}function iM(t,e,n,r){j2(r),e=Mp(e,"onChange"),0<e.length&&(n=new zx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _c=null,Xc=null;function Q5(t){mM(t,0)}function $g(t){var e=Ds(t);if(I2(e))return t}function J5(t,e){if(t==="change")return e}var oM=!1;if(Ii){var Hv;if(Ii){var Gv="oninput"in document;if(!Gv){var IA=document.createElement("div");IA.setAttribute("oninput","return;"),Gv=typeof IA.oninput=="function"}Hv=Gv}else Hv=!1;oM=Hv&&(!document.documentMode||9<document.documentMode)}function OA(){_c&&(_c.detachEvent("onpropertychange",aM),Xc=_c=null)}function aM(t){if(t.propertyName==="value"&&$g(Xc)){var e=[];iM(e,Xc,t,$x(t)),V2(Q5,e)}}function Z5(t,e,n){t==="focusin"?(OA(),_c=e,Xc=n,_c.attachEvent("onpropertychange",aM)):t==="focusout"&&OA()}function e6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $g(Xc)}function t6(t,e){if(t==="click")return $g(e)}function n6(t,e){if(t==="input"||t==="change")return $g(e)}function r6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:r6;function Yc(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!y_.call(e,i)||!Nr(t[i],e[i]))return!1}return!0}function CA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kA(t,e){var n=CA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=CA(n)}}function sM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lM(){for(var t=window,e=Pp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pp(t.document)}return e}function Hx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function i6(t){var e=lM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sM(n.ownerDocument.documentElement,n)){if(r!==null&&Hx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=kA(n,o);var a=kA(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o6=Ii&&"documentMode"in document&&11>=document.documentMode,Ms=null,D_=null,bc=null,$_=!1;function RA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$_||Ms==null||Ms!==Pp(r)||(r=Ms,"selectionStart"in r&&Hx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bc&&Yc(bc,r)||(bc=r,r=Mp(D_,"onSelect"),0<r.length&&(e=new zx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ms)))}function vd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var js={animationend:vd("Animation","AnimationEnd"),animationiteration:vd("Animation","AnimationIteration"),animationstart:vd("Animation","AnimationStart"),transitionend:vd("Transition","TransitionEnd")},Kv={},uM={};Ii&&(uM=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Lg(t){if(Kv[t])return Kv[t];if(!js[t])return t;var e=js[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uM)return Kv[t]=e[n];return t}var cM=Lg("animationend"),fM=Lg("animationiteration"),hM=Lg("animationstart"),dM=Lg("transitionend"),pM=new Map,NA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(t,e){pM.set(t,e),os(e,[t])}for(var Xv=0;Xv<NA.length;Xv++){var Yv=NA[Xv],a6=Yv.toLowerCase(),s6=Yv[0].toUpperCase()+Yv.slice(1);qo(a6,"on"+s6)}qo(cM,"onAnimationEnd");qo(fM,"onAnimationIteration");qo(hM,"onAnimationStart");qo("dblclick","onDoubleClick");qo("focusin","onFocus");qo("focusout","onBlur");qo(dM,"onTransitionEnd");dl("onMouseEnter",["mouseout","mouseover"]);dl("onMouseLeave",["mouseout","mouseover"]);dl("onPointerEnter",["pointerout","pointerover"]);dl("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l6=new Set("cancel close invalid load scroll toggle".split(" ").concat(sc));function MA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,a5(r,e,void 0,t),t.currentTarget=null}function mM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;MA(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;MA(i,s,u),o=l}}}if(Op)throw t=R_,Op=!1,R_=null,t}function Xe(t,e){var n=e[U_];n===void 0&&(n=e[U_]=new Set);var r=t+"__bubble";n.has(r)||(gM(e,t,2,!1),n.add(r))}function Qv(t,e,n){var r=0;e&&(r|=4),gM(n,t,r,e)}var _d="_reactListening"+Math.random().toString(36).slice(2);function Qc(t){if(!t[_d]){t[_d]=!0,E2.forEach(function(n){n!=="selectionchange"&&(l6.has(n)||Qv(n,!1,t),Qv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_d]||(e[_d]=!0,Qv("selectionchange",!1,e))}}function gM(t,e,n,r){switch(Z2(e)){case 1:var i=x5;break;case 4:i=E5;break;default:i=Bx}n=i.bind(null,e,n,t),i=void 0,!k_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jv(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ba(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}V2(function(){var u=o,c=$x(n),f=[];e:{var d=pM.get(t);if(d!==void 0){var p=zx,m=t;switch(t){case"keypress":if(ip(n)===0)break e;case"keydown":case"keyup":p=L5;break;case"focusin":m="focus",p=Wv;break;case"focusout":m="blur",p=Wv;break;case"beforeblur":case"afterblur":p=Wv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=A5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=B5;break;case cM:case fM:case hM:p=O5;break;case dM:p=z5;break;case"scroll":p=T5;break;case"wheel":p=W5;break;case"copy":case"cut":case"paste":p=k5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=TA}var g=(e&4)!==0,v=!g&&t==="scroll",w=g?d!==null?d+"Capture":null:d;g=[];for(var _=u,y;_!==null;){y=_;var I=y.stateNode;if(y.tag===5&&I!==null&&(y=I,w!==null&&(I=Wc(_,w),I!=null&&g.push(Jc(_,I,y)))),v)break;_=_.return}0<g.length&&(d=new p(d,m,null,n,c),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==O_&&(m=n.relatedTarget||n.fromElement)&&(ba(m)||m[Oi]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?ba(m):null,m!==null&&(v=as(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=xA,I="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=TA,I="onPointerLeave",w="onPointerEnter",_="pointer"),v=p==null?d:Ds(p),y=m==null?d:Ds(m),d=new g(I,_+"leave",p,n,c),d.target=v,d.relatedTarget=y,I=null,ba(c)===u&&(g=new g(w,_+"enter",m,n,c),g.target=y,g.relatedTarget=v,I=g),v=I,p&&m)t:{for(g=p,w=m,_=0,y=g;y;y=xs(y))_++;for(y=0,I=w;I;I=xs(I))y++;for(;0<_-y;)g=xs(g),_--;for(;0<y-_;)w=xs(w),y--;for(;_--;){if(g===w||w!==null&&g===w.alternate)break t;g=xs(g),w=xs(w)}g=null}else g=null;p!==null&&jA(f,d,p,g,!1),m!==null&&v!==null&&jA(f,v,m,g,!0)}}e:{if(d=u?Ds(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var S=J5;else if(PA(d))if(oM)S=n6;else{S=e6;var P=Z5}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=t6);if(S&&(S=S(t,u))){iM(f,S,n,c);break e}P&&P(t,d,u),t==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&T_(d,"number",d.value)}switch(P=u?Ds(u):window,t){case"focusin":(PA(P)||P.contentEditable==="true")&&(Ms=P,D_=u,bc=null);break;case"focusout":bc=D_=Ms=null;break;case"mousedown":$_=!0;break;case"contextmenu":case"mouseup":case"dragend":$_=!1,RA(f,n,c);break;case"selectionchange":if(o6)break;case"keydown":case"keyup":RA(f,n,c)}var T;if(Wx)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ns?nM(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(tM&&n.locale!=="ko"&&(Ns||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ns&&(T=eM()):(yo=c,Ux="value"in yo?yo.value:yo.textContent,Ns=!0)),P=Mp(u,x),0<P.length&&(x=new EA(x,t,null,n,c),f.push({event:x,listeners:P}),T?x.data=T:(T=rM(n),T!==null&&(x.data=T)))),(T=G5?K5(t,n):X5(t,n))&&(u=Mp(u,"onBeforeInput"),0<u.length&&(c=new EA("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}mM(f,e)})}function Jc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Wc(t,n),o!=null&&r.unshift(Jc(t,o,i)),o=Wc(t,e),o!=null&&r.push(Jc(t,o,i))),t=t.return}return r}function xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jA(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Wc(n,o),l!=null&&a.unshift(Jc(n,l,s))):i||(l=Wc(n,o),l!=null&&a.push(Jc(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var u6=/\r\n?/g,c6=/\u0000|\uFFFD/g;function DA(t){return(typeof t=="string"?t:""+t).replace(u6,`
`).replace(c6,"")}function bd(t,e,n){if(e=DA(e),DA(t)!==e&&n)throw Error(J(425))}function jp(){}var L_=null,V_=null;function F_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var B_=typeof setTimeout=="function"?setTimeout:void 0,f6=typeof clearTimeout=="function"?clearTimeout:void 0,$A=typeof Promise=="function"?Promise:void 0,h6=typeof queueMicrotask=="function"?queueMicrotask:typeof $A<"u"?function(t){return $A.resolve(null).then(t).catch(d6)}:B_;function d6(t){setTimeout(function(){throw t})}function Zv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Kc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Kc(e)}function So(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function LA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tu=Math.random().toString(36).slice(2),Ur="__reactFiber$"+tu,Zc="__reactProps$"+tu,Oi="__reactContainer$"+tu,U_="__reactEvents$"+tu,p6="__reactListeners$"+tu,m6="__reactHandles$"+tu;function ba(t){var e=t[Ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Oi]||n[Ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=LA(t);t!==null;){if(n=t[Ur])return n;t=LA(t)}return e}t=n,n=t.parentNode}return null}function fh(t){return t=t[Ur]||t[Oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ds(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Vg(t){return t[Zc]||null}var z_=[],$s=-1;function Wo(t){return{current:t}}function Je(t){0>$s||(t.current=z_[$s],z_[$s]=null,$s--)}function He(t,e){$s++,z_[$s]=t.current,t.current=e}var Lo={},hn=Wo(Lo),Pn=Wo(!1),Fa=Lo;function pl(t,e){var n=t.type.contextTypes;if(!n)return Lo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function In(t){return t=t.childContextTypes,t!=null}function Dp(){Je(Pn),Je(hn)}function VA(t,e,n){if(hn.current!==Lo)throw Error(J(168));He(hn,e),He(Pn,n)}function yM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,Z4(t)||"Unknown",i));return ot({},n,r)}function $p(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lo,Fa=hn.current,He(hn,t),He(Pn,Pn.current),!0}function FA(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=yM(t,e,Fa),r.__reactInternalMemoizedMergedChildContext=t,Je(Pn),Je(hn),He(hn,t)):Je(Pn),He(Pn,n)}var ci=null,Fg=!1,e0=!1;function vM(t){ci===null?ci=[t]:ci.push(t)}function g6(t){Fg=!0,vM(t)}function Ho(){if(!e0&&ci!==null){e0=!0;var t=0,e=De;try{var n=ci;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ci=null,Fg=!1}catch(i){throw ci!==null&&(ci=ci.slice(t+1)),z2(Lx,Ho),i}finally{De=e,e0=!1}}return null}var Ls=[],Vs=0,Lp=null,Vp=0,nr=[],rr=0,Ba=null,hi=1,di="";function fa(t,e){Ls[Vs++]=Vp,Ls[Vs++]=Lp,Lp=t,Vp=e}function _M(t,e,n){nr[rr++]=hi,nr[rr++]=di,nr[rr++]=Ba,Ba=t;var r=hi;t=di;var i=32-Cr(r)-1;r&=~(1<<i),n+=1;var o=32-Cr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,hi=1<<32-Cr(e)+i|n<<i|r,di=o+t}else hi=1<<o|n<<i|r,di=t}function Gx(t){t.return!==null&&(fa(t,1),_M(t,1,0))}function Kx(t){for(;t===Lp;)Lp=Ls[--Vs],Ls[Vs]=null,Vp=Ls[--Vs],Ls[Vs]=null;for(;t===Ba;)Ba=nr[--rr],nr[rr]=null,di=nr[--rr],nr[rr]=null,hi=nr[--rr],nr[rr]=null}var zn=null,Fn=null,Ze=!1,Sr=null;function bM(t,e){var n=ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Fn=So(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ba!==null?{id:hi,overflow:di}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,Fn=null,!0):!1;default:return!1}}function q_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function W_(t){if(Ze){var e=Fn;if(e){var n=e;if(!BA(t,e)){if(q_(t))throw Error(J(418));e=So(n.nextSibling);var r=zn;e&&BA(t,e)?bM(r,n):(t.flags=t.flags&-4097|2,Ze=!1,zn=t)}}else{if(q_(t))throw Error(J(418));t.flags=t.flags&-4097|2,Ze=!1,zn=t}}}function UA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function wd(t){if(t!==zn)return!1;if(!Ze)return UA(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!F_(t.type,t.memoizedProps)),e&&(e=Fn)){if(q_(t))throw wM(),Error(J(418));for(;e;)bM(t,e),e=So(e.nextSibling)}if(UA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fn=So(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=zn?So(t.stateNode.nextSibling):null;return!0}function wM(){for(var t=Fn;t;)t=So(t.nextSibling)}function ml(){Fn=zn=null,Ze=!1}function Xx(t){Sr===null?Sr=[t]:Sr.push(t)}var y6=zi.ReactCurrentBatchConfig;function br(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Fp=Wo(null),Bp=null,Fs=null,Yx=null;function Qx(){Yx=Fs=Bp=null}function Jx(t){var e=Fp.current;Je(Fp),t._currentValue=e}function H_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function nl(t,e){Bp=t,Yx=Fs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sn=!0),t.firstContext=null)}function ur(t){var e=t._currentValue;if(Yx!==t)if(t={context:t,memoizedValue:e,next:null},Fs===null){if(Bp===null)throw Error(J(308));Fs=t,Bp.dependencies={lanes:0,firstContext:t}}else Fs=Fs.next=t;return e}var wa=null;function Zx(t){wa===null?wa=[t]:wa.push(t)}function xM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Zx(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ci(t,r)}function Ci(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oo=!1;function eE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ao(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ci(t,n)}return i=r.interleaved,i===null?(e.next=e,Zx(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ci(t,n)}function op(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vx(t,n)}}function zA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Up(t,e,n,r){var i=t.updateQueue;oo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(d=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=ot({},f,d);break e;case 2:oo=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);za|=a,t.lanes=a,t.memoizedState=f}}function qA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var TM=new x2.Component().refs;function G_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bg={isMounted:function(t){return(t=t._reactInternals)?as(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bn(),i=Io(t),o=wi(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ao(t,o,i),e!==null&&(kr(e,t,i,r),op(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bn(),i=Io(t),o=wi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ao(t,o,i),e!==null&&(kr(e,t,i,r),op(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bn(),r=Io(t),i=wi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ao(t,i,r),e!==null&&(kr(e,t,r,n),op(e,t,r))}};function WA(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Yc(n,r)||!Yc(i,o):!0}function SM(t,e,n){var r=!1,i=Lo,o=e.contextType;return typeof o=="object"&&o!==null?o=ur(o):(i=In(e)?Fa:hn.current,r=e.contextTypes,o=(r=r!=null)?pl(t,i):Lo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function HA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bg.enqueueReplaceState(e,e.state,null)}function K_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=TM,eE(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ur(o):(o=In(e)?Fa:hn.current,i.context=pl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(G_(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bg.enqueueReplaceState(i,i.state,null),Up(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Uu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;s===TM&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function xd(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function GA(t){var e=t._init;return e(t._payload)}function AM(t){function e(w,_){if(t){var y=w.deletions;y===null?(w.deletions=[_],w.flags|=16):y.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=Oo(w,_),w.index=0,w.sibling=null,w}function o(w,_,y){return w.index=y,t?(y=w.alternate,y!==null?(y=y.index,y<_?(w.flags|=2,_):y):(w.flags|=2,_)):(w.flags|=1048576,_)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,_,y,I){return _===null||_.tag!==6?(_=s0(y,w.mode,I),_.return=w,_):(_=i(_,y),_.return=w,_)}function l(w,_,y,I){var S=y.type;return S===Rs?c(w,_,y.props.children,I,y.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===io&&GA(S)===_.type)?(I=i(_,y.props),I.ref=Uu(w,_,y),I.return=w,I):(I=fp(y.type,y.key,y.props,null,w.mode,I),I.ref=Uu(w,_,y),I.return=w,I)}function u(w,_,y,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==y.containerInfo||_.stateNode.implementation!==y.implementation?(_=l0(y,w.mode,I),_.return=w,_):(_=i(_,y.children||[]),_.return=w,_)}function c(w,_,y,I,S){return _===null||_.tag!==7?(_=Na(y,w.mode,I,S),_.return=w,_):(_=i(_,y),_.return=w,_)}function f(w,_,y){if(typeof _=="string"&&_!==""||typeof _=="number")return _=s0(""+_,w.mode,y),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case fd:return y=fp(_.type,_.key,_.props,null,w.mode,y),y.ref=Uu(w,null,_),y.return=w,y;case ks:return _=l0(_,w.mode,y),_.return=w,_;case io:var I=_._init;return f(w,I(_._payload),y)}if(oc(_)||$u(_))return _=Na(_,w.mode,y,null),_.return=w,_;xd(w,_)}return null}function d(w,_,y,I){var S=_!==null?_.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:s(w,_,""+y,I);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fd:return y.key===S?l(w,_,y,I):null;case ks:return y.key===S?u(w,_,y,I):null;case io:return S=y._init,d(w,_,S(y._payload),I)}if(oc(y)||$u(y))return S!==null?null:c(w,_,y,I,null);xd(w,y)}return null}function p(w,_,y,I,S){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(y)||null,s(_,w,""+I,S);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case fd:return w=w.get(I.key===null?y:I.key)||null,l(_,w,I,S);case ks:return w=w.get(I.key===null?y:I.key)||null,u(_,w,I,S);case io:var P=I._init;return p(w,_,y,P(I._payload),S)}if(oc(I)||$u(I))return w=w.get(y)||null,c(_,w,I,S,null);xd(_,I)}return null}function m(w,_,y,I){for(var S=null,P=null,T=_,x=_=0,O=null;T!==null&&x<y.length;x++){T.index>x?(O=T,T=null):O=T.sibling;var C=d(w,T,y[x],I);if(C===null){T===null&&(T=O);break}t&&T&&C.alternate===null&&e(w,T),_=o(C,_,x),P===null?S=C:P.sibling=C,P=C,T=O}if(x===y.length)return n(w,T),Ze&&fa(w,x),S;if(T===null){for(;x<y.length;x++)T=f(w,y[x],I),T!==null&&(_=o(T,_,x),P===null?S=T:P.sibling=T,P=T);return Ze&&fa(w,x),S}for(T=r(w,T);x<y.length;x++)O=p(T,w,x,y[x],I),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?x:O.key),_=o(O,_,x),P===null?S=O:P.sibling=O,P=O);return t&&T.forEach(function(k){return e(w,k)}),Ze&&fa(w,x),S}function g(w,_,y,I){var S=$u(y);if(typeof S!="function")throw Error(J(150));if(y=S.call(y),y==null)throw Error(J(151));for(var P=S=null,T=_,x=_=0,O=null,C=y.next();T!==null&&!C.done;x++,C=y.next()){T.index>x?(O=T,T=null):O=T.sibling;var k=d(w,T,C.value,I);if(k===null){T===null&&(T=O);break}t&&T&&k.alternate===null&&e(w,T),_=o(k,_,x),P===null?S=k:P.sibling=k,P=k,T=O}if(C.done)return n(w,T),Ze&&fa(w,x),S;if(T===null){for(;!C.done;x++,C=y.next())C=f(w,C.value,I),C!==null&&(_=o(C,_,x),P===null?S=C:P.sibling=C,P=C);return Ze&&fa(w,x),S}for(T=r(w,T);!C.done;x++,C=y.next())C=p(T,w,x,C.value,I),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?x:C.key),_=o(C,_,x),P===null?S=C:P.sibling=C,P=C);return t&&T.forEach(function(N){return e(w,N)}),Ze&&fa(w,x),S}function v(w,_,y,I){if(typeof y=="object"&&y!==null&&y.type===Rs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case fd:e:{for(var S=y.key,P=_;P!==null;){if(P.key===S){if(S=y.type,S===Rs){if(P.tag===7){n(w,P.sibling),_=i(P,y.props.children),_.return=w,w=_;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===io&&GA(S)===P.type){n(w,P.sibling),_=i(P,y.props),_.ref=Uu(w,P,y),_.return=w,w=_;break e}n(w,P);break}else e(w,P);P=P.sibling}y.type===Rs?(_=Na(y.props.children,w.mode,I,y.key),_.return=w,w=_):(I=fp(y.type,y.key,y.props,null,w.mode,I),I.ref=Uu(w,_,y),I.return=w,w=I)}return a(w);case ks:e:{for(P=y.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===y.containerInfo&&_.stateNode.implementation===y.implementation){n(w,_.sibling),_=i(_,y.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=l0(y,w.mode,I),_.return=w,w=_}return a(w);case io:return P=y._init,v(w,_,P(y._payload),I)}if(oc(y))return m(w,_,y,I);if($u(y))return g(w,_,y,I);xd(w,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,y),_.return=w,w=_):(n(w,_),_=s0(y,w.mode,I),_.return=w,w=_),a(w)):n(w,_)}return v}var gl=AM(!0),PM=AM(!1),hh={},Hr=Wo(hh),ef=Wo(hh),tf=Wo(hh);function xa(t){if(t===hh)throw Error(J(174));return t}function tE(t,e){switch(He(tf,e),He(ef,t),He(Hr,hh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:A_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=A_(e,t)}Je(Hr),He(Hr,e)}function yl(){Je(Hr),Je(ef),Je(tf)}function IM(t){xa(tf.current);var e=xa(Hr.current),n=A_(e,t.type);e!==n&&(He(ef,t),He(Hr,n))}function nE(t){ef.current===t&&(Je(Hr),Je(ef))}var nt=Wo(0);function zp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var t0=[];function rE(){for(var t=0;t<t0.length;t++)t0[t]._workInProgressVersionPrimary=null;t0.length=0}var ap=zi.ReactCurrentDispatcher,n0=zi.ReactCurrentBatchConfig,Ua=0,it=null,At=null,Mt=null,qp=!1,wc=!1,nf=0,v6=0;function en(){throw Error(J(321))}function iE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function oE(t,e,n,r,i,o){if(Ua=o,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ap.current=t===null||t.memoizedState===null?x6:E6,t=n(r,i),wc){o=0;do{if(wc=!1,nf=0,25<=o)throw Error(J(301));o+=1,Mt=At=null,e.updateQueue=null,ap.current=T6,t=n(r,i)}while(wc)}if(ap.current=Wp,e=At!==null&&At.next!==null,Ua=0,Mt=At=it=null,qp=!1,e)throw Error(J(300));return t}function aE(){var t=nf!==0;return nf=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?it.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function cr(){if(At===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var e=Mt===null?it.memoizedState:Mt.next;if(e!==null)Mt=e,At=t;else{if(t===null)throw Error(J(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Mt===null?it.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function rf(t,e){return typeof e=="function"?e(t):e}function r0(t){var e=cr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=At,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Ua&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,it.lanes|=c,za|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Nr(r,e.memoizedState)||(Sn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,it.lanes|=o,za|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function i0(t){var e=cr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Nr(o,e.memoizedState)||(Sn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function OM(){}function CM(t,e){var n=it,r=cr(),i=e(),o=!Nr(r.memoizedState,i);if(o&&(r.memoizedState=i,Sn=!0),r=r.queue,sE(NM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,of(9,RM.bind(null,n,r,i,e),void 0,null),Dt===null)throw Error(J(349));Ua&30||kM(n,e,i)}return i}function kM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RM(t,e,n,r){e.value=n,e.getSnapshot=r,MM(e)&&jM(t)}function NM(t,e,n){return n(function(){MM(e)&&jM(t)})}function MM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function jM(t){var e=Ci(t,1);e!==null&&kr(e,t,1,-1)}function KA(t){var e=Br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rf,lastRenderedState:t},e.queue=t,t=t.dispatch=w6.bind(null,it,t),[e.memoizedState,t]}function of(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DM(){return cr().memoizedState}function sp(t,e,n,r){var i=Br();it.flags|=t,i.memoizedState=of(1|e,n,void 0,r===void 0?null:r)}function Ug(t,e,n,r){var i=cr();r=r===void 0?null:r;var o=void 0;if(At!==null){var a=At.memoizedState;if(o=a.destroy,r!==null&&iE(r,a.deps)){i.memoizedState=of(e,n,o,r);return}}it.flags|=t,i.memoizedState=of(1|e,n,o,r)}function XA(t,e){return sp(8390656,8,t,e)}function sE(t,e){return Ug(2048,8,t,e)}function $M(t,e){return Ug(4,2,t,e)}function LM(t,e){return Ug(4,4,t,e)}function VM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FM(t,e,n){return n=n!=null?n.concat([t]):null,Ug(4,4,VM.bind(null,e,t),n)}function lE(){}function BM(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iE(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UM(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iE(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zM(t,e,n){return Ua&21?(Nr(n,e)||(n=H2(),it.lanes|=n,za|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sn=!0),t.memoizedState=n)}function _6(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=n0.transition;n0.transition={};try{t(!1),e()}finally{De=n,n0.transition=r}}function qM(){return cr().memoizedState}function b6(t,e,n){var r=Io(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WM(t))HM(e,n);else if(n=xM(t,e,n,r),n!==null){var i=bn();kr(n,t,r,i),GM(n,e,r)}}function w6(t,e,n){var r=Io(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WM(t))HM(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Nr(s,a)){var l=e.interleaved;l===null?(i.next=i,Zx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=xM(t,e,i,r),n!==null&&(i=bn(),kr(n,t,r,i),GM(n,e,r))}}function WM(t){var e=t.alternate;return t===it||e!==null&&e===it}function HM(t,e){wc=qp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vx(t,n)}}var Wp={readContext:ur,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},x6={readContext:ur,useCallback:function(t,e){return Br().memoizedState=[t,e===void 0?null:e],t},useContext:ur,useEffect:XA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sp(4194308,4,VM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sp(4194308,4,t,e)},useInsertionEffect:function(t,e){return sp(4,2,t,e)},useMemo:function(t,e){var n=Br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=b6.bind(null,it,t),[r.memoizedState,t]},useRef:function(t){var e=Br();return t={current:t},e.memoizedState=t},useState:KA,useDebugValue:lE,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=KA(!1),e=t[0];return t=_6.bind(null,t[1]),Br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=it,i=Br();if(Ze){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Dt===null)throw Error(J(349));Ua&30||kM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,XA(NM.bind(null,r,o,t),[t]),r.flags|=2048,of(9,RM.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Br(),e=Dt.identifierPrefix;if(Ze){var n=di,r=hi;n=(r&~(1<<32-Cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=v6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},E6={readContext:ur,useCallback:BM,useContext:ur,useEffect:sE,useImperativeHandle:FM,useInsertionEffect:$M,useLayoutEffect:LM,useMemo:UM,useReducer:r0,useRef:DM,useState:function(){return r0(rf)},useDebugValue:lE,useDeferredValue:function(t){var e=cr();return zM(e,At.memoizedState,t)},useTransition:function(){var t=r0(rf)[0],e=cr().memoizedState;return[t,e]},useMutableSource:OM,useSyncExternalStore:CM,useId:qM,unstable_isNewReconciler:!1},T6={readContext:ur,useCallback:BM,useContext:ur,useEffect:sE,useImperativeHandle:FM,useInsertionEffect:$M,useLayoutEffect:LM,useMemo:UM,useReducer:i0,useRef:DM,useState:function(){return i0(rf)},useDebugValue:lE,useDeferredValue:function(t){var e=cr();return At===null?e.memoizedState=t:zM(e,At.memoizedState,t)},useTransition:function(){var t=i0(rf)[0],e=cr().memoizedState;return[t,e]},useMutableSource:OM,useSyncExternalStore:CM,useId:qM,unstable_isNewReconciler:!1};function vl(t,e){try{var n="",r=e;do n+=J4(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function o0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function X_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var S6=typeof WeakMap=="function"?WeakMap:Map;function KM(t,e,n){n=wi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gp||(Gp=!0,ob=r),X_(t,e)},n}function XM(t,e,n){n=wi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){X_(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){X_(t,e),typeof r!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function YA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new S6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=V6.bind(null,t,e,n),e.then(t,t))}function QA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function JA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wi(-1,1),e.tag=2,Ao(n,e,1))),n.lanes|=1),t)}var A6=zi.ReactCurrentOwner,Sn=!1;function yn(t,e,n,r){e.child=t===null?PM(e,null,n,r):gl(e,t.child,n,r)}function ZA(t,e,n,r,i){n=n.render;var o=e.ref;return nl(e,i),r=oE(t,e,n,r,o,i),n=aE(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(Ze&&n&&Gx(e),e.flags|=1,yn(t,e,r,i),e.child)}function eP(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!gE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,YM(t,e,o,r,i)):(t=fp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Yc,n(a,r)&&t.ref===e.ref)return ki(t,e,i)}return e.flags|=1,t=Oo(o,r),t.ref=e.ref,t.return=e,e.child=t}function YM(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Yc(o,r)&&t.ref===e.ref)if(Sn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Sn=!0);else return e.lanes=t.lanes,ki(t,e,i)}return Y_(t,e,n,r,i)}function QM(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Us,$n),$n|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(Us,$n),$n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,He(Us,$n),$n|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,He(Us,$n),$n|=r;return yn(t,e,i,n),e.child}function JM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Y_(t,e,n,r,i){var o=In(n)?Fa:hn.current;return o=pl(e,o),nl(e,i),n=oE(t,e,n,r,o,i),r=aE(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(Ze&&r&&Gx(e),e.flags|=1,yn(t,e,n,i),e.child)}function tP(t,e,n,r,i){if(In(n)){var o=!0;$p(e)}else o=!1;if(nl(e,i),e.stateNode===null)lp(t,e),SM(e,n,r),K_(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ur(u):(u=In(n)?Fa:hn.current,u=pl(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&HA(e,a,r,u),oo=!1;var d=e.memoizedState;a.state=d,Up(e,r,a,i),l=e.memoizedState,s!==r||d!==l||Pn.current||oo?(typeof c=="function"&&(G_(e,n,c,r),l=e.memoizedState),(s=oo||WA(e,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,EM(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:br(e.type,s),a.props=u,f=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ur(l):(l=In(n)?Fa:hn.current,l=pl(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&HA(e,a,r,l),oo=!1,d=e.memoizedState,a.state=d,Up(e,r,a,i);var m=e.memoizedState;s!==f||d!==m||Pn.current||oo?(typeof p=="function"&&(G_(e,n,p,r),m=e.memoizedState),(u=oo||WA(e,n,u,r,d,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Q_(t,e,n,r,o,i)}function Q_(t,e,n,r,i,o){JM(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&FA(e,n,!1),ki(t,e,o);r=e.stateNode,A6.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=gl(e,t.child,null,o),e.child=gl(e,null,s,o)):yn(t,e,s,o),e.memoizedState=r.state,i&&FA(e,n,!0),e.child}function ZM(t){var e=t.stateNode;e.pendingContext?VA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VA(t,e.context,!1),tE(t,e.containerInfo)}function nP(t,e,n,r,i){return ml(),Xx(i),e.flags|=256,yn(t,e,n,r),e.child}var J_={dehydrated:null,treeContext:null,retryLane:0};function Z_(t){return{baseLanes:t,cachePool:null,transitions:null}}function ej(t,e,n){var r=e.pendingProps,i=nt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(nt,i&1),t===null)return W_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Wg(a,r,0,null),t=Na(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Z_(n),e.memoizedState=J_,t):uE(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return P6(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Oo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Oo(s,o):(o=Na(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Z_(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=J_,r}return o=t.child,t=o.sibling,r=Oo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uE(t,e){return e=Wg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ed(t,e,n,r){return r!==null&&Xx(r),gl(e,t.child,null,n),t=uE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function P6(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=o0(Error(J(422))),Ed(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Wg({mode:"visible",children:r.children},i,0,null),o=Na(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&gl(e,t.child,null,a),e.child.memoizedState=Z_(a),e.memoizedState=J_,o);if(!(e.mode&1))return Ed(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(J(419)),r=o0(o,r,void 0),Ed(t,e,a,r)}if(s=(a&t.childLanes)!==0,Sn||s){if(r=Dt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ci(t,i),kr(r,t,i,-1))}return mE(),r=o0(Error(J(421))),Ed(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=F6.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Fn=So(i.nextSibling),zn=e,Ze=!0,Sr=null,t!==null&&(nr[rr++]=hi,nr[rr++]=di,nr[rr++]=Ba,hi=t.id,di=t.overflow,Ba=e),e=uE(e,r.children),e.flags|=4096,e)}function rP(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),H_(t.return,e,n)}function a0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function tj(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(yn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rP(t,n,e);else if(t.tag===19)rP(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(nt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),a0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}a0(e,!0,n,null,o);break;case"together":a0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ki(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),za|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Oo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Oo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I6(t,e,n){switch(e.tag){case 3:ZM(e),ml();break;case 5:IM(e);break;case 1:In(e.type)&&$p(e);break;case 4:tE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(Fp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?ej(t,e,n):(He(nt,nt.current&1),t=ki(t,e,n),t!==null?t.sibling:null);He(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tj(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,QM(t,e,n)}return ki(t,e,n)}var nj,eb,rj,ij;nj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eb=function(){};rj=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xa(Hr.current);var o=null;switch(n){case"input":i=x_(t,i),r=x_(t,r),o=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),o=[];break;case"textarea":i=S_(t,i),r=S_(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jp)}P_(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xe("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};ij=function(t,e,n,r){n!==r&&(e.flags|=4)};function zu(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function O6(t,e,n){var r=e.pendingProps;switch(Kx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return In(e.type)&&Dp(),tn(e),null;case 3:return r=e.stateNode,yl(),Je(Pn),Je(hn),rE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sr!==null&&(lb(Sr),Sr=null))),eb(t,e),tn(e),null;case 5:nE(e);var i=xa(tf.current);if(n=e.type,t!==null&&e.stateNode!=null)rj(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return tn(e),null}if(t=xa(Hr.current),wd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ur]=e,r[Zc]=o,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<sc.length;i++)Xe(sc[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":hA(r,o),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xe("invalid",r);break;case"textarea":pA(r,o),Xe("invalid",r)}P_(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&bd(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&bd(r.textContent,s,t),i=["children",""+s]):zc.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Xe("scroll",r)}switch(n){case"input":hd(r),dA(r,o,!0);break;case"textarea":hd(r),mA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=jp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=k2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ur]=e,t[Zc]=r,nj(t,e,!1,!1),e.stateNode=t;e:{switch(a=I_(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),i=r;break;case"iframe":case"object":case"embed":Xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<sc.length;i++)Xe(sc[i],t);i=r;break;case"source":Xe("error",t),i=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=r;break;case"details":Xe("toggle",t),i=r;break;case"input":hA(t,r),i=x_(t,r),Xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":pA(t,r),i=S_(t,r),Xe("invalid",t);break;default:i=r}P_(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?M2(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&R2(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qc(t,l):typeof l=="number"&&qc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(zc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Xe("scroll",t):l!=null&&Nx(t,o,l,a))}switch(n){case"input":hd(t),dA(t,r,!1);break;case"textarea":hd(t),mA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$o(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Js(t,!!r.multiple,o,!1):r.defaultValue!=null&&Js(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)ij(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=xa(tf.current),xa(Hr.current),wd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ur]=e,(o=r.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:bd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ur]=e,e.stateNode=r}return tn(e),null;case 13:if(Je(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Fn!==null&&e.mode&1&&!(e.flags&128))wM(),ml(),e.flags|=98560,o=!1;else if(o=wd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Ur]=e}else ml(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),o=!1}else Sr!==null&&(lb(Sr),Sr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?It===0&&(It=3):mE())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return yl(),eb(t,e),t===null&&Qc(e.stateNode.containerInfo),tn(e),null;case 10:return Jx(e.type._context),tn(e),null;case 17:return In(e.type)&&Dp(),tn(e),null;case 19:if(Je(nt),o=e.memoizedState,o===null)return tn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)zu(o,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=zp(t),a!==null){for(e.flags|=128,zu(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(nt,nt.current&1|2),e.child}t=t.sibling}o.tail!==null&&dt()>_l&&(e.flags|=128,r=!0,zu(o,!1),e.lanes=4194304)}else{if(!r)if(t=zp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ze)return tn(e),null}else 2*dt()-o.renderingStartTime>_l&&n!==1073741824&&(e.flags|=128,r=!0,zu(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=dt(),e.sibling=null,n=nt.current,He(nt,r?n&1|2:n&1),e):(tn(e),null);case 22:case 23:return pE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$n&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function C6(t,e){switch(Kx(e),e.tag){case 1:return In(e.type)&&Dp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yl(),Je(Pn),Je(hn),rE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nE(e),null;case 13:if(Je(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));ml()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(nt),null;case 4:return yl(),null;case 10:return Jx(e.type._context),null;case 22:case 23:return pE(),null;case 24:return null;default:return null}}var Td=!1,un=!1,k6=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function tb(t,e,n){try{n()}catch(r){ct(t,e,r)}}var iP=!1;function R6(t,e){if(L_=Rp,t=lM(),Hx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(V_={focusedElem:t,selectionRange:n},Rp=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:br(e.type,g),v);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(I){ct(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return m=iP,iP=!1,m}function xc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&tb(e,n,o)}i=i.next}while(i!==r)}}function zg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oj(t){var e=t.alternate;e!==null&&(t.alternate=null,oj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ur],delete e[Zc],delete e[U_],delete e[p6],delete e[m6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aj(t){return t.tag===5||t.tag===3||t.tag===4}function oP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jp));else if(r!==4&&(t=t.child,t!==null))for(rb(t,e,n),t=t.sibling;t!==null;)rb(t,e,n),t=t.sibling}function ib(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ib(t,e,n),t=t.sibling;t!==null;)ib(t,e,n),t=t.sibling}var Bt=null,wr=!1;function to(t,e,n){for(n=n.child;n!==null;)sj(t,e,n),n=n.sibling}function sj(t,e,n){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(jg,n)}catch{}switch(n.tag){case 5:un||Bs(n,e);case 6:var r=Bt,i=wr;Bt=null,to(t,e,n),Bt=r,wr=i,Bt!==null&&(wr?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(wr?(t=Bt,n=n.stateNode,t.nodeType===8?Zv(t.parentNode,n):t.nodeType===1&&Zv(t,n),Kc(t)):Zv(Bt,n.stateNode));break;case 4:r=Bt,i=wr,Bt=n.stateNode.containerInfo,wr=!0,to(t,e,n),Bt=r,wr=i;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&tb(n,e,a),i=i.next}while(i!==r)}to(t,e,n);break;case 1:if(!un&&(Bs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ct(n,e,s)}to(t,e,n);break;case 21:to(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,to(t,e,n),un=r):to(t,e,n);break;default:to(t,e,n)}}function aP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new k6),e.forEach(function(r){var i=B6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Bt=s.stateNode,wr=!1;break e;case 3:Bt=s.stateNode.containerInfo,wr=!0;break e;case 4:Bt=s.stateNode.containerInfo,wr=!0;break e}s=s.return}if(Bt===null)throw Error(J(160));sj(o,a,i),Bt=null,wr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lj(e,t),e=e.sibling}function lj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yr(e,t),Fr(t),r&4){try{xc(3,t,t.return),zg(3,t)}catch(g){ct(t,t.return,g)}try{xc(5,t,t.return)}catch(g){ct(t,t.return,g)}}break;case 1:yr(e,t),Fr(t),r&512&&n!==null&&Bs(n,n.return);break;case 5:if(yr(e,t),Fr(t),r&512&&n!==null&&Bs(n,n.return),t.flags&32){var i=t.stateNode;try{qc(i,"")}catch(g){ct(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&O2(i,o),I_(s,a);var u=I_(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?M2(i,f):c==="dangerouslySetInnerHTML"?R2(i,f):c==="children"?qc(i,f):Nx(i,c,f,u)}switch(s){case"input":E_(i,o);break;case"textarea":C2(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Js(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Js(i,!!o.multiple,o.defaultValue,!0):Js(i,!!o.multiple,o.multiple?[]:"",!1))}i[Zc]=o}catch(g){ct(t,t.return,g)}}break;case 6:if(yr(e,t),Fr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){ct(t,t.return,g)}}break;case 3:if(yr(e,t),Fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kc(e.containerInfo)}catch(g){ct(t,t.return,g)}break;case 4:yr(e,t),Fr(t);break;case 13:yr(e,t),Fr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(hE=dt())),r&4&&aP(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(un=(u=un)||c,yr(e,t),un=u):yr(e,t),Fr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(f=oe=c;oe!==null;){switch(d=oe,p=d.child,d.tag){case 0:case 11:case 14:case 15:xc(4,d,d.return);break;case 1:Bs(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){ct(r,n,g)}}break;case 5:Bs(d,d.return);break;case 22:if(d.memoizedState!==null){lP(f);continue}}p!==null?(p.return=d,oe=p):lP(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=N2("display",a))}catch(g){ct(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){ct(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yr(e,t),Fr(t),r&4&&aP(t);break;case 21:break;default:yr(e,t),Fr(t)}}function Fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(aj(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qc(i,""),r.flags&=-33);var o=oP(t);ib(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=oP(t);rb(t,s,a);break;default:throw Error(J(161))}}catch(l){ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function N6(t,e,n){oe=t,uj(t)}function uj(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Td;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||un;s=Td;var u=un;if(Td=a,(un=l)&&!u)for(oe=i;oe!==null;)a=oe,l=a.child,a.tag===22&&a.memoizedState!==null?uP(i):l!==null?(l.return=a,oe=l):uP(i);for(;o!==null;)oe=o,uj(o),o=o.sibling;oe=i,Td=s,un=u}sP(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):sP(t)}}function sP(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||zg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:br(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&qA(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qA(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Kc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}un||e.flags&512&&nb(e)}catch(d){ct(e,e.return,d)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function lP(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function uP(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zg(4,e)}catch(l){ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ct(e,i,l)}}var o=e.return;try{nb(e)}catch(l){ct(e,o,l)}break;case 5:var a=e.return;try{nb(e)}catch(l){ct(e,a,l)}}}catch(l){ct(e,e.return,l)}if(e===t){oe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,oe=s;break}oe=e.return}}var M6=Math.ceil,Hp=zi.ReactCurrentDispatcher,cE=zi.ReactCurrentOwner,ar=zi.ReactCurrentBatchConfig,Pe=0,Dt=null,bt=null,Ht=0,$n=0,Us=Wo(0),It=0,af=null,za=0,qg=0,fE=0,Ec=null,Tn=null,hE=0,_l=1/0,ui=null,Gp=!1,ob=null,Po=null,Sd=!1,vo=null,Kp=0,Tc=0,ab=null,up=-1,cp=0;function bn(){return Pe&6?dt():up!==-1?up:up=dt()}function Io(t){return t.mode&1?Pe&2&&Ht!==0?Ht&-Ht:y6.transition!==null?(cp===0&&(cp=H2()),cp):(t=De,t!==0||(t=window.event,t=t===void 0?16:Z2(t.type)),t):1}function kr(t,e,n,r){if(50<Tc)throw Tc=0,ab=null,Error(J(185));uh(t,n,r),(!(Pe&2)||t!==Dt)&&(t===Dt&&(!(Pe&2)&&(qg|=n),It===4&&uo(t,Ht)),On(t,r),n===1&&Pe===0&&!(e.mode&1)&&(_l=dt()+500,Fg&&Ho()))}function On(t,e){var n=t.callbackNode;y5(t,e);var r=kp(t,t===Dt?Ht:0);if(r===0)n!==null&&vA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vA(n),e===1)t.tag===0?g6(cP.bind(null,t)):vM(cP.bind(null,t)),h6(function(){!(Pe&6)&&Ho()}),n=null;else{switch(G2(r)){case 1:n=Lx;break;case 4:n=q2;break;case 16:n=Cp;break;case 536870912:n=W2;break;default:n=Cp}n=yj(n,cj.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cj(t,e){if(up=-1,cp=0,Pe&6)throw Error(J(327));var n=t.callbackNode;if(rl()&&t.callbackNode!==n)return null;var r=kp(t,t===Dt?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xp(t,r);else{e=r;var i=Pe;Pe|=2;var o=hj();(Dt!==t||Ht!==e)&&(ui=null,_l=dt()+500,Ra(t,e));do try{$6();break}catch(s){fj(t,s)}while(!0);Qx(),Hp.current=o,Pe=i,bt!==null?e=0:(Dt=null,Ht=0,e=It)}if(e!==0){if(e===2&&(i=N_(t),i!==0&&(r=i,e=sb(t,i))),e===1)throw n=af,Ra(t,0),uo(t,r),On(t,dt()),n;if(e===6)uo(t,r);else{if(i=t.current.alternate,!(r&30)&&!j6(i)&&(e=Xp(t,r),e===2&&(o=N_(t),o!==0&&(r=o,e=sb(t,o))),e===1))throw n=af,Ra(t,0),uo(t,r),On(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:ha(t,Tn,ui);break;case 3:if(uo(t,r),(r&130023424)===r&&(e=hE+500-dt(),10<e)){if(kp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=B_(ha.bind(null,t,Tn,ui),e);break}ha(t,Tn,ui);break;case 4:if(uo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Cr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*M6(r/1960))-r,10<r){t.timeoutHandle=B_(ha.bind(null,t,Tn,ui),r);break}ha(t,Tn,ui);break;case 5:ha(t,Tn,ui);break;default:throw Error(J(329))}}}return On(t,dt()),t.callbackNode===n?cj.bind(null,t):null}function sb(t,e){var n=Ec;return t.current.memoizedState.isDehydrated&&(Ra(t,e).flags|=256),t=Xp(t,e),t!==2&&(e=Tn,Tn=n,e!==null&&lb(e)),t}function lb(t){Tn===null?Tn=t:Tn.push.apply(Tn,t)}function j6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Nr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function uo(t,e){for(e&=~fE,e&=~qg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cr(e),r=1<<n;t[n]=-1,e&=~r}}function cP(t){if(Pe&6)throw Error(J(327));rl();var e=kp(t,0);if(!(e&1))return On(t,dt()),null;var n=Xp(t,e);if(t.tag!==0&&n===2){var r=N_(t);r!==0&&(e=r,n=sb(t,r))}if(n===1)throw n=af,Ra(t,0),uo(t,e),On(t,dt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ha(t,Tn,ui),On(t,dt()),null}function dE(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(_l=dt()+500,Fg&&Ho())}}function qa(t){vo!==null&&vo.tag===0&&!(Pe&6)&&rl();var e=Pe;Pe|=1;var n=ar.transition,r=De;try{if(ar.transition=null,De=1,t)return t()}finally{De=r,ar.transition=n,Pe=e,!(Pe&6)&&Ho()}}function pE(){$n=Us.current,Je(Us)}function Ra(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,f6(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(Kx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dp();break;case 3:yl(),Je(Pn),Je(hn),rE();break;case 5:nE(r);break;case 4:yl();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:Jx(r.type._context);break;case 22:case 23:pE()}n=n.return}if(Dt=t,bt=t=Oo(t.current,null),Ht=$n=e,It=0,af=null,fE=qg=za=0,Tn=Ec=null,wa!==null){for(e=0;e<wa.length;e++)if(n=wa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}wa=null}return t}function fj(t,e){do{var n=bt;try{if(Qx(),ap.current=Wp,qp){for(var r=it.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qp=!1}if(Ua=0,Mt=At=it=null,wc=!1,nf=0,cE.current=null,n===null||n.return===null){It=1,af=e,bt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Ht,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=QA(a);if(p!==null){p.flags&=-257,JA(p,a,s,o,e),p.mode&1&&YA(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){YA(o,u,e),mE();break e}l=Error(J(426))}}else if(Ze&&s.mode&1){var v=QA(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),JA(v,a,s,o,e),Xx(vl(l,s));break e}}o=l=vl(l,s),It!==4&&(It=2),Ec===null?Ec=[o]:Ec.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=KM(o,l,e);zA(o,w);break e;case 1:s=l;var _=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Po===null||!Po.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=XM(o,s,e);zA(o,I);break e}}o=o.return}while(o!==null)}pj(n)}catch(S){e=S,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function hj(){var t=Hp.current;return Hp.current=Wp,t===null?Wp:t}function mE(){(It===0||It===3||It===2)&&(It=4),Dt===null||!(za&268435455)&&!(qg&268435455)||uo(Dt,Ht)}function Xp(t,e){var n=Pe;Pe|=2;var r=hj();(Dt!==t||Ht!==e)&&(ui=null,Ra(t,e));do try{D6();break}catch(i){fj(t,i)}while(!0);if(Qx(),Pe=n,Hp.current=r,bt!==null)throw Error(J(261));return Dt=null,Ht=0,It}function D6(){for(;bt!==null;)dj(bt)}function $6(){for(;bt!==null&&!l5();)dj(bt)}function dj(t){var e=gj(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?pj(t):bt=e,cE.current=null}function pj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=C6(n,e),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,bt=null;return}}else if(n=O6(n,e,$n),n!==null){bt=n;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);It===0&&(It=5)}function ha(t,e,n){var r=De,i=ar.transition;try{ar.transition=null,De=1,L6(t,e,n,r)}finally{ar.transition=i,De=r}return null}function L6(t,e,n,r){do rl();while(vo!==null);if(Pe&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(v5(t,o),t===Dt&&(bt=Dt=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sd||(Sd=!0,yj(Cp,function(){return rl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ar.transition,ar.transition=null;var a=De;De=1;var s=Pe;Pe|=4,cE.current=null,R6(t,n),lj(n,t),i6(V_),Rp=!!L_,V_=L_=null,t.current=n,N6(n),u5(),Pe=s,De=a,ar.transition=o}else t.current=n;if(Sd&&(Sd=!1,vo=t,Kp=i),o=t.pendingLanes,o===0&&(Po=null),h5(n.stateNode),On(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gp)throw Gp=!1,t=ob,ob=null,t;return Kp&1&&t.tag!==0&&rl(),o=t.pendingLanes,o&1?t===ab?Tc++:(Tc=0,ab=t):Tc=0,Ho(),null}function rl(){if(vo!==null){var t=G2(Kp),e=ar.transition,n=De;try{if(ar.transition=null,De=16>t?16:t,vo===null)var r=!1;else{if(t=vo,vo=null,Kp=0,Pe&6)throw Error(J(331));var i=Pe;for(Pe|=4,oe=t.current;oe!==null;){var o=oe,a=o.child;if(oe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:xc(8,c,o)}var f=c.child;if(f!==null)f.return=c,oe=f;else for(;oe!==null;){c=oe;var d=c.sibling,p=c.return;if(oj(c),c===u){oe=null;break}if(d!==null){d.return=p,oe=d;break}oe=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}oe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,oe=a;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:xc(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,oe=w;break e}oe=o.return}}var _=t.current;for(oe=_;oe!==null;){a=oe;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,oe=y;else e:for(a=_;oe!==null;){if(s=oe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:zg(9,s)}}catch(S){ct(s,s.return,S)}if(s===a){oe=null;break e}var I=s.sibling;if(I!==null){I.return=s.return,oe=I;break e}oe=s.return}}if(Pe=i,Ho(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(jg,t)}catch{}r=!0}return r}finally{De=n,ar.transition=e}}return!1}function fP(t,e,n){e=vl(n,e),e=KM(t,e,1),t=Ao(t,e,1),e=bn(),t!==null&&(uh(t,1,e),On(t,e))}function ct(t,e,n){if(t.tag===3)fP(t,t,n);else for(;e!==null;){if(e.tag===3){fP(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Po===null||!Po.has(r))){t=vl(n,t),t=XM(e,t,1),e=Ao(e,t,1),t=bn(),e!==null&&(uh(e,1,t),On(e,t));break}}e=e.return}}function V6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&n,Dt===t&&(Ht&n)===n&&(It===4||It===3&&(Ht&130023424)===Ht&&500>dt()-hE?Ra(t,0):fE|=n),On(t,e)}function mj(t,e){e===0&&(t.mode&1?(e=md,md<<=1,!(md&130023424)&&(md=4194304)):e=1);var n=bn();t=Ci(t,e),t!==null&&(uh(t,e,n),On(t,n))}function F6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mj(t,n)}function B6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),mj(t,n)}var gj;gj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)Sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sn=!1,I6(t,e,n);Sn=!!(t.flags&131072)}else Sn=!1,Ze&&e.flags&1048576&&_M(e,Vp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lp(t,e),t=e.pendingProps;var i=pl(e,hn.current);nl(e,n),i=oE(null,e,r,t,i,n);var o=aE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,In(r)?(o=!0,$p(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eE(e),i.updater=Bg,e.stateNode=i,i._reactInternals=e,K_(e,r,t,n),e=Q_(null,e,r,!0,o,n)):(e.tag=0,Ze&&o&&Gx(e),yn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=z6(r),t=br(r,t),i){case 0:e=Y_(null,e,r,t,n);break e;case 1:e=tP(null,e,r,t,n);break e;case 11:e=ZA(null,e,r,t,n);break e;case 14:e=eP(null,e,r,br(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),Y_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),tP(t,e,r,i,n);case 3:e:{if(ZM(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,EM(t,e),Up(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=vl(Error(J(423)),e),e=nP(t,e,r,n,i);break e}else if(r!==i){i=vl(Error(J(424)),e),e=nP(t,e,r,n,i);break e}else for(Fn=So(e.stateNode.containerInfo.firstChild),zn=e,Ze=!0,Sr=null,n=PM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ml(),r===i){e=ki(t,e,n);break e}yn(t,e,r,n)}e=e.child}return e;case 5:return IM(e),t===null&&W_(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,F_(r,i)?a=null:o!==null&&F_(r,o)&&(e.flags|=32),JM(t,e),yn(t,e,a,n),e.child;case 6:return t===null&&W_(e),null;case 13:return ej(t,e,n);case 4:return tE(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gl(e,null,r,n):yn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),ZA(t,e,r,i,n);case 7:return yn(t,e,e.pendingProps,n),e.child;case 8:return yn(t,e,e.pendingProps.children,n),e.child;case 12:return yn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,He(Fp,r._currentValue),r._currentValue=a,o!==null)if(Nr(o.value,a)){if(o.children===i.children&&!Pn.current){e=ki(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=wi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),H_(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),H_(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}yn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,nl(e,n),i=ur(i),r=r(i),e.flags|=1,yn(t,e,r,n),e.child;case 14:return r=e.type,i=br(r,e.pendingProps),i=br(r.type,i),eP(t,e,r,i,n);case 15:return YM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),lp(t,e),e.tag=1,In(r)?(t=!0,$p(e)):t=!1,nl(e,n),SM(e,r,i),K_(e,r,i,n),Q_(null,e,r,!0,t,n);case 19:return tj(t,e,n);case 22:return QM(t,e,n)}throw Error(J(156,e.tag))};function yj(t,e){return z2(t,e)}function U6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,e,n,r){return new U6(t,e,n,r)}function gE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function z6(t){if(typeof t=="function")return gE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jx)return 11;if(t===Dx)return 14}return 2}function Oo(t,e){var n=t.alternate;return n===null?(n=ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fp(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")gE(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Rs:return Na(n.children,i,o,e);case Mx:a=8,i|=8;break;case v_:return t=ir(12,n,e,i|2),t.elementType=v_,t.lanes=o,t;case __:return t=ir(13,n,e,i),t.elementType=__,t.lanes=o,t;case b_:return t=ir(19,n,e,i),t.elementType=b_,t.lanes=o,t;case A2:return Wg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T2:a=10;break e;case S2:a=9;break e;case jx:a=11;break e;case Dx:a=14;break e;case io:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=ir(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Na(t,e,n,r){return t=ir(7,t,r,e),t.lanes=n,t}function Wg(t,e,n,r){return t=ir(22,t,r,e),t.elementType=A2,t.lanes=n,t.stateNode={isHidden:!1},t}function s0(t,e,n){return t=ir(6,t,null,e),t.lanes=n,t}function l0(t,e,n){return e=ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uv(0),this.expirationTimes=Uv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yE(t,e,n,r,i,o,a,s,l){return t=new q6(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ir(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eE(o),t}function W6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vj(t){if(!t)return Lo;t=t._reactInternals;e:{if(as(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(In(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(In(n))return yM(t,n,e)}return e}function _j(t,e,n,r,i,o,a,s,l){return t=yE(n,r,!0,t,i,o,a,s,l),t.context=vj(null),n=t.current,r=bn(),i=Io(n),o=wi(r,i),o.callback=e??null,Ao(n,o,i),t.current.lanes=i,uh(t,i,r),On(t,r),t}function Hg(t,e,n,r){var i=e.current,o=bn(),a=Io(i);return n=vj(n),e.context===null?e.context=n:e.pendingContext=n,e=wi(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ao(i,e,a),t!==null&&(kr(t,i,a,o),op(t,i,a)),a}function Yp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vE(t,e){hP(t,e),(t=t.alternate)&&hP(t,e)}function H6(){return null}var bj=typeof reportError=="function"?reportError:function(t){console.error(t)};function _E(t){this._internalRoot=t}Gg.prototype.render=_E.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Hg(t,e,null,null)};Gg.prototype.unmount=_E.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qa(function(){Hg(null,t,null,null)}),e[Oi]=null}};function Gg(t){this._internalRoot=t}Gg.prototype.unstable_scheduleHydration=function(t){if(t){var e=Y2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<lo.length&&e!==0&&e<lo[n].priority;n++);lo.splice(n,0,t),n===0&&J2(t)}};function bE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dP(){}function G6(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Yp(a);o.call(u)}}var a=_j(e,r,t,0,null,!1,!1,"",dP);return t._reactRootContainer=a,t[Oi]=a.current,Qc(t.nodeType===8?t.parentNode:t),qa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Yp(l);s.call(u)}}var l=yE(t,0,!1,null,null,!1,!1,"",dP);return t._reactRootContainer=l,t[Oi]=l.current,Qc(t.nodeType===8?t.parentNode:t),qa(function(){Hg(e,l,n,r)}),l}function Xg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Yp(a);s.call(l)}}Hg(e,a,t,i)}else a=G6(n,e,t,i,r);return Yp(a)}K2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ac(e.pendingLanes);n!==0&&(Vx(e,n|1),On(e,dt()),!(Pe&6)&&(_l=dt()+500,Ho()))}break;case 13:qa(function(){var r=Ci(t,1);if(r!==null){var i=bn();kr(r,t,1,i)}}),vE(t,1)}};Fx=function(t){if(t.tag===13){var e=Ci(t,134217728);if(e!==null){var n=bn();kr(e,t,134217728,n)}vE(t,134217728)}};X2=function(t){if(t.tag===13){var e=Io(t),n=Ci(t,e);if(n!==null){var r=bn();kr(n,t,e,r)}vE(t,e)}};Y2=function(){return De};Q2=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};C_=function(t,e,n){switch(e){case"input":if(E_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vg(r);if(!i)throw Error(J(90));I2(r),E_(r,i)}}}break;case"textarea":C2(t,n);break;case"select":e=n.value,e!=null&&Js(t,!!n.multiple,e,!1)}};$2=dE;L2=qa;var K6={usingClientEntryPoint:!1,Events:[fh,Ds,Vg,j2,D2,dE]},qu={findFiberByHostInstance:ba,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},X6={bundleType:qu.bundleType,version:qu.version,rendererPackageName:qu.rendererPackageName,rendererConfig:qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=B2(t),t===null?null:t.stateNode},findFiberByHostInstance:qu.findFiberByHostInstance||H6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{jg=Ad.inject(X6),Wr=Ad}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K6;Xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bE(e))throw Error(J(200));return W6(t,e,null,n)};Xn.createRoot=function(t,e){if(!bE(t))throw Error(J(299));var n=!1,r="",i=bj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yE(t,1,!1,null,null,n,!1,r,i),t[Oi]=e.current,Qc(t.nodeType===8?t.parentNode:t),new _E(e)};Xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=B2(e),t=t===null?null:t.stateNode,t};Xn.flushSync=function(t){return qa(t)};Xn.hydrate=function(t,e,n){if(!Kg(e))throw Error(J(200));return Xg(null,t,e,!0,n)};Xn.hydrateRoot=function(t,e,n){if(!bE(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=bj;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=_j(e,null,t,1,n??null,i,!1,o,a),t[Oi]=e.current,Qc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gg(e)};Xn.render=function(t,e,n){if(!Kg(e))throw Error(J(200));return Xg(null,t,e,!1,n)};Xn.unmountComponentAtNode=function(t){if(!Kg(t))throw Error(J(40));return t._reactRootContainer?(qa(function(){Xg(null,null,t,!1,function(){t._reactRootContainer=null,t[Oi]=null})}),!0):!1};Xn.unstable_batchedUpdates=dE;Xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kg(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Xg(t,e,n,!1,r)};Xn.version="18.2.0-next-9e3b772b8-20220608";function wj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wj)}catch(t){console.error(t)}}wj(),_2.exports=Xn;var Y6=_2.exports,pP=Y6;g_.createRoot=pP.createRoot,g_.hydrateRoot=pP.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(this,arguments)}var _o;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_o||(_o={}));const mP="popstate";function Q6(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return ub("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ej(i)}return Z6(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xj(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J6(){return Math.random().toString(36).substr(2,8)}function gP(t,e){return{usr:t.state,key:t.key,idx:e}}function ub(t,e,n,r){return n===void 0&&(n=null),sf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nu(e):e,{state:n,key:e&&e.key||r||J6()})}function Ej(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function nu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Z6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=_o.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(sf({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=_o.Pop;let v=c(),w=v==null?null:v-u;u=v,l&&l({action:s,location:g.location,delta:w})}function d(v,w){s=_o.Push;let _=ub(g.location,v,w);u=c()+1;let y=gP(_,u),I=g.createHref(_);try{a.pushState(y,"",I)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(I)}o&&l&&l({action:s,location:g.location,delta:1})}function p(v,w){s=_o.Replace;let _=ub(g.location,v,w);u=c();let y=gP(_,u),I=g.createHref(_);a.replaceState(y,"",I),o&&l&&l({action:s,location:g.location,delta:0})}function m(v){let w=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof v=="string"?v:Ej(v);return _=_.replace(/ $/,"%20"),xt(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let g={get action(){return s},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(mP,f),l=v,()=>{i.removeEventListener(mP,f),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let w=m(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:p,go(v){return a.go(v)}};return g}var yP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yP||(yP={}));function e9(t,e,n){return n===void 0&&(n="/"),t9(t,e,n)}function t9(t,e,n,r){let i=typeof e=="string"?nu(e):e,o=Aj(i.pathname||"/",n);if(o==null)return null;let a=Tj(t);n9(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=p9(o);s=f9(a[l],u)}return s}function Tj(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ma([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(xt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Tj(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:u9(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of Sj(o.path))i(o,a,l)}),e}function Sj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=Sj(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function n9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:c9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const r9=/^:[\w-]+$/,i9=3,o9=2,a9=1,s9=10,l9=-2,vP=t=>t==="*";function u9(t,e){let n=t.split("/"),r=n.length;return n.some(vP)&&(r+=l9),e&&(r+=o9),n.filter(i=>!vP(i)).reduce((i,o)=>i+(r9.test(o)?i9:o===""?a9:s9),r)}function c9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function f9(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=h9({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Ma([o,f.pathname]),pathnameBase:v9(Ma([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=Ma([o,f.pathnameBase]))}return a}function h9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=d9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let g=s[f]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function d9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xj(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function p9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xj(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Aj(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function m9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?nu(t):t;return{pathname:n?n.startsWith("/")?n:g9(n,e):e,search:_9(r),hash:b9(i)}}function g9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function u0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pj(t,e){let n=y9(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ij(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=nu(t):(i=sf({},t),xt(!i.pathname||!i.pathname.includes("?"),u0("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),u0("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),u0("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=m9(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ma=t=>t.join("/").replace(/\/\/+/g,"/"),v9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,b9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function w9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Oj=["post","put","patch","delete"];new Set(Oj);const x9=["get",...Oj];new Set(x9);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}const wE=j.createContext(null),E9=j.createContext(null),dh=j.createContext(null),Yg=j.createContext(null),ss=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Cj=j.createContext(null);function ph(){return j.useContext(Yg)!=null}function xE(){return ph()||xt(!1),j.useContext(Yg).location}function kj(t){j.useContext(dh).static||j.useLayoutEffect(t)}function T9(){let{isDataRoute:t}=j.useContext(ss);return t?$9():S9()}function S9(){ph()||xt(!1);let t=j.useContext(wE),{basename:e,future:n,navigator:r}=j.useContext(dh),{matches:i}=j.useContext(ss),{pathname:o}=xE(),a=JSON.stringify(Pj(i,n.v7_relativeSplatPath)),s=j.useRef(!1);return kj(()=>{s.current=!0}),j.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=Ij(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ma([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,o,t])}function A9(t,e){return P9(t,e)}function P9(t,e,n,r){ph()||xt(!1);let{navigator:i}=j.useContext(dh),{matches:o}=j.useContext(ss),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=xE(),c;if(e){var f;let v=typeof e=="string"?nu(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||xt(!1),c=v}else c=u;let d=c.pathname||"/",p=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=e9(t,{pathname:p}),g=R9(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Ma([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Ma([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&g?j.createElement(Yg.Provider,{value:{location:lf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:_o.Pop}},g):g}function I9(){let t=D9(),e=w9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const O9=j.createElement(I9,null);class C9 extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(ss.Provider,{value:this.props.routeContext},j.createElement(Cj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k9(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(wE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(ss.Provider,{value:e},r)}function R9(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||xt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:p}=n,m=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,d)=>{let p,m=!1,g=null,v=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||O9,l&&(u<0&&d===0?(L9("route-fallback"),m=!0,v=null):u===d&&(m=!0,v=f.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,d+1)),_=()=>{let y;return p?y=g:m?y=v:f.route.Component?y=j.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=c,j.createElement(k9,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?j.createElement(C9,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var Rj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Rj||{}),Nj=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nj||{});function N9(t){let e=j.useContext(wE);return e||xt(!1),e}function M9(t){let e=j.useContext(E9);return e||xt(!1),e}function j9(t){let e=j.useContext(ss);return e||xt(!1),e}function Mj(t){let e=j9(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function D9(){var t;let e=j.useContext(Cj),n=M9(),r=Mj();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $9(){let{router:t}=N9(Rj.UseNavigateStable),e=Mj(Nj.UseNavigateStable),n=j.useRef(!1);return kj(()=>{n.current=!0}),j.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lf({fromRouteId:e},o)))},[t,e])}const _P={};function L9(t,e,n){_P[t]||(_P[t]=!0)}function V9(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function F9(t){let{to:e,replace:n,state:r,relative:i}=t;ph()||xt(!1);let{future:o,static:a}=j.useContext(dh),{matches:s}=j.useContext(ss),{pathname:l}=xE(),u=T9(),c=Ij(e,Pj(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return j.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function cb(t){xt(!1)}function B9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=_o.Pop,navigator:o,static:a=!1,future:s}=t;ph()&&xt(!1);let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:o,static:a,future:lf({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=nu(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:m="default"}=r,g=j.useMemo(()=>{let v=Aj(c,l);return v==null?null:{location:{pathname:v,search:f,hash:d,state:p,key:m},navigationType:i}},[l,c,f,d,p,m,i]);return g==null?null:j.createElement(dh.Provider,{value:u},j.createElement(Yg.Provider,{children:n,value:g}))}function U9(t){let{children:e,location:n}=t;return A9(fb(e),n)}new Promise(()=>{});function fb(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let o=[...e,i];if(r.type===j.Fragment){n.push.apply(n,fb(r.props.children,o));return}r.type!==cb&&xt(!1),!r.props.index||!r.props.children||xt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=fb(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const z9="6";try{window.__reactRouterVersion=z9}catch{}const q9="startTransition",bP=F4[q9];function W9(t){let{basename:e,children:n,future:r,window:i}=t,o=j.useRef();o.current==null&&(o.current=Q6({window:i,v5Compat:!0}));let a=o.current,[s,l]=j.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=j.useCallback(f=>{u&&bP?bP(()=>l(f)):l(f)},[l,u]);return j.useLayoutEffect(()=>a.listen(c),[a,c]),j.useEffect(()=>V9(r),[r]),j.createElement(B9,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}var wP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wP||(wP={}));var xP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xP||(xP={}));var EP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},H9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Dj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4;let d=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):H9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new G9;const d=o<<2|s>>4;if(r.push(d),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K9=function(t){const e=jj(t);return Dj.encodeByteArray(e,!0)},Qp=function(t){return K9(t).replace(/\./g,"")},$j=function(t){try{return Dj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=()=>X9().__FIREBASE_DEFAULTS__,Q9=()=>{if(typeof process>"u"||typeof EP>"u")return;const t=EP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},J9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$j(t[1]);return e&&JSON.parse(e)},Qg=()=>{try{return Y9()||Q9()||J9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Lj=t=>{var e,n;return(n=(e=Qg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Z9=t=>{const e=Lj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Vj=()=>{var t;return(t=Qg())===null||t===void 0?void 0:t.config},Fj=t=>{var e;return(e=Qg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qp(JSON.stringify(n)),Qp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function rz(){var t;const e=(t=Qg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function az(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sz(){return!rz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jg(){try{return typeof indexedDB=="object"}catch{return!1}}function Zg(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function TE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz="FirebaseError";class Dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lz,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Go.prototype.create)}}class Go{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?uz(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Dr(i,s,r)}}function uz(t,e){return t.replace(cz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cz=/\{\$([^}]+)}/g;function fz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(TP(o)&&TP(a)){if(!uf(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function uc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hz(t,e){const n=new dz(t,e);return n.subscribe.bind(n)}class dz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=c0),i.error===void 0&&(i.error=c0),i.complete===void 0&&(i.complete=c0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function c0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=1e3,gz=2,yz=4*60*60*1e3,vz=.5;function SP(t,e=mz,n=gz){const r=e*Math.pow(n,t),i=Math.round(vz*r*(Math.random()-.5)*2);return Math.min(yz,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class fr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ez;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wz(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bz(t){return t===da?void 0:t}function wz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _z(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const Ez={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Tz=we.INFO,Sz={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},Az=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Sz[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gh{constructor(e){this.name=e,this._logLevel=Tz,this._logHandler=Az,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ez[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const Pz=(t,e)=>e.some(n=>t instanceof n);let AP,PP;function Iz(){return AP||(AP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Oz(){return PP||(PP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bj=new WeakMap,hb=new WeakMap,Uj=new WeakMap,f0=new WeakMap,SE=new WeakMap;function Cz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Co(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Bj.set(n,t)}).catch(()=>{}),SE.set(e,t),e}function kz(t){if(hb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});hb.set(t,e)}let db={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Uj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Rz(t){db=t(db)}function Nz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(h0(this),e,...n);return Uj.set(r,e.sort?e.sort():[e]),Co(r)}:Oz().includes(t)?function(...e){return t.apply(h0(this),e),Co(Bj.get(this))}:function(...e){return Co(t.apply(h0(this),e))}}function Mz(t){return typeof t=="function"?Nz(t):(t instanceof IDBTransaction&&kz(t),Pz(t,Iz())?new Proxy(t,db):t)}function Co(t){if(t instanceof IDBRequest)return Cz(t);if(f0.has(t))return f0.get(t);const e=Mz(t);return e!==t&&(f0.set(t,e),SE.set(e,t)),e}const h0=t=>SE.get(t);function zj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Co(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Co(a.result),l.oldVersion,l.newVersion,Co(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const jz=["get","getKey","getAll","getAllKeys","count"],Dz=["put","add","delete","clear"],d0=new Map;function IP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(d0.get(e))return d0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Dz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jz.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return d0.set(e,o),o}Rz(t=>({...t,get:(e,n,r)=>IP(e,n)||t.get(e,n,r),has:(e,n)=>!!IP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Lz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pb="@firebase/app",OP="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new gh("@firebase/app"),Vz="@firebase/app-compat",Fz="@firebase/analytics-compat",Bz="@firebase/analytics",Uz="@firebase/app-check-compat",zz="@firebase/app-check",qz="@firebase/auth",Wz="@firebase/auth-compat",Hz="@firebase/database",Gz="@firebase/data-connect",Kz="@firebase/database-compat",Xz="@firebase/functions",Yz="@firebase/functions-compat",Qz="@firebase/installations",Jz="@firebase/installations-compat",Zz="@firebase/messaging",e8="@firebase/messaging-compat",t8="@firebase/performance",n8="@firebase/performance-compat",r8="@firebase/remote-config",i8="@firebase/remote-config-compat",o8="@firebase/storage",a8="@firebase/storage-compat",s8="@firebase/firestore",l8="@firebase/vertexai-preview",u8="@firebase/firestore-compat",c8="firebase",f8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="[DEFAULT]",h8={[pb]:"fire-core",[Vz]:"fire-core-compat",[Bz]:"fire-analytics",[Fz]:"fire-analytics-compat",[zz]:"fire-app-check",[Uz]:"fire-app-check-compat",[qz]:"fire-auth",[Wz]:"fire-auth-compat",[Hz]:"fire-rtdb",[Gz]:"fire-data-connect",[Kz]:"fire-rtdb-compat",[Xz]:"fire-fn",[Yz]:"fire-fn-compat",[Qz]:"fire-iid",[Jz]:"fire-iid-compat",[Zz]:"fire-fcm",[e8]:"fire-fcm-compat",[t8]:"fire-perf",[n8]:"fire-perf-compat",[r8]:"fire-rc",[i8]:"fire-rc-compat",[o8]:"fire-gcs",[a8]:"fire-gcs-compat",[s8]:"fire-fst",[u8]:"fire-fst-compat",[l8]:"fire-vertex","fire-js":"fire-js",[c8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=new Map,d8=new Map,gb=new Map;function CP(t,e){try{t.container.addComponent(e)}catch(n){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mr(t){const e=t.name;if(gb.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;gb.set(e,t);for(const n of Jp.values())CP(n,t);for(const n of d8.values())CP(n,t);return!0}function Ko(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ir(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ko=new Go("app","Firebase",p8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=f8;function qj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ko.create("bad-app-name",{appName:String(i)});if(n||(n=Vj()),!n)throw ko.create("no-options");const o=Jp.get(i);if(o){if(uf(n,o.options)&&uf(r,o.config))return o;throw ko.create("duplicate-app",{appName:i})}const a=new xz(i);for(const l of gb.values())a.addComponent(l);const s=new m8(n,r,a);return Jp.set(i,s),s}function ey(t=mb){const e=Jp.get(t);if(!e&&t===mb&&Vj())return qj();if(!e)throw ko.create("no-app",{appName:t});return e}function Cn(t,e,n){var r;let i=(r=h8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(s.join(" "));return}Mr(new fr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8="firebase-heartbeat-database",y8=1,cf="firebase-heartbeat-store";let p0=null;function Wj(){return p0||(p0=zj(g8,y8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cf)}catch(n){console.warn(n)}}}}).catch(t=>{throw ko.create("idb-open",{originalErrorMessage:t.message})})),p0}async function v8(t){try{const n=(await Wj()).transaction(cf),r=await n.objectStore(cf).get(Hj(t));return await n.done,r}catch(e){if(e instanceof Dr)Ri.warn(e.message);else{const n=ko.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(n.message)}}}async function kP(t,e){try{const r=(await Wj()).transaction(cf,"readwrite");await r.objectStore(cf).put(e,Hj(t)),await r.done}catch(n){if(n instanceof Dr)Ri.warn(n.message);else{const r=ko.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ri.warn(r.message)}}}function Hj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=1024,b8=30*24*60*60*1e3;class w8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=RP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=b8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ri.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=RP(),{heartbeatsToSend:r,unsentEntries:i}=x8(this._heartbeatsCache.heartbeats),o=Qp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ri.warn(n),""}}}function RP(){return new Date().toISOString().substring(0,10)}function x8(t,e=_8){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),NP(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class E8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jg()?Zg().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await v8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function NP(t){return Qp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(t){Mr(new fr("platform-logger",e=>new $z(e),"PRIVATE")),Mr(new fr("heartbeat",e=>new w8(e),"PRIVATE")),Cn(pb,OP,t),Cn(pb,OP,"esm2017"),Cn("fire-js","")}T8("");function AE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Gj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S8=Gj,Kj=new Go("auth","Firebase",Gj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=new gh("@firebase/auth");function A8(t,...e){Zp.logLevel<=we.WARN&&Zp.warn(`Auth (${ru}): ${t}`,...e)}function hp(t,...e){Zp.logLevel<=we.ERROR&&Zp.error(`Auth (${ru}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,...e){throw IE(t,...e)}function Rr(t,...e){return IE(t,...e)}function PE(t,e,n){const r=Object.assign(Object.assign({},S8()),{[e]:n});return new Go("auth","Firebase",r).create(e,{appName:t.name})}function xi(t){return PE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&hr(t,"argument-error"),PE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function IE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Kj.create(t,...e)}function me(t,e,...n){if(!t)throw IE(e,...n)}function pi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hp(e),new Error(e)}function Ni(t,e){t||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function I8(){return MP()==="http:"||MP()==="https:"}function MP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I8()||EE()||"connection"in navigator)?navigator.onLine:!0}function C8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ni(n>e,"Short delay should be less than long delay!"),this.isMobile=nz()||oz()}get(){return O8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t,e){Ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=new yh(3e4,6e4);function qi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wi(t,e,n,r,i={}){return Yj(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=mh(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return iz()||(u.referrerPolicy="no-referrer"),Xj.fetch()(Qj(t,t.config.apiHost,n,s),u)})}async function Yj(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},k8),e);try{const i=new M8(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Pd(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pd(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Pd(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Pd(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw PE(t,c,u);hr(t,c)}}catch(i){if(i instanceof Dr)throw i;hr(t,"network-request-failed",{message:String(i)})}}async function vh(t,e,n,r,i={}){const o=await Wi(t,e,n,r,i);return"mfaPendingCredential"in o&&hr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Qj(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?OE(t.config,i):`${t.config.apiScheme}://${i}`}function N8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),R8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rr(t,e,r);return i.customData._tokenResponse=n,i}function jP(t){return t!==void 0&&t.enterprise!==void 0}class j8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return N8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function D8(t,e){return Wi(t,"GET","/v2/recaptchaConfig",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $8(t,e){return Wi(t,"POST","/v1/accounts:delete",e)}async function Jj(t,e){return Wi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L8(t,e=!1){const n=at(t),r=await n.getIdToken(e),i=CE(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Sc(m0(i.auth_time)),issuedAtTime:Sc(m0(i.iat)),expirationTime:Sc(m0(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function m0(t){return Number(t)*1e3}function CE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hp("JWT malformed, contained fewer than 3 sections"),null;try{const i=$j(n);return i?JSON.parse(i):(hp("Failed to decode base64 JWT payload"),null)}catch(i){return hp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function DP(t){const e=CE(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dr&&V8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function V8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function em(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ff(t,Jj(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Zj(o.providerUserInfo):[],s=U8(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new vb(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function B8(t){const e=at(t);await em(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Zj(t){return t.map(e=>{var{providerId:n}=e,r=AE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(t,e){const n=await Yj(t,{},async()=>{const r=mh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=Qj(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Xj.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function q8(t,e){return Wi(t,"POST","/v2/accounts:revokeToken",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=DP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await z8(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new il;return r&&(me(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=AE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new F8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ff(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return L8(this,e)}reload(){return B8(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await em(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ir(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await ff(this,$8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(s=n.tenantId)!==null&&s!==void 0?s:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:I,isAnonymous:S,providerData:P,stsTokenManager:T}=n;me(y&&T,e,"internal-error");const x=il.fromJSON(this.name,T);me(typeof y=="string",e,"internal-error"),no(f,e.name),no(d,e.name),me(typeof I=="boolean",e,"internal-error"),me(typeof S=="boolean",e,"internal-error"),no(p,e.name),no(m,e.name),no(g,e.name),no(v,e.name),no(w,e.name),no(_,e.name);const O=new mi({uid:y,auth:e,email:d,emailVerified:I,displayName:f,isAnonymous:S,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:x,createdAt:w,lastLoginAt:_});return P&&Array.isArray(P)&&(O.providerData=P.map(C=>Object.assign({},C))),v&&(O._redirectEventId=v),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new il;i.updateFromServerResponse(n);const o=new mi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await em(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Zj(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new il;s.updateFromIdToken(r);const l=new mi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new vb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=new Map;function gi(t){Ni(t instanceof Function,"Expected a class definition");let e=$P.get(t);return e?(Ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$P.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eD.type="NONE";const LP=eD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t,e,n){return`firebase:${t}:${e}:${n}`}class ol{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=dp(this.userKey,i.apiKey,o),this.fullPersistenceKey=dp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ol(gi(LP),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||gi(LP);const a=dp(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const f=mi._fromJSON(e,c);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ol(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new ol(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aD(e))return"Blackberry";if(sD(e))return"Webos";if(nD(e))return"Safari";if((e.includes("chrome/")||rD(e))&&!e.includes("edge/"))return"Chrome";if(oD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tD(t=dn()){return/firefox\//i.test(t)}function nD(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rD(t=dn()){return/crios\//i.test(t)}function iD(t=dn()){return/iemobile/i.test(t)}function oD(t=dn()){return/android/i.test(t)}function aD(t=dn()){return/blackberry/i.test(t)}function sD(t=dn()){return/webos/i.test(t)}function kE(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W8(t=dn()){var e;return kE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function H8(){return az()&&document.documentMode===10}function lD(t=dn()){return kE(t)||oD(t)||sD(t)||aD(t)||/windows phone/i.test(t)||iD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t,e=[]){let n;switch(t){case"Browser":n=VP(dn());break;case"Worker":n=`${VP(dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ru}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K8(t,e={}){return Wi(t,"GET","/v2/passwordPolicy",qi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=6;class Y8{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:X8,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FP(this),this.idTokenSubscription=new FP(this),this.beforeStateQueue=new G8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jj(this,{idToken:e}),r=await mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ir(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await em(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ir(this.app))return Promise.reject(xi(this));const n=e?at(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ir(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ir(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K8(this),n=new Y8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Go("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await q8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gi(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&A8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Hi(t){return at(t)}class FP{constructor(e){this.auth=e,this.observer=null,this.addObserver=hz(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ty={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J8(t){ty=t}function cD(t){return ty.loadJS(t)}function Z8(){return ty.recaptchaEnterpriseScript}function eq(){return ty.gapiScript}function tq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const nq="recaptcha-enterprise",rq="NO_RECAPTCHA";class iq{constructor(e){this.type=nq,this.auth=Hi(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{D8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new j8(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;jP(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(rq)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&jP(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Z8();l.length!==0&&(l+=s),cD(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function BP(t,e,n,r=!1){const i=new iq(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function tm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await BP(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await BP(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oq(t,e){const n=Ko(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(uf(o,e??{}))return i;hr(i,"already-initialized")}return n.initialize({options:e})}function aq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function sq(t,e,n){const r=Hi(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=fD(e),{host:a,port:s}=lq(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),uq()}function fD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lq(t){const e=fD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:UP(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:UP(a)}}}function UP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,n){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}async function cq(t,e){return Wi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fq(t,e){return vh(t,"POST","/v1/accounts:signInWithPassword",qi(t,e))}async function hq(t,e){return Wi(t,"POST","/v1/accounts:sendOobCode",qi(t,e))}async function dq(t,e){return hq(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pq(t,e){return vh(t,"POST","/v1/accounts:signInWithEmailLink",qi(t,e))}async function mq(t,e){return vh(t,"POST","/v1/accounts:signInWithEmailLink",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends RE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new hf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(e,n,"signInWithPassword",fq);case"emailLink":return pq(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(e,r,"signUpPassword",cq);case"emailLink":return mq(e,{idToken:n,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e){return vh(t,"POST","/v1/accounts:signInWithIdp",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq="http://localhost";class Wa extends RE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=AE(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Wa(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return al(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,al(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,al(e,n)}buildRequest(){const e={requestUri:gq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vq(t){const e=lc(uc(t)).link,n=e?lc(uc(e)).deep_link_id:null,r=lc(uc(t)).deep_link_id;return(r?lc(uc(r)).link:null)||r||n||e||t}class NE{constructor(e){var n,r,i,o,a,s;const l=lc(uc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=yq((i=l.mode)!==null&&i!==void 0?i:null);me(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=vq(e);try{return new NE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this.providerId=iu.PROVIDER_ID}static credential(e,n){return hf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=NE.parseLink(n);return me(r,"argument-error"),hf._fromEmailAndCode(e,r.code,r.tenantId)}}iu.PROVIDER_ID="password";iu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";iu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends ME{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends _h{constructor(){super("facebook.com")}static credential(e){return Wa._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.FACEBOOK_SIGN_IN_METHOD="facebook.com";co.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends _h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wa._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends _h{constructor(){super("github.com")}static credential(e){return Wa._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.GITHUB_SIGN_IN_METHOD="github.com";fo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends _h{constructor(){super("twitter.com")}static credential(e,n){return Wa._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ho.credential(n,r)}catch{return null}}}ho.TWITTER_SIGN_IN_METHOD="twitter.com";ho.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _q(t,e){return vh(t,"POST","/v1/accounts:signUp",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await mi._fromIdTokenResponse(e,r,i),a=zP(r);return new Ha({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=zP(r);return new Ha({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function zP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends Dr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,nm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new nm(e,n,r,i)}}function hD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?nm._fromErrorAndOperation(t,o,e,r):o})}async function bq(t,e,n=!1){const r=await ff(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ha._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wq(t,e,n=!1){const{auth:r}=t;if(Ir(r.app))return Promise.reject(xi(r));const i="reauthenticate";try{const o=await ff(t,hD(r,i,e,t),n);me(o.idToken,r,"internal-error");const a=CE(o.idToken);me(a,r,"internal-error");const{sub:s}=a;return me(t.uid===s,r,"user-mismatch"),Ha._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&hr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e,n=!1){if(Ir(t.app))return Promise.reject(xi(t));const r="signIn",i=await hD(t,r,e),o=await Ha._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function xq(t,e){return dD(Hi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t){const e=Hi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Eq(t,e,n){const r=Hi(t);await tm(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",dq)}async function Tq(t,e,n){if(Ir(t.app))return Promise.reject(xi(t));const r=Hi(t),a=await tm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_q).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&pD(t),l}),s=await Ha._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function Sq(t,e,n){return Ir(t.app)?Promise.reject(xi(t)):xq(at(t),iu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pD(t),r})}function Aq(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function Pq(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function Iq(t,e,n,r){return at(t).onAuthStateChanged(e,n,r)}function Oq(t){return at(t).signOut()}const rm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rm,"1"),this.storage.removeItem(rm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq=1e3,kq=10;class gD extends mD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);H8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,kq):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Cq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gD.type="LOCAL";const Rq=gD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD extends mD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yD.type="SESSION";const vD=yD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ny(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await Nq(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ny.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=jE("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function jq(t){Gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function Dq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $q(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Lq(){return _D()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="firebaseLocalStorageDb",Vq=1,im="firebaseLocalStorage",wD="fbase_key";class bh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ry(t,e){return t.transaction([im],e?"readwrite":"readonly").objectStore(im)}function Fq(){const t=indexedDB.deleteDatabase(bD);return new bh(t).toPromise()}function _b(){const t=indexedDB.open(bD,Vq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(im,{keyPath:wD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(im)?e(r):(r.close(),await Fq(),e(await _b()))})})}async function qP(t,e,n){const r=ry(t,!0).put({[wD]:e,value:n});return new bh(r).toPromise()}async function Bq(t,e){const n=ry(t,!1).get(e),r=await new bh(n).toPromise();return r===void 0?null:r.value}function WP(t,e){const n=ry(t,!0).delete(e);return new bh(n).toPromise()}const Uq=800,zq=3;class xD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _b(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _D()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ny._getInstance(Lq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Dq(),!this.activeServiceWorker)return;this.sender=new Mq(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$q()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _b();return await qP(e,rm,"1"),await WP(e,rm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Bq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>WP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=ry(i,!1).getAll();return new bh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Uq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xD.type="LOCAL";const qq=xD;new yh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e){return e?gi(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE extends RE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Wq(t){return dD(t.auth,new DE(t),t.bypassAuthState)}function Hq(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),wq(n,new DE(t),t.bypassAuthState)}async function Gq(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),bq(n,new DE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wq;case"linkViaPopup":case"linkViaRedirect":return Gq;case"reauthViaPopup":case"reauthViaRedirect":return Hq;default:hr(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=new yh(2e3,1e4);async function Xq(t,e,n){if(Ir(t.app))return Promise.reject(Rr(t,"operation-not-supported-in-this-environment"));const r=Hi(t);P8(t,e,ME);const i=ED(r,n);return new Ea(r,"signInViaPopup",e,i).executeNotNull()}class Ea extends TD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=jE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Kq.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq="pendingRedirect",pp=new Map;class Qq extends TD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pp.get(this.auth._key());if(!e){try{const r=await Jq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pp.set(this.auth._key(),e)}return this.bypassAuthState||pp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jq(t,e){const n=tW(e),r=eW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Zq(t,e){pp.set(t._key(),e)}function eW(t){return gi(t._redirectPersistence)}function tW(t){return dp(Yq,t.config.apiKey,t.name)}async function nW(t,e,n=!1){if(Ir(t.app))return Promise.reject(xi(t));const r=Hi(t),i=ED(r,e),a=await new Qq(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW=10*60*1e3;class iW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rW&&this.cachedEventUids.clear(),this.cachedEventUids.has(HP(e))}saveEventToCache(e){this.cachedEventUids.add(HP(e)),this.lastProcessedEventTime=Date.now()}}function HP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aW(t,e={}){return Wi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lW=/^https?/;async function uW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aW(t);for(const n of e)try{if(cW(n))return}catch{}hr(t,"unauthorized-domain")}function cW(t){const e=yb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!lW.test(n))return!1;if(sW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fW=new yh(3e4,6e4);function GP(){const t=Gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hW(t){return new Promise((e,n)=>{var r,i,o;function a(){GP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GP(),n(Rr(t,"network-request-failed"))},timeout:fW.get()})}if(!((i=(r=Gr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Gr().gapi)===null||o===void 0)&&o.load)a();else{const s=tq("iframefcb");return Gr()[s]=()=>{gapi.load?a():n(Rr(t,"network-request-failed"))},cD(`${eq()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw mp=null,e})}let mp=null;function dW(t){return mp=mp||hW(t),mp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW=new yh(5e3,15e3),mW="__/auth/iframe",gW="emulator/auth/iframe",yW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _W(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?OE(e,gW):`https://${t.config.authDomain}/${mW}`,r={apiKey:e.apiKey,appName:t.name,v:ru},i=vW.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${mh(r).slice(1)}`}async function bW(t){const e=await dW(t),n=Gr().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:_W(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yW,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Rr(t,"network-request-failed"),s=Gr().setTimeout(()=>{o(a)},pW.get());function l(){Gr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xW=500,EW=600,TW="_blank",SW="http://localhost";class KP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AW(t,e,n,r=xW,i=EW){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},wW),{width:r.toString(),height:i.toString(),top:o,left:a}),u=dn().toLowerCase();n&&(s=rD(u)?TW:n),tD(u)&&(e=e||SW,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(W8(u)&&s!=="_self")return PW(e||"",s),new KP(null);const f=window.open(e||"",s,c);me(f,t,"popup-blocked");try{f.focus()}catch{}return new KP(f)}function PW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW="__/auth/handler",OW="emulator/auth/handler",CW=encodeURIComponent("fac");async function XP(t,e,n,r,i,o){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ru,eventId:i};if(e instanceof ME){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",fz(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))a[c]=f}if(e instanceof _h){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${CW}=${encodeURIComponent(l)}`:"";return`${kW(t)}?${mh(s).slice(1)}${u}`}function kW({config:t}){return t.emulator?OE(t,OW):`https://${t.authDomain}/${IW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="webStorageSupport";class RW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vD,this._completeRedirectFn=nW,this._overrideRedirectResult=Zq}async _openPopup(e,n,r,i){var o;Ni((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await XP(e,n,r,yb(),i);return AW(e,a,jE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await XP(e,n,r,yb(),i);return jq(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ni(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bW(e),r=new iW(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(g0,{type:g0},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[g0];a!==void 0&&n(!!a),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lD()||nD()||kE()}}const NW=RW;var YP="@firebase/auth",QP="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DW(t){Mr(new fr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;me(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uD(t)},u=new Q8(r,i,o,l);return aq(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mr(new fr("auth-internal",e=>{const n=Hi(e.getProvider("auth").getImmediate());return(r=>new MW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cn(YP,QP,jW(t)),Cn(YP,QP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W=5*60,LW=Fj("authIdTokenMaxAge")||$W;let JP=null;const VW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LW)return;const i=n==null?void 0:n.token;JP!==i&&(JP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function FW(t=ey()){const e=Ko(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oq(t,{popupRedirectResolver:NW,persistence:[qq,Rq,vD]}),r=Fj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=VW(o.toString());Pq(n,a,()=>a(n.currentUser)),Aq(n,s=>a(s))}}const i=Lj("auth");return i&&sq(n,`http://${i}`),n}function BW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}J8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Rr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",BW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DW("Browser");const AD=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),iy=j.createContext({}),oy=j.createContext(null),ay=typeof document<"u",$E=ay?j.useLayoutEffect:j.useEffect,PD=j.createContext({strict:!1}),LE=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),UW="framerAppearId",ID="data-"+LE(UW);function zW(t,e,n,r){const{visualElement:i}=j.useContext(iy),o=j.useContext(PD),a=j.useContext(oy),s=j.useContext(AD).reducedMotion,l=j.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:s}));const u=l.current;j.useInsertionEffect(()=>{u&&u.update(n,a)});const c=j.useRef(!!(n[ID]&&!window.HandoffComplete));return $E(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),j.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function zs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qW(t,e,n){return j.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):zs(n)&&(n.current=r))},[e])}function df(t){return typeof t=="string"||Array.isArray(t)}function sy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const VE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],FE=["initial",...VE];function ly(t){return sy(t.animate)||FE.some(e=>df(t[e]))}function OD(t){return!!(ly(t)||t.variants)}function WW(t,e){if(ly(t)){const{initial:n,animate:r}=t;return{initial:n===!1||df(n)?n:void 0,animate:df(r)?r:void 0}}return t.inherit!==!1?e:{}}function HW(t){const{initial:e,animate:n}=WW(t,j.useContext(iy));return j.useMemo(()=>({initial:e,animate:n}),[ZP(e),ZP(n)])}function ZP(t){return Array.isArray(t)?t.join(" "):t}const eI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pf={};for(const t in eI)pf[t]={isEnabled:e=>eI[t].some(n=>!!e[n])};function GW(t){for(const e in t)pf[e]={...pf[e],...t[e]}}const BE=j.createContext({}),CD=j.createContext({}),KW=Symbol.for("motionComponentSymbol");function XW({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&GW(t);function o(s,l){let u;const c={...j.useContext(AD),...s,layoutId:YW(s)},{isStatic:f}=c,d=HW(s),p=r(s,f);if(!f&&ay){d.visualElement=zW(i,p,c,e);const m=j.useContext(CD),g=j.useContext(PD).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,g,t,m))}return j.createElement(iy.Provider,{value:d},u&&d.visualElement?j.createElement(u,{visualElement:d.visualElement,...c}):null,n(i,s,qW(p,d.visualElement,l),p,f,d.visualElement))}const a=j.forwardRef(o);return a[KW]=i,a}function YW({layoutId:t}){const e=j.useContext(BE).id;return e&&t!==void 0?e+"-"+t:t}function QW(t){function e(r,i={}){return XW(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const JW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function UE(t){return typeof t!="string"||t.includes("-")?!1:!!(JW.indexOf(t)>-1||/[A-Z]/.test(t))}const om={};function ZW(t){Object.assign(om,t)}const wh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ls=new Set(wh);function kD(t,{layout:e,layoutId:n}){return ls.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!om[t]||t==="opacity")}const Rn=t=>!!(t&&t.getVelocity),eH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tH=wh.length;function nH(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let a=0;a<tH;a++){const s=wh[a];if(t[s]!==void 0){const l=eH[s]||s;o+=`${l}(${t[s]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const RD=t=>e=>typeof e=="string"&&e.startsWith(t),ND=RD("--"),bb=RD("var(--"),rH=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,iH=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Vo=(t,e,n)=>Math.min(Math.max(n,t),e),us={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ac={...us,transform:t=>Vo(0,1,t)},Id={...us,default:1},Pc=t=>Math.round(t*1e5)/1e5,uy=/(-)?([\d]*\.?[\d])+/g,MD=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,oH=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function xh(t){return typeof t=="string"}const Eh=t=>({test:e=>xh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ro=Eh("deg"),Kr=Eh("%"),de=Eh("px"),aH=Eh("vh"),sH=Eh("vw"),tI={...Kr,parse:t=>Kr.parse(t)/100,transform:t=>Kr.transform(t*100)},nI={...us,transform:Math.round},jD={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,size:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,rotate:ro,rotateX:ro,rotateY:ro,rotateZ:ro,scale:Id,scaleX:Id,scaleY:Id,scaleZ:Id,skew:ro,skewX:ro,skewY:ro,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Ac,originX:tI,originY:tI,originZ:de,zIndex:nI,fillOpacity:Ac,strokeOpacity:Ac,numOctaves:nI};function zE(t,e,n,r){const{style:i,vars:o,transform:a,transformOrigin:s}=t;let l=!1,u=!1,c=!0;for(const f in e){const d=e[f];if(ND(f)){o[f]=d;continue}const p=jD[f],m=iH(d,p);if(ls.has(f)){if(l=!0,a[f]=m,!c)continue;d!==(p.default||0)&&(c=!1)}else f.startsWith("origin")?(u=!0,s[f]=m):i[f]=m}if(e.transform||(l||r?i.transform=nH(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:d="50%",originZ:p=0}=s;i.transformOrigin=`${f} ${d} ${p}`}}const qE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DD(t,e,n){for(const r in e)!Rn(e[r])&&!kD(r,n)&&(t[r]=e[r])}function lH({transformTemplate:t},e,n){return j.useMemo(()=>{const r=qE();return zE(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function uH(t,e,n){const r=t.style||{},i={};return DD(i,r,t),Object.assign(i,lH(t,e,n)),t.transformValues?t.transformValues(i):i}function cH(t,e,n){const r={},i=uH(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const fH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function am(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fH.has(t)}let $D=t=>!am(t);function hH(t){t&&($D=e=>e.startsWith("on")?!am(e):t(e))}try{hH(require("@emotion/is-prop-valid").default)}catch{}function dH(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||($D(i)||n===!0&&am(i)||!e&&!am(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function rI(t,e,n){return typeof t=="string"?t:de.transform(e+n*t)}function pH(t,e,n){const r=rI(e,t.x,t.width),i=rI(n,t.y,t.height);return`${r} ${i}`}const mH={offset:"stroke-dashoffset",array:"stroke-dasharray"},gH={offset:"strokeDashoffset",array:"strokeDasharray"};function yH(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?mH:gH;t[o.offset]=de.transform(-r);const a=de.transform(e),s=de.transform(n);t[o.array]=`${a} ${s}`}function WE(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:a,pathSpacing:s=1,pathOffset:l=0,...u},c,f,d){if(zE(t,u,c,d),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(i!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=pH(g,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),a!==void 0&&yH(p,a,s,l,!1)}const LD=()=>({...qE(),attrs:{}}),HE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function vH(t,e,n,r){const i=j.useMemo(()=>{const o=LD();return WE(o,e,{enableHardwareAcceleration:!1},HE(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};DD(o,t.style,t),i.style={...o,...i.style}}return i}function _H(t=!1){return(n,r,i,{latestValues:o},a)=>{const l=(UE(n)?vH:cH)(r,o,a,n),c={...dH(r,typeof n=="string",t),...l,ref:i},{children:f}=r,d=j.useMemo(()=>Rn(f)?f.get():f,[f]);return j.createElement(n,{...c,children:d})}}function VD(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const FD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BD(t,e,n,r){VD(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(FD.has(i)?i:LE(i),e.attrs[i])}function GE(t,e){const{style:n}=t,r={};for(const i in n)(Rn(n[i])||e.style&&Rn(e.style[i])||kD(i,t))&&(r[i]=n[i]);return r}function UD(t,e){const n=GE(t,e);for(const r in t)if(Rn(t[r])||Rn(e[r])){const i=wh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function KE(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function zD(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const sm=t=>Array.isArray(t),bH=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),wH=t=>sm(t)?t[t.length-1]||0:t;function gp(t){const e=Rn(t)?t.get():t;return bH(e)?e.toValue():e}function xH({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const a={latestValues:EH(r,i,o,t),renderState:e()};return n&&(a.mount=s=>n(r,s,a)),a}const qD=t=>(e,n)=>{const r=j.useContext(iy),i=j.useContext(oy),o=()=>xH(t,e,r,i);return n?o():zD(o)};function EH(t,e,n,r){const i={},o=r(t,{});for(const d in o)i[d]=gp(o[d]);let{initial:a,animate:s}=t;const l=ly(t),u=OD(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),s===void 0&&(s=e.animate));let c=n?n.initial===!1:!1;c=c||a===!1;const f=c?s:a;return f&&typeof f!="boolean"&&!sy(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=KE(t,p);if(!m)return;const{transitionEnd:g,transition:v,...w}=m;for(const _ in w){let y=w[_];if(Array.isArray(y)){const I=c?y.length-1:0;y=y[I]}y!==null&&(i[_]=y)}for(const _ in g)i[_]=g[_]}),i}const pt=t=>t;class iI{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function TH(t){let e=new iI,n=new iI,r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:(l,u=!1,c=!1)=>{const f=c&&i,d=f?e:n;return u&&a.add(l),d.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),a.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const c=e.order[u];c(l),a.has(c)&&(s.schedule(c),t())}i=!1,o&&(o=!1,s.process(l))}};return s}const Od=["prepare","read","update","preRender","render","postRender"],SH=40;function AH(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Od.reduce((f,d)=>(f[d]=TH(()=>n=!0),f),{}),a=f=>o[f].process(i),s=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,SH),1),i.timestamp=f,i.isProcessing=!0,Od.forEach(a),i.isProcessing=!1,n&&e&&(r=!1,t(s))},l=()=>{n=!0,r=!0,i.isProcessing||t(s)};return{schedule:Od.reduce((f,d)=>{const p=o[d];return f[d]=(m,g=!1,v=!1)=>(n||l(),p.schedule(m,g,v)),f},{}),cancel:f=>Od.forEach(d=>o[d].cancel(f)),state:i,steps:o}}const{schedule:Ge,cancel:Mi,state:rn,steps:y0}=AH(typeof requestAnimationFrame<"u"?requestAnimationFrame:pt,!0),PH={useVisualState:qD({scrapeMotionValuesFromProps:UD,createRenderState:LD,onMount:(t,e,{renderState:n,latestValues:r})=>{Ge.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ge.render(()=>{WE(n,r,{enableHardwareAcceleration:!1},HE(e.tagName),t.transformTemplate),BD(e,n)})}})},IH={useVisualState:qD({scrapeMotionValuesFromProps:GE,createRenderState:qE})};function OH(t,{forwardMotionProps:e=!1},n,r){return{...UE(t)?PH:IH,preloadedFeatures:n,useRender:_H(e),createVisualElement:r,Component:t}}function yi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const WD=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function cy(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const CH=t=>e=>WD(e)&&t(e,cy(e));function Ei(t,e,n,r){return yi(t,e,CH(n),r)}const kH=(t,e)=>n=>e(t(n)),Ro=(...t)=>t.reduce(kH);function HD(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const oI=HD("dragHorizontal"),aI=HD("dragVertical");function GD(t){let e=!1;if(t==="y")e=aI();else if(t==="x")e=oI();else{const n=oI(),r=aI();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function KD(){const t=GD(!0);return t?(t(),!1):!0}class Xo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function sI(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,a)=>{if(o.pointerType==="touch"||KD())return;const s=t.getProps();t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",e),s[r]&&Ge.update(()=>s[r](o,a))};return Ei(t.current,n,i,{passive:!t.getProps()[r]})}class RH extends Xo{mount(){this.unmount=Ro(sI(this.node,!0),sI(this.node,!1))}unmount(){}}class NH extends Xo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ro(yi(this.node.current,"focus",()=>this.onFocus()),yi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const XD=(t,e)=>e?t===e?!0:XD(t,e.parentElement):!1;function v0(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,cy(n))}class MH extends Xo{constructor(){super(...arguments),this.removeStartListeners=pt,this.removeEndListeners=pt,this.removeAccessibleListeners=pt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Ei(window,"pointerup",(s,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:f}=this.node.getProps();Ge.update(()=>{!f&&!XD(this.node.current,s.target)?c&&c(s,l):u&&u(s,l)})},{passive:!(r.onTap||r.onPointerUp)}),a=Ei(window,"pointercancel",(s,l)=>this.cancelPress(s,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ro(o,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=s=>{s.key!=="Enter"||!this.checkPressEnd()||v0("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Ge.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=yi(this.node.current,"keyup",a),v0("down",(s,l)=>{this.startPress(s,l)})},n=yi(this.node.current,"keydown",e),r=()=>{this.isPressing&&v0("cancel",(o,a)=>this.cancelPress(o,a))},i=yi(this.node.current,"blur",r);this.removeAccessibleListeners=Ro(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ge.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!KD()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ge.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ei(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=yi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ro(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const wb=new WeakMap,_0=new WeakMap,jH=t=>{const e=wb.get(t.target);e&&e(t)},DH=t=>{t.forEach(jH)};function $H({root:t,...e}){const n=t||document;_0.has(n)||_0.set(n,{});const r=_0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(DH,{root:t,...e})),r[i]}function LH(t,e,n){const r=$H(e);return wb.set(t,n),r.observe(t),()=>{wb.delete(t),r.unobserve(t)}}const VH={some:0,all:1};class FH extends Xo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:VH[i]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return LH(this.node.current,a,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(BH(e,n))&&this.startObserver()}unmount(){}}function BH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const UH={inView:{Feature:FH},tap:{Feature:MH},focus:{Feature:NH},hover:{Feature:RH}};function YD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function zH(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function qH(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function fy(t,e,n){const r=t.getProps();return KE(r,e,n!==void 0?n:r.custom,zH(t),qH(t))}let XE=pt;const ja=t=>t*1e3,Ti=t=>t/1e3,WH={current:!1},QD=t=>Array.isArray(t)&&typeof t[0]=="number";function JD(t){return!!(!t||typeof t=="string"&&ZD[t]||QD(t)||Array.isArray(t)&&t.every(JD))}const cc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ZD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cc([0,.65,.55,1]),circOut:cc([.55,0,1,.45]),backIn:cc([.31,.01,.66,-.59]),backOut:cc([.33,1.53,.69,.99])};function e$(t){if(t)return QD(t)?cc(t):Array.isArray(t)?t.map(e$):ZD[t]}function HH(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:a="loop",ease:s,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=e$(s);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function GH(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const t$=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,KH=1e-7,XH=12;function YH(t,e,n,r,i){let o,a,s=0;do a=e+(n-e)/2,o=t$(a,r,i)-t,o>0?n=a:e=a;while(Math.abs(o)>KH&&++s<XH);return a}function Th(t,e,n,r){if(t===e&&n===r)return pt;const i=o=>YH(o,0,1,t,n);return o=>o===0||o===1?o:t$(i(o),e,r)}const QH=Th(.42,0,1,1),JH=Th(0,0,.58,1),n$=Th(.42,0,.58,1),ZH=t=>Array.isArray(t)&&typeof t[0]!="number",r$=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,i$=t=>e=>1-t(1-e),YE=t=>1-Math.sin(Math.acos(t)),o$=i$(YE),e7=r$(YE),a$=Th(.33,1.53,.69,.99),QE=i$(a$),t7=r$(QE),n7=t=>(t*=2)<1?.5*QE(t):.5*(2-Math.pow(2,-10*(t-1))),r7={linear:pt,easeIn:QH,easeInOut:n$,easeOut:JH,circIn:YE,circInOut:e7,circOut:o$,backIn:QE,backInOut:t7,backOut:a$,anticipate:n7},lI=t=>{if(Array.isArray(t)){XE(t.length===4);const[e,n,r,i]=t;return Th(e,n,r,i)}else if(typeof t=="string")return r7[t];return t},JE=(t,e)=>n=>!!(xh(n)&&oH.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),s$=(t,e,n)=>r=>{if(!xh(r))return r;const[i,o,a,s]=r.match(uy);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:s!==void 0?parseFloat(s):1}},i7=t=>Vo(0,255,t),b0={...us,transform:t=>Math.round(i7(t))},Ta={test:JE("rgb","red"),parse:s$("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+b0.transform(t)+", "+b0.transform(e)+", "+b0.transform(n)+", "+Pc(Ac.transform(r))+")"};function o7(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const xb={test:JE("#"),parse:o7,transform:Ta.transform},qs={test:JE("hsl","hue"),parse:s$("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Kr.transform(Pc(e))+", "+Kr.transform(Pc(n))+", "+Pc(Ac.transform(r))+")"},gn={test:t=>Ta.test(t)||xb.test(t)||qs.test(t),parse:t=>Ta.test(t)?Ta.parse(t):qs.test(t)?qs.parse(t):xb.parse(t),transform:t=>xh(t)?t:t.hasOwnProperty("red")?Ta.transform(t):qs.transform(t)},rt=(t,e,n)=>-n*t+n*e+t;function w0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function a7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,a=0;if(!e)i=o=a=n;else{const s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=w0(l,s,t+1/3),o=w0(l,s,t),a=w0(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}const x0=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},s7=[xb,Ta,qs],l7=t=>s7.find(e=>e.test(t));function uI(t){const e=l7(t);let n=e.parse(t);return e===qs&&(n=a7(n)),n}const l$=(t,e)=>{const n=uI(t),r=uI(e),i={...n};return o=>(i.red=x0(n.red,r.red,o),i.green=x0(n.green,r.green,o),i.blue=x0(n.blue,r.blue,o),i.alpha=rt(n.alpha,r.alpha,o),Ta.transform(i))};function u7(t){var e,n;return isNaN(t)&&xh(t)&&(((e=t.match(uy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(MD))===null||n===void 0?void 0:n.length)||0)>0}const u$={regex:rH,countKey:"Vars",token:"${v}",parse:pt},c$={regex:MD,countKey:"Colors",token:"${c}",parse:gn.parse},f$={regex:uy,countKey:"Numbers",token:"${n}",parse:us.parse};function E0(t,{regex:e,countKey:n,token:r,parse:i}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(i)))}function lm(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&E0(n,u$),E0(n,c$),E0(n,f$),n}function h$(t){return lm(t).values}function d$(t){const{values:e,numColors:n,numVars:r,tokenised:i}=lm(t),o=e.length;return a=>{let s=i;for(let l=0;l<o;l++)l<r?s=s.replace(u$.token,a[l]):l<r+n?s=s.replace(c$.token,gn.transform(a[l])):s=s.replace(f$.token,Pc(a[l]));return s}}const c7=t=>typeof t=="number"?0:t;function f7(t){const e=h$(t);return d$(t)(e.map(c7))}const Fo={test:u7,parse:h$,createTransformer:d$,getAnimatableNone:f7},p$=(t,e)=>n=>`${n>0?e:t}`;function m$(t,e){return typeof t=="number"?n=>rt(t,e,n):gn.test(t)?l$(t,e):t.startsWith("var(")?p$(t,e):y$(t,e)}const g$=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,a)=>m$(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}},h7=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=m$(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},y$=(t,e)=>{const n=Fo.createTransformer(e),r=lm(t),i=lm(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ro(g$(r.values,i.values),n):p$(t,e)},mf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},cI=(t,e)=>n=>rt(t,e,n);function d7(t){return typeof t=="number"?cI:typeof t=="string"?gn.test(t)?l$:y$:Array.isArray(t)?g$:typeof t=="object"?h7:cI}function p7(t,e,n){const r=[],i=n||d7(t[0]),o=t.length-1;for(let a=0;a<o;a++){let s=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||pt:e;s=Ro(l,s)}r.push(s)}return r}function v$(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(XE(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=p7(e,r,i),s=a.length,l=u=>{let c=0;if(s>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const f=mf(t[c],t[c+1],u);return a[c](f)};return n?u=>l(Vo(t[0],t[o-1],u)):l}function m7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=mf(0,e,r);t.push(rt(n,1,i))}}function g7(t){const e=[0];return m7(e,t.length-1),e}function y7(t,e){return t.map(n=>n*e)}function v7(t,e){return t.map(()=>e||n$).splice(0,t.length-1)}function um({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=ZH(r)?r.map(lI):lI(r),o={done:!1,value:e[0]},a=y7(n&&n.length===e.length?n:g7(e),t),s=v$(a,e,{ease:Array.isArray(i)?i:v7(e,i)});return{calculatedDuration:t,next:l=>(o.value=s(l),o.done=l>=t,o)}}function _$(t,e){return e?t*(1e3/e):0}const _7=5;function b$(t,e,n){const r=Math.max(e-_7,0);return _$(n-t(r),e-r)}const T0=.001,b7=.01,w7=10,x7=.05,E7=1;function T7({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o,a=1-e;a=Vo(x7,E7,a),t=Vo(b7,w7,Ti(t)),a<1?(i=u=>{const c=u*a,f=c*t,d=c-n,p=Eb(u,a),m=Math.exp(-f);return T0-d/p*m},o=u=>{const f=u*a*t,d=f*n+n,p=Math.pow(a,2)*Math.pow(u,2)*t,m=Math.exp(-f),g=Eb(Math.pow(u,2),a);return(-i(u)+T0>0?-1:1)*((d-p)*m)/g}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-T0+c*f},o=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const s=5/t,l=A7(i,o,s);if(t=ja(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const S7=12;function A7(t,e,n){let r=n;for(let i=1;i<S7;i++)r=r-t(r)/e(r);return r}function Eb(t,e){return t*Math.sqrt(1-e*e)}const P7=["duration","bounce"],I7=["stiffness","damping","mass"];function fI(t,e){return e.some(n=>t[n]!==void 0)}function O7(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!fI(t,I7)&&fI(t,P7)){const n=T7(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function w$({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],a={done:!1,value:i},{stiffness:s,damping:l,mass:u,duration:c,velocity:f,isResolvedFromDuration:d}=O7({...r,velocity:-Ti(r.velocity||0)}),p=f||0,m=l/(2*Math.sqrt(s*u)),g=o-i,v=Ti(Math.sqrt(s/u)),w=Math.abs(g)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let _;if(m<1){const y=Eb(v,m);_=I=>{const S=Math.exp(-m*v*I);return o-S*((p+m*v*g)/y*Math.sin(y*I)+g*Math.cos(y*I))}}else if(m===1)_=y=>o-Math.exp(-v*y)*(g+(p+v*g)*y);else{const y=v*Math.sqrt(m*m-1);_=I=>{const S=Math.exp(-m*v*I),P=Math.min(y*I,300);return o-S*((p+m*v*g)*Math.sinh(P)+y*g*Math.cosh(P))/y}}return{calculatedDuration:d&&c||null,next:y=>{const I=_(y);if(d)a.done=y>=c;else{let S=p;y!==0&&(m<1?S=b$(_,y,I):S=0);const P=Math.abs(S)<=n,T=Math.abs(o-I)<=e;a.done=P&&T}return a.value=a.done?o:I,a}}}function hI({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:s,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],d={done:!1,value:f},p=x=>s!==void 0&&x<s||l!==void 0&&x>l,m=x=>s===void 0?l:l===void 0||Math.abs(s-x)<Math.abs(l-x)?s:l;let g=n*e;const v=f+g,w=a===void 0?v:a(v);w!==v&&(g=w-f);const _=x=>-g*Math.exp(-x/r),y=x=>w+_(x),I=x=>{const O=_(x),C=y(x);d.done=Math.abs(O)<=u,d.value=d.done?w:C};let S,P;const T=x=>{p(d.value)&&(S=x,P=w$({keyframes:[d.value,m(d.value)],velocity:b$(y,x,d.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:x=>{let O=!1;return!P&&S===void 0&&(O=!0,I(x),T(x)),S!==void 0&&x>S?P.next(x-S):(!O&&I(x),d)}}}const C7=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ge.update(e,!0),stop:()=>Mi(e),now:()=>rn.isProcessing?rn.timestamp:performance.now()}},dI=2e4;function pI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<dI;)e+=n,r=t.next(e);return e>=dI?1/0:e}const k7={decay:hI,inertia:hI,tween:um,keyframes:um,spring:w$};function cm({autoplay:t=!0,delay:e=0,driver:n=C7,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:s="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:f,...d}){let p=1,m=!1,g,v;const w=()=>{v=new Promise(Q=>{g=Q})};w();let _;const y=k7[i]||um;let I;y!==um&&typeof r[0]!="number"&&(I=v$([0,100],r,{clamp:!1}),r=[0,100]);const S=y({...d,keyframes:r});let P;s==="mirror"&&(P=y({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let T="idle",x=null,O=null,C=null;S.calculatedDuration===null&&o&&(S.calculatedDuration=pI(S));const{calculatedDuration:k}=S;let N=1/0,R=1/0;k!==null&&(N=k+a,R=N*(o+1)-a);let B=0;const V=Q=>{if(O===null)return;p>0&&(O=Math.min(O,Q)),p<0&&(O=Math.min(Q-R/p,O)),x!==null?B=x:B=Math.round(Q-O)*p;const K=B-e*(p>=0?1:-1),re=p>=0?K<0:K>R;B=Math.max(K,0),T==="finished"&&x===null&&(B=R);let ve=B,Ae=S;if(o){const te=Math.min(B,R)/N;let ce=Math.floor(te),ue=te%1;!ue&&te>=1&&(ue=1),ue===1&&ce--,ce=Math.min(ce,o+1),!!(ce%2)&&(s==="reverse"?(ue=1-ue,a&&(ue-=a/N)):s==="mirror"&&(Ae=P)),ve=Vo(0,1,ue)*N}const je=re?{done:!1,value:r[0]}:Ae.next(ve);I&&(je.value=I(je.value));let{done:gt}=je;!re&&k!==null&&(gt=p>=0?B>=R:B<=0);const kt=x===null&&(T==="finished"||T==="running"&&gt);return f&&f(je.value),kt&&L(),je},F=()=>{_&&_.stop(),_=void 0},q=()=>{T="idle",F(),g(),w(),O=C=null},L=()=>{T="finished",c&&c(),F(),g()},z=()=>{if(m)return;_||(_=n(V));const Q=_.now();l&&l(),x!==null?O=Q-x:(!O||T==="finished")&&(O=Q),T==="finished"&&w(),C=O,x=null,T="running",_.start()};t&&z();const G={then(Q,K){return v.then(Q,K)},get time(){return Ti(B)},set time(Q){Q=ja(Q),B=Q,x!==null||!_||p===0?x=Q:O=_.now()-Q/p},get duration(){const Q=S.calculatedDuration===null?pI(S):S.calculatedDuration;return Ti(Q)},get speed(){return p},set speed(Q){Q===p||!_||(p=Q,G.time=Ti(B))},get state(){return T},play:z,pause:()=>{T="paused",x=B},stop:()=>{m=!0,T!=="idle"&&(T="idle",u&&u(),q())},cancel:()=>{C!==null&&V(C),q()},complete:()=>{T="finished"},sample:Q=>(O=0,V(Q))};return G}function R7(t){let e;return()=>(e===void 0&&(e=t()),e)}const N7=R7(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),M7=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Cd=10,j7=2e4,D7=(t,e)=>e.type==="spring"||t==="backgroundColor"||!JD(e.ease);function $7(t,e,{onUpdate:n,onComplete:r,...i}){if(!(N7()&&M7.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,s,l,u=!1;const c=()=>{l=new Promise(y=>{s=y})};c();let{keyframes:f,duration:d=300,ease:p,times:m}=i;if(D7(e,i)){const y=cm({...i,repeat:0,delay:0});let I={done:!1,value:f[0]};const S=[];let P=0;for(;!I.done&&P<j7;)I=y.sample(P),S.push(I.value),P+=Cd;m=void 0,f=S,d=P-Cd,p="linear"}const g=HH(t.owner.current,e,f,{...i,duration:d,ease:p,times:m}),v=()=>{u=!1,g.cancel()},w=()=>{u=!0,Ge.update(v),s(),c()};return g.onfinish=()=>{u||(t.set(GH(f,i)),r&&r(),w())},{then(y,I){return l.then(y,I)},attachTimeline(y){return g.timeline=y,g.onfinish=null,pt},get time(){return Ti(g.currentTime||0)},set time(y){g.currentTime=ja(y)},get speed(){return g.playbackRate},set speed(y){g.playbackRate=y},get duration(){return Ti(d)},play:()=>{a||(g.play(),Mi(v))},pause:()=>g.pause(),stop:()=>{if(a=!0,g.playState==="idle")return;const{currentTime:y}=g;if(y){const I=cm({...i,autoplay:!1});t.setWithVelocity(I.sample(y-Cd).value,I.sample(y).value,Cd)}w()},complete:()=>{u||g.finish()},cancel:w}}function L7({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:pt,pause:pt,stop:pt,then:o=>(o(),Promise.resolve()),cancel:pt,complete:pt});return e?cm({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const V7={type:"spring",stiffness:500,damping:25,restSpeed:10},F7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),B7={type:"keyframes",duration:.8},U7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},z7=(t,{keyframes:e})=>e.length>2?B7:ls.has(t)?t.startsWith("scale")?F7(e[1]):V7:U7,Tb=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Fo.test(e)||e==="0")&&!e.startsWith("url(")),q7=new Set(["brightness","contrast","saturate","opacity"]);function W7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(uy)||[];if(!r)return t;const i=n.replace(r,"");let o=q7.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const H7=/([a-z-]*)\(.*?\)/g,Sb={...Fo,getAnimatableNone:t=>{const e=t.match(H7);return e?e.map(W7).join(" "):t}},G7={...jD,color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:Sb,WebkitFilter:Sb},ZE=t=>G7[t];function x$(t,e){let n=ZE(t);return n!==Sb&&(n=Fo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const E$=t=>/^0[^.\s]+$/.test(t);function K7(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||E$(t)}function X7(t,e,n,r){const i=Tb(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const a=r.from!==void 0?r.from:t.get();let s;const l=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?a:o[u-1]),K7(o[u])&&l.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(s=o[u]);if(i&&l.length&&s)for(let u=0;u<l.length;u++){const c=l[u];o[c]=x$(e,s)}return o}function Y7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:s,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function e1(t,e){return t[e]||t.default||t}const Q7={skipAnimations:!1},t1=(t,e,n,r={})=>i=>{const o=e1(r,t)||{},a=o.delay||r.delay||0;let{elapsed:s=0}=r;s=s-ja(a);const l=X7(e,t,n,o),u=l[0],c=l[l.length-1],f=Tb(t,u),d=Tb(t,c);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-s,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(Y7(o)||(p={...p,...z7(t,p)}),p.duration&&(p.duration=ja(p.duration)),p.repeatDelay&&(p.repeatDelay=ja(p.repeatDelay)),!f||!d||WH.current||o.type===!1||Q7.skipAnimations)return L7(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=$7(e,t,p);if(m)return m}return cm(p)};function fm(t){return!!(Rn(t)&&t.add)}const T$=t=>/^\-?\d*\.?\d+$/.test(t);function n1(t,e){t.indexOf(e)===-1&&t.push(e)}function r1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class i1{constructor(){this.subscriptions=[]}add(e){return n1(this.subscriptions,e),()=>r1(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const J7=t=>!isNaN(parseFloat(t));class Z7{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:a}=rn;this.lastUpdated!==a&&(this.timeDelta=o,this.lastUpdated=a,Ge.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ge.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=J7(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new i1);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?_$(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bl(t,e){return new Z7(t,e)}const S$=t=>e=>e.test(t),eG={test:t=>t==="auto",parse:t=>t},A$=[us,de,Kr,ro,sH,aH,eG],Wu=t=>A$.find(S$(t)),tG=[...A$,gn,Fo],nG=t=>tG.find(S$(t));function rG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bl(n))}function iG(t,e){const n=fy(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const a in o){const s=wH(o[a]);rG(t,a,s)}}function oG(t,e,n){var r,i;const o=Object.keys(e).filter(s=>!t.hasValue(s)),a=o.length;if(a)for(let s=0;s<a;s++){const l=o[s],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(T$(c)||E$(c))?c=parseFloat(c):!nG(c)&&Fo.test(u)&&(c=x$(l,u)),t.addValue(l,bl(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function aG(t,e){return e?(e[t]||e.default||e).from:void 0}function sG(t,e,n){const r={};for(const i in t){const o=aG(i,e);if(o!==void 0)r[i]=o;else{const a=n.getValue(i);a&&(r[i]=a.get())}}return r}function lG({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uG(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function P$(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...s}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(o=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const f in s){const d=t.getValue(f),p=s[f];if(!d||p===void 0||c&&lG(c,f))continue;const m={delay:n,elapsed:0,...e1(o||{},f)};if(window.HandoffAppearAnimations){const w=t.getProps()[ID];if(w){const _=window.HandoffAppearAnimations(w,f,d,Ge);_!==null&&(m.elapsed=_,m.isHandoff=!0)}}let g=!m.isHandoff&&!uG(d,p);if(m.type==="spring"&&(d.getVelocity()||m.velocity)&&(g=!1),d.animation&&(g=!1),g)continue;d.start(t1(f,d,p,t.shouldReduceMotion&&ls.has(f)?{type:!1}:m));const v=d.animation;fm(l)&&(l.add(f),v.then(()=>l.remove(f))),u.push(v)}return a&&Promise.all(u).then(()=>{a&&iG(t,a)}),u}function Ab(t,e,n={}){const r=fy(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(P$(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:f}=i;return cG(t,e,u+l,c,f,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,u]=s==="beforeChildren"?[o,a]:[a,o];return l().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function cG(t,e,n=0,r=0,i=1,o){const a=[],s=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>s-u*r;return Array.from(t.variantChildren).sort(fG).forEach((u,c)=>{u.notify("AnimationStart",e),a.push(Ab(u,e,{...o,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function fG(t,e){return t.sortNodePosition(e)}function hG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Ab(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Ab(t,e,n);else{const i=typeof e=="function"?fy(t,e,n.custom):e;r=Promise.all(P$(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const dG=[...VE].reverse(),pG=VE.length;function mG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>hG(t,n,r)))}function gG(t){let e=mG(t);const n=vG();let r=!0;const i=(l,u)=>{const c=fy(t,u);if(c){const{transition:f,transitionEnd:d,...p}=c;l={...l,...p,...d}}return l};function o(l){e=l(t)}function a(l,u){const c=t.getProps(),f=t.getVariantContext(!0)||{},d=[],p=new Set;let m={},g=1/0;for(let w=0;w<pG;w++){const _=dG[w],y=n[_],I=c[_]!==void 0?c[_]:f[_],S=df(I),P=_===u?y.isActive:null;P===!1&&(g=w);let T=I===f[_]&&I!==c[_]&&S;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),y.protectedKeys={...m},!y.isActive&&P===null||!I&&!y.prevProp||sy(I)||typeof I=="boolean")continue;let O=yG(y.prevProp,I)||_===u&&y.isActive&&!T&&S||w>g&&S,C=!1;const k=Array.isArray(I)?I:[I];let N=k.reduce(i,{});P===!1&&(N={});const{prevResolvedValues:R={}}=y,B={...R,...N},V=F=>{O=!0,p.has(F)&&(C=!0,p.delete(F)),y.needsAnimating[F]=!0};for(const F in B){const q=N[F],L=R[F];if(m.hasOwnProperty(F))continue;let z=!1;sm(q)&&sm(L)?z=!YD(q,L):z=q!==L,z?q!==void 0?V(F):p.add(F):q!==void 0&&p.has(F)?V(F):y.protectedKeys[F]=!0}y.prevProp=I,y.prevResolvedValues=N,y.isActive&&(m={...m,...N}),r&&t.blockInitialAnimation&&(O=!1),O&&(!T||C)&&d.push(...k.map(F=>({animation:F,options:{type:_,...l}})))}if(p.size){const w={};p.forEach(_=>{const y=t.getBaseTarget(_);y!==void 0&&(w[_]=y)}),d.push({animation:w})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(d):Promise.resolve()}function s(l,u,c){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=a(c,l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:a,setActive:s,setAnimateFunction:o,getState:()=>n}}function yG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!YD(e,t):!1}function ua(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vG(){return{animate:ua(!0),whileInView:ua(),whileHover:ua(),whileTap:ua(),whileDrag:ua(),whileFocus:ua(),exit:ua()}}class _G extends Xo{constructor(e){super(e),e.animationState||(e.animationState=gG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),sy(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let bG=0;class wG extends Xo{constructor(){super(...arguments),this.id=bG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const xG={animation:{Feature:_G},exit:{Feature:wG}},mI=(t,e)=>Math.abs(t-e);function EG(t,e){const n=mI(t.x,e.x),r=mI(t.y,e.y);return Math.sqrt(n**2+r**2)}class I${constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=A0(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=EG(f.offset,{x:0,y:0})>=3;if(!d&&!p)return;const{point:m}=f,{timestamp:g}=rn;this.history.push({...m,timestamp:g});const{onStart:v,onMove:w}=this.handlers;d||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=S0(d,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=A0(f.type==="pointercancel"?this.lastMoveEventInfo:S0(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),m&&m(f,v)},!WD(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=cy(e),s=S0(a,this.transformPagePoint),{point:l}=s,{timestamp:u}=rn;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,A0(s,this.history)),this.removeListeners=Ro(Ei(this.contextWindow,"pointermove",this.handlePointerMove),Ei(this.contextWindow,"pointerup",this.handlePointerUp),Ei(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mi(this.updatePoint)}}function S0(t,e){return e?{point:e(t.point)}:t}function gI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function A0({point:t},e){return{point:t,delta:gI(t,O$(e)),offset:gI(t,TG(e)),velocity:SG(e,.1)}}function TG(t){return t[0]}function O$(t){return t[t.length-1]}function SG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=O$(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ja(e)));)n--;if(!r)return{x:0,y:0};const o=Ti(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Gn(t){return t.max-t.min}function Pb(t,e=0,n=.01){return Math.abs(t-e)<=n}function yI(t,e,n,r=.5){t.origin=r,t.originPoint=rt(e.min,e.max,t.origin),t.scale=Gn(n)/Gn(e),(Pb(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=rt(n.min,n.max,t.origin)-t.originPoint,(Pb(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ic(t,e,n,r){yI(t.x,e.x,n.x,r?r.originX:void 0),yI(t.y,e.y,n.y,r?r.originY:void 0)}function vI(t,e,n){t.min=n.min+e.min,t.max=t.min+Gn(e)}function AG(t,e,n){vI(t.x,e.x,n.x),vI(t.y,e.y,n.y)}function _I(t,e,n){t.min=e.min-n.min,t.max=t.min+Gn(e)}function Oc(t,e,n){_I(t.x,e.x,n.x),_I(t.y,e.y,n.y)}function PG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?rt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?rt(n,t,r.max):Math.min(t,n)),t}function bI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function IG(t,{top:e,left:n,bottom:r,right:i}){return{x:bI(t.x,n,i),y:bI(t.y,e,r)}}function wI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function OG(t,e){return{x:wI(t.x,e.x),y:wI(t.y,e.y)}}function CG(t,e){let n=.5;const r=Gn(t),i=Gn(e);return i>r?n=mf(e.min,e.max-r,t.min):r>i&&(n=mf(t.min,t.max-i,e.min)),Vo(0,1,n)}function kG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ib=.35;function RG(t=Ib){return t===!1?t=0:t===!0&&(t=Ib),{x:xI(t,"left","right"),y:xI(t,"top","bottom")}}function xI(t,e,n){return{min:EI(t,e),max:EI(t,n)}}function EI(t,e){return typeof t=="number"?t:t[e]||0}const TI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ws=()=>({x:TI(),y:TI()}),SI=()=>({min:0,max:0}),vt=()=>({x:SI(),y:SI()});function tr(t){return[t("x"),t("y")]}function C$({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function NG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function MG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function P0(t){return t===void 0||t===1}function Ob({scale:t,scaleX:e,scaleY:n}){return!P0(t)||!P0(e)||!P0(n)}function pa(t){return Ob(t)||k$(t)||t.z||t.rotate||t.rotateX||t.rotateY}function k$(t){return AI(t.x)||AI(t.y)}function AI(t){return t&&t!=="0%"}function hm(t,e,n){const r=t-n,i=e*r;return n+i}function PI(t,e,n,r,i){return i!==void 0&&(t=hm(t,i,r)),hm(t,n,r)+e}function Cb(t,e=0,n=1,r,i){t.min=PI(t.min,e,n,r,i),t.max=PI(t.max,e,n,r,i)}function R$(t,{x:e,y:n}){Cb(t.x,e.translate,e.scale,e.originPoint),Cb(t.y,n.translate,n.scale,n.originPoint)}function jG(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,a;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Hs(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,R$(t,a)),r&&pa(o.latestValues)&&Hs(t,o.latestValues))}e.x=II(e.x),e.y=II(e.y)}function II(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ao(t,e){t.min=t.min+e,t.max=t.max+e}function OI(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,a=rt(t.min,t.max,o);Cb(t,e[n],e[r],a,e.scale)}const DG=["x","scaleX","originX"],$G=["y","scaleY","originY"];function Hs(t,e){OI(t.x,e,DG),OI(t.y,e,$G)}function N$(t,e){return C$(MG(t.getBoundingClientRect(),e))}function LG(t,e,n){const r=N$(t,n),{scroll:i}=e;return i&&(ao(r.x,i.offset.x),ao(r.y,i.offset.y)),r}const M$=({current:t})=>t?t.ownerDocument.defaultView:null,VG=new WeakMap;class FG{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cy(c,"page").point)},o=(c,f)=>{const{drag:d,dragPropagation:p,onDragStart:m}=this.getProps();if(d&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=GD(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tr(v=>{let w=this.getAxisMotionValue(v).get()||0;if(Kr.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const y=_.layout.layoutBox[v];y&&(w=Gn(y)*(parseFloat(w)/100))}}this.originPoint[v]=w}),m&&Ge.update(()=>m(c,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(c,f)=>{const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=BG(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),g&&g(c,f)},s=(c,f)=>this.stop(c,f),l=()=>tr(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new I$(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:M$(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Ge.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!kd(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=PG(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&zs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=IG(i.layoutBox,n):this.constraints=!1,this.elastic=RG(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&tr(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=kG(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zs(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=LG(r,i.root,this.visualElement.getTransformPagePoint());let a=OG(i.layout.layoutBox,o);if(n){const s=n(NG(a));this.hasMutatedConstraints=!!s,s&&(a=C$(s))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=tr(c=>{if(!kd(c,n,this.currentDirection))return;let f=l&&l[c]||{};a&&(f={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(s)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(t1(e,r,0,n))}stopAnimation(){tr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){tr(n=>{const{drag:r}=this.getProps();if(!kd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:s}=i.layout.layoutBox[n];o.set(e[n]-rt(a,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};tr(a=>{const s=this.getAxisMotionValue(a);if(s){const l=s.get();i[a]=CG({min:l,max:l},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),tr(a=>{if(!kd(a,e,null))return;const s=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];s.set(rt(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;VG.set(this.visualElement,this);const e=this.visualElement.current,n=Ei(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();zs(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const a=yi(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(tr(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=Ib,dragMomentum:s=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:s}}}function kd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function BG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class UG extends Xo{constructor(e){super(e),this.removeGroupControls=pt,this.removeListeners=pt,this.controls=new FG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pt}unmount(){this.removeGroupControls(),this.removeListeners()}}const CI=t=>(e,n)=>{t&&Ge.update(()=>t(e,n))};class zG extends Xo{constructor(){super(...arguments),this.removePointerDownListener=pt}onPointerDown(e){this.session=new I$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:M$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:CI(e),onStart:CI(n),onMove:r,onEnd:(o,a)=>{delete this.session,i&&Ge.update(()=>i(o,a))}}}mount(){this.removePointerDownListener=Ei(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function qG(){const t=j.useContext(oy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=j.useId();return j.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const yp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const n=kI(t,e.target.x),r=kI(t,e.target.y);return`${n}% ${r}%`}},WG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Fo.parse(t);if(i.length>5)return r;const o=Fo.createTransformer(t),a=typeof i[0]!="number"?1:0,s=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=s,i[1+a]/=l;const u=rt(s,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),o(i)}};class HG extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;ZW(GG),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),yp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||Ge.postRender(()=>{const s=a.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function j$(t){const[e,n]=qG(),r=j.useContext(BE);return D.createElement(HG,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(CD),isPresent:e,safeToRemove:n})}const GG={borderRadius:{...Hu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hu,borderTopRightRadius:Hu,borderBottomLeftRadius:Hu,borderBottomRightRadius:Hu,boxShadow:WG},D$=["TopLeft","TopRight","BottomLeft","BottomRight"],KG=D$.length,RI=t=>typeof t=="string"?parseFloat(t):t,NI=t=>typeof t=="number"||de.test(t);function XG(t,e,n,r,i,o){i?(t.opacity=rt(0,n.opacity!==void 0?n.opacity:1,YG(r)),t.opacityExit=rt(e.opacity!==void 0?e.opacity:1,0,QG(r))):o&&(t.opacity=rt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<KG;a++){const s=`border${D$[a]}Radius`;let l=MI(e,s),u=MI(n,s);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||NI(l)===NI(u)?(t[s]=Math.max(rt(RI(l),RI(u),r),0),(Kr.test(u)||Kr.test(l))&&(t[s]+="%")):t[s]=u}(e.rotate||n.rotate)&&(t.rotate=rt(e.rotate||0,n.rotate||0,r))}function MI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const YG=$$(0,.5,o$),QG=$$(.5,.95,pt);function $$(t,e,n){return r=>r<t?0:r>e?1:n(mf(t,e,r))}function jI(t,e){t.min=e.min,t.max=e.max}function Qn(t,e){jI(t.x,e.x),jI(t.y,e.y)}function DI(t,e,n,r,i){return t-=e,t=hm(t,1/n,r),i!==void 0&&(t=hm(t,1/i,r)),t}function JG(t,e=0,n=1,r=.5,i,o=t,a=t){if(Kr.test(e)&&(e=parseFloat(e),e=rt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let s=rt(o.min,o.max,r);t===o&&(s-=e),t.min=DI(t.min,e,n,s,i),t.max=DI(t.max,e,n,s,i)}function $I(t,e,[n,r,i],o,a){JG(t,e[n],e[r],e[i],e.scale,o,a)}const ZG=["x","scaleX","originX"],eK=["y","scaleY","originY"];function LI(t,e,n,r){$I(t.x,e,ZG,n?n.x:void 0,r?r.x:void 0),$I(t.y,e,eK,n?n.y:void 0,r?r.y:void 0)}function VI(t){return t.translate===0&&t.scale===1}function L$(t){return VI(t.x)&&VI(t.y)}function tK(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function V$(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function FI(t){return Gn(t.x)/Gn(t.y)}class nK{constructor(){this.members=[]}add(e){n1(this.members,e),e.scheduleRender()}remove(e){if(r1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BI(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const a=t.x.scale*e.x,s=t.y.scale*e.y;return(a!==1||s!==1)&&(r+=`scale(${a}, ${s})`),r||"none"}const rK=(t,e)=>t.depth-e.depth;class iK{constructor(){this.children=[],this.isDirty=!1}add(e){n1(this.children,e),this.isDirty=!0}remove(e){r1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rK),this.isDirty=!1,this.children.forEach(e)}}function oK(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Mi(r),t(o-e))};return Ge.read(r,!0),()=>Mi(r)}function aK(t){window.MotionDebug&&window.MotionDebug.record(t)}function sK(t){return t instanceof SVGElement&&t.tagName!=="svg"}function lK(t,e,n){const r=Rn(t)?t:bl(t);return r.start(t1("",r,e,n)),r.animation}const UI=["","X","Y","Z"],uK={visibility:"hidden"},zI=1e3;let cK=0;const ma={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function F$({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},s=e==null?void 0:e()){this.id=cK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ma.totalNodes=ma.resolvedTargetDeltas=ma.recalculatedProjection=0,this.nodes.forEach(dK),this.nodes.forEach(vK),this.nodes.forEach(_K),this.nodes.forEach(pK),aK(ma)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new iK)}addEventListener(a,s){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new i1),this.eventHandlers.get(a).add(s)}notifyListeners(a,...s){const l=this.eventHandlers.get(a);l&&l.notify(...s)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sK(a),this.instance=a;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const d=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=oK(d,250),yp.hasAnimatedSinceResize&&(yp.hasAnimatedSinceResize=!1,this.nodes.forEach(WI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||TK,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=c.getProps(),_=!this.targetLayout||!V$(this.targetLayout,m)||p,y=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,y);const I={...e1(g,"layout"),onPlay:v,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else d||WI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bK),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qI);return}this.isUpdating||this.nodes.forEach(gK),this.isUpdating=!1,this.nodes.forEach(yK),this.nodes.forEach(fK),this.nodes.forEach(hK),this.clearAllSnapshots();const s=performance.now();rn.delta=Vo(0,1e3/60,s-rn.timestamp),rn.timestamp=s,rn.isProcessing=!0,y0.update.process(rn),y0.preRender.process(rn),y0.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(mK),this.sharedNodes.forEach(wK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!L$(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&(s||pa(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return a&&(l=this.removeTransform(l)),SK(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return vt();const s=a.measureViewportBox(),{scroll:l}=this.root;return l&&(ao(s.x,l.offset.x),ao(s.y,l.offset.y)),s}removeElementScroll(a){const s=vt();Qn(s,a);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f}=u;if(u!==this.root&&c&&f.layoutScroll){if(c.isRoot){Qn(s,a);const{scroll:d}=this.root;d&&(ao(s.x,-d.offset.x),ao(s.y,-d.offset.y))}ao(s.x,c.offset.x),ao(s.y,c.offset.y)}}return s}applyTransform(a,s=!1){const l=vt();Qn(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Hs(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),pa(c.latestValues)&&Hs(l,c.latestValues)}return pa(this.latestValues)&&Hs(l,this.latestValues),l}removeTransform(a){const s=vt();Qn(s,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!pa(u.latestValues))continue;Ob(u.latestValues)&&u.updateSnapshot();const c=vt(),f=u.measurePageBox();Qn(c,f),LI(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return pa(this.latestValues)&&LI(s,this.latestValues),s}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Oc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qn(this.target,this.layout.layoutBox),R$(this.target,this.targetDelta)):Qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Oc(this.relativeTargetOrigin,this.target,p.target),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ma.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ob(this.parent.latestValues)||k$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Qn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;jG(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox);const{target:m}=s;if(!m){this.projectionTransform&&(this.projectionDelta=Ws(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ws(),this.projectionDeltaWithTransform=Ws());const g=this.projectionTransform;Ic(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=BI(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==d||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ma.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,s=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Ws();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const d=vt(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,v=this.getStack(),w=!v||v.members.length<=1,_=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(EK));this.animationProgress=0;let y;this.mixTargetDelta=I=>{const S=I/1e3;HI(f.x,a.x,S),HI(f.y,a.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oc(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xK(this.relativeTarget,this.relativeTargetOrigin,d,S),y&&tK(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=vt()),Qn(y,this.relativeTarget)),g&&(this.animationValues=c,XG(c,u,this.latestValues,S,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{yp.hasAnimatedSinceResize=!0,this.currentAnimation=lK(0,zI,{...a,onUpdate:s=>{this.mixTargetDelta(s),a.onUpdate&&a.onUpdate(s)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:s,target:l,layout:u,latestValues:c}=a;if(!(!s||!l||!u)){if(this!==a&&this.layout&&u&&B$(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||vt();const f=Gn(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const d=Gn(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+d}Qn(s,l),Hs(s,c),Ic(this.projectionDeltaWithTransform,this.layoutCorrected,s,c)}}registerSharedNode(a,s){this.sharedNodes.has(a)||this.sharedNodes.set(a,new nK),this.sharedNodes.get(a).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:s,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let s=!1;const{latestValues:l}=a;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(s=!0),!s)return;const u={};for(let c=0;c<UI.length;c++){const f="rotate"+UI[c];l[f]&&(u[f]=l[f],a.setStaticValue(f,0))}a.render();for(const c in u)a.setStaticValue(c,u[c]);a.scheduleRender()}getProjectionStyles(a){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uK;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=gp(a==null?void 0:a.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=gp(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!pa(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=BI(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:p,y:m}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(s=d.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in om){if(d[g]===void 0)continue;const{correct:v,applyTo:w}=om[g],_=u.transform==="none"?d[g]:v(d[g],f);if(w){const y=w.length;for(let I=0;I<y;I++)u[w[I]]=_}else u[g]=_}return this.options.layoutId&&(u.pointerEvents=f===this?gp(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var s;return(s=a.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(qI),this.root.sharedNodes.clear()}}}function fK(t){t.updateLayout()}function hK(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,a=n.source!==t.layout.source;o==="size"?tr(f=>{const d=a?n.measuredBox[f]:n.layoutBox[f],p=Gn(d);d.min=r[f].min,d.max=d.min+p}):B$(o,n.layoutBox,r)&&tr(f=>{const d=a?n.measuredBox[f]:n.layoutBox[f],p=Gn(r[f]);d.max=d.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const s=Ws();Ic(s,r,n.layoutBox);const l=Ws();a?Ic(l,t.applyTransform(i,!0),n.measuredBox):Ic(l,r,n.layoutBox);const u=!L$(s);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:p}=f;if(d&&p){const m=vt();Oc(m,n.layoutBox,d.layoutBox);const g=vt();Oc(g,r,p.layoutBox),V$(m,g)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function dK(t){ma.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mK(t){t.clearSnapshot()}function qI(t){t.clearMeasurements()}function gK(t){t.isLayoutDirty=!1}function yK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function WI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vK(t){t.resolveTargetDelta()}function _K(t){t.calcProjection()}function bK(t){t.resetRotation()}function wK(t){t.removeLeadSnapshot()}function HI(t,e,n){t.translate=rt(e.translate,0,n),t.scale=rt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function GI(t,e,n,r){t.min=rt(e.min,n.min,r),t.max=rt(e.max,n.max,r)}function xK(t,e,n,r){GI(t.x,e.x,n.x,r),GI(t.y,e.y,n.y,r)}function EK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const TK={duration:.45,ease:[.4,0,.1,1]},KI=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),XI=KI("applewebkit/")&&!KI("chrome/")?Math.round:pt;function YI(t){t.min=XI(t.min),t.max=XI(t.max)}function SK(t){YI(t.x),YI(t.y)}function B$(t,e,n){return t==="position"||t==="preserve-aspect"&&!Pb(FI(e),FI(n),.2)}const AK=F$({attachResizeListener:(t,e)=>yi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),I0={current:void 0},U$=F$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!I0.current){const t=new AK({});t.mount(window),t.setOptions({layoutScroll:!0}),I0.current=t}return I0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),PK={pan:{Feature:zG},drag:{Feature:UG,ProjectionNode:U$,MeasureLayout:j$}},IK=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function OK(t){const e=IK.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function kb(t,e,n=1){const[r,i]=OK(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return T$(a)?parseFloat(a):a}else return bb(i)?kb(i,e,n+1):i}function CK(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!bb(o))return;const a=kb(o,r);a&&i.set(a)});for(const i in e){const o=e[i];if(!bb(o))continue;const a=kb(o,r);a&&(e[i]=a,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const kK=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),z$=t=>kK.has(t),RK=t=>Object.keys(t).some(z$),QI=t=>t===us||t===de,JI=(t,e)=>parseFloat(t.split(", ")[e]),ZI=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return JI(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?JI(o[1],t):0}},NK=new Set(["x","y","z"]),MK=wh.filter(t=>!NK.has(t));function jK(t){const e=[];return MK.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const wl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ZI(4,13),y:ZI(5,14)};wl.translateX=wl.x;wl.translateY=wl.y;const DK=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:a}=o,s={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{s[u]=wl[u](r,o)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(s[u]),t[u]=wl[u](l,o)}),t},$K=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(z$);let o=[],a=!1;const s=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],f=Wu(c);const d=e[l];let p;if(sm(d)){const m=d.length,g=d[0]===null?1:0;c=d[g],f=Wu(c);for(let v=g;v<m&&d[v]!==null;v++)p?XE(Wu(d[v])===p):p=Wu(d[v])}else p=Wu(d);if(f!==p)if(QI(f)&&QI(p)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&p===de&&(e[l]=d.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(c===0||d===0)?c===0?u.set(p.transform(c)):e[l]=f.transform(d):(a||(o=jK(t),a=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(d))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,u=DK(e,t,s);return o.length&&o.forEach(([c,f])=>{t.getValue(c).set(f)}),t.render(),ay&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function LK(t,e,n,r){return RK(e)?$K(t,e,n,r):{target:e,transitionEnd:r}}const VK=(t,e,n,r)=>{const i=CK(t,e,r);return e=i.target,r=i.transitionEnd,LK(t,e,n,r)},Rb={current:null},q$={current:!1};function FK(){if(q$.current=!0,!!ay)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rb.current=t.matches;t.addListener(e),e()}else Rb.current=!1}function BK(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],a=n[i];if(Rn(o))t.addValue(i,o),fm(r)&&r.add(i);else if(Rn(a))t.addValue(i,bl(o,{owner:t})),fm(r)&&r.remove(i);else if(a!==o)if(t.hasValue(i)){const s=t.getValue(i);!s.hasAnimated&&s.set(o)}else{const s=t.getStaticValue(i);t.addValue(i,bl(s!==void 0?s:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const eO=new WeakMap,W$=Object.keys(pf),UK=W$.length,tO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],zK=FE.length;class qK{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ge.render(this.render,!1,!0);const{latestValues:s,renderState:l}=o;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=ly(n),this.isVariantNode=OD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const f in c){const d=c[f];s[f]!==void 0&&Rn(d)&&(d.set(s[f],!1),fm(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,eO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),q$.current||FK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){eO.delete(this.current),this.projection&&this.projection.unmount(),Mi(this.notifyUpdate),Mi(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=ls.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ge.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let a,s;for(let l=0;l<UK;l++){const u=W$[l],{isEnabled:c,Feature:f,ProjectionNode:d,MeasureLayout:p}=pf[u];d&&(a=d),c(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(s=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:f,layoutScroll:d,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||f&&zs(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:d,layoutRoot:p})}return s}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<tO.length;r++){const i=tO[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=BK(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<zK;r++){const i=FE[r],o=this.props[i];(df(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bl(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=KE(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Rn(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new i1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class H$ extends qK{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let a=sG(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),a&&(a=i(a))),o){oG(this,r,a);const s=VK(this,r,a,n);n=s.transitionEnd,r=s.target}return{transition:e,transitionEnd:n,...r}}}function WK(t){return window.getComputedStyle(t)}class HK extends H${constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(ls.has(n)){const r=ZE(n);return r&&r.default||0}else{const r=WK(e),i=(ND(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return N$(e,n)}build(e,n,r,i){zE(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return GE(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){VD(e,n,r,i)}}class GK extends H${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ls.has(n)){const r=ZE(n);return r&&r.default||0}return n=FD.has(n)?n:LE(n),e.getAttribute(n)}measureInstanceViewportBox(){return vt()}scrapeMotionValuesFromProps(e,n){return UD(e,n)}build(e,n,r,i){WE(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){BD(e,n,r,i)}mount(e){this.isSVGTag=HE(e.tagName),super.mount(e)}}const KK=(t,e)=>UE(t)?new GK(e,{enableHardwareAcceleration:!1}):new HK(e,{enableHardwareAcceleration:!0}),XK={layout:{ProjectionNode:U$,MeasureLayout:j$}},YK={...xG,...UH,...PK,...XK},ie=QW((t,e)=>OH(t,e,YK,KK));function G$(){const t=j.useRef(!1);return $E(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function QK(){const t=G$(),[e,n]=j.useState(0),r=j.useCallback(()=>{t.current&&n(e+1)},[e]);return[j.useCallback(()=>Ge.postRender(r),[r]),e]}class JK extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ZK({children:t,isPresent:e}){const n=j.useId(),r=j.useRef(null),i=j.useRef({width:0,height:0,top:0,left:0});return j.useInsertionEffect(()=>{const{width:o,height:a,top:s,left:l}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${s}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),j.createElement(JK,{isPresent:e,childRef:r,sizeRef:i},j.cloneElement(t,{ref:r}))}const O0=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a})=>{const s=zD(eX),l=j.useId(),u=j.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{s.set(c,!0);for(const f of s.values())if(!f)return;r&&r()},register:c=>(s.set(c,!1),()=>s.delete(c))}),o?void 0:[n]);return j.useMemo(()=>{s.forEach((c,f)=>s.set(f,!1))},[n]),j.useEffect(()=>{!n&&!s.size&&r&&r()},[n]),a==="popLayout"&&(t=j.createElement(ZK,{isPresent:n},t)),j.createElement(oy.Provider,{value:u},t)};function eX(){return new Map}function tX(t){return j.useEffect(()=>()=>t(),[])}const ga=t=>t.key||"";function nX(t,e){t.forEach(n=>{const r=ga(n);e.set(r,n)})}function rX(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const dm=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const s=j.useContext(BE).forceRender||QK()[0],l=G$(),u=rX(t);let c=u;const f=j.useRef(new Map).current,d=j.useRef(c),p=j.useRef(new Map).current,m=j.useRef(!0);if($E(()=>{m.current=!1,nX(u,p),d.current=c}),tX(()=>{m.current=!0,p.clear(),f.clear()}),m.current)return j.createElement(j.Fragment,null,c.map(_=>j.createElement(O0,{key:ga(_),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:a},_)));c=[...c];const g=d.current.map(ga),v=u.map(ga),w=g.length;for(let _=0;_<w;_++){const y=g[_];v.indexOf(y)===-1&&!f.has(y)&&f.set(y,void 0)}return a==="wait"&&f.size&&(c=[]),f.forEach((_,y)=>{if(v.indexOf(y)!==-1)return;const I=p.get(y);if(!I)return;const S=g.indexOf(y);let P=_;if(!P){const T=()=>{f.delete(y);const x=Array.from(p.keys()).filter(O=>!v.includes(O));if(x.forEach(O=>p.delete(O)),d.current=u.filter(O=>{const C=ga(O);return C===y||x.includes(C)}),!f.size){if(l.current===!1)return;s(),r&&r()}};P=j.createElement(O0,{key:ga(I),isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:o,mode:a},I),f.set(y,P)}c.splice(S,0,P)}),c=c.map(_=>{const y=_.key;return f.has(y)?_:j.createElement(O0,{key:ga(_),isPresent:!0,presenceAffectsLayout:o,mode:a},_)}),j.createElement(j.Fragment,null,f.size?c:c.map(_=>j.cloneElement(_)))};let iX={data:""},oX=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||iX,aX=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,sX=/\/\*[^]*?\*\/|  +/g,nO=/\n+/g,po=(t,e)=>{let n="",r="",i="";for(let o in t){let a=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+a+";":r+=o[1]=="f"?po(a,o):o+"{"+po(a,o[1]=="k"?"":e)+"}":typeof a=="object"?r+=po(a,e?e.replace(/([^,])+/g,s=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):o):a!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=po.p?po.p(o,a):o+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},si={},K$=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+K$(t[n]);return e}return t},lX=(t,e,n,r,i)=>{let o=K$(t),a=si[o]||(si[o]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(o));if(!si[a]){let l=o!==t?t:(u=>{let c,f,d=[{}];for(;c=aX.exec(u.replace(sX,""));)c[4]?d.shift():c[3]?(f=c[3].replace(nO," ").trim(),d.unshift(d[0][f]=d[0][f]||{})):d[0][c[1]]=c[2].replace(nO," ").trim();return d[0]})(t);si[a]=po(i?{["@keyframes "+a]:l}:l,n?"":"."+a)}let s=n&&si.g?si.g:null;return n&&(si.g=si[a]),((l,u,c,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(si[a],e,r,s),a},uX=(t,e,n)=>t.reduce((r,i,o)=>{let a=e[o];if(a&&a.call){let s=a(n),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;a=l?"."+l:s&&typeof s=="object"?s.props?"":po(s,""):s===!1?"":s}return r+i+(a??"")},"");function hy(t){let e=this||{},n=t.call?t(e.p):t;return lX(n.unshift?n.raw?uX(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,oX(e.target),e.g,e.o,e.k)}let X$,Nb,Mb;hy.bind({g:1});let ji=hy.bind({k:1});function cX(t,e,n,r){po.p=e,X$=t,Nb=n,Mb=r}function Yo(t,e){let n=this||{};return function(){let r=arguments;function i(o,a){let s=Object.assign({},o),l=s.className||i.className;n.p=Object.assign({theme:Nb&&Nb()},s),n.o=/ *go\d+/.test(l),s.className=hy.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=s.as||t,delete s.as),Mb&&u[0]&&Mb(s),X$(u,s)}return i}}var fX=t=>typeof t=="function",pm=(t,e)=>fX(t)?t(e):t,hX=(()=>{let t=0;return()=>(++t).toString()})(),Y$=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),dX=20,o1="default",Q$=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return Q$(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},vp=[],J$={toasts:[],pausedAt:void 0,settings:{toastLimit:dX}},zr={},Z$=(t,e=o1)=>{zr[e]=Q$(zr[e]||J$,t),vp.forEach(([n,r])=>{n===e&&r(zr[e])})},eL=t=>Object.keys(zr).forEach(e=>Z$(t,e)),pX=t=>Object.keys(zr).find(e=>zr[e].toasts.some(n=>n.id===t)),dy=(t=o1)=>e=>{Z$(e,t)},mX={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},gX=(t={},e=o1)=>{let[n,r]=j.useState(zr[e]||J$),i=j.useRef(zr[e]);j.useEffect(()=>(i.current!==zr[e]&&r(zr[e]),vp.push([e,r]),()=>{let a=vp.findIndex(([s])=>s===e);a>-1&&vp.splice(a,1)}),[e]);let o=n.toasts.map(a=>{var s,l,u;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((s=t[a.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||mX[a.type],style:{...t.style,...(u=t[a.type])==null?void 0:u.style,...a.style}}});return{...n,toasts:o}},yX=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||hX()}),Sh=t=>(e,n)=>{let r=yX(e,t,n);return dy(r.toasterId||pX(r.id))({type:2,toast:r}),r.id},Pt=(t,e)=>Sh("blank")(t,e);Pt.error=Sh("error");Pt.success=Sh("success");Pt.loading=Sh("loading");Pt.custom=Sh("custom");Pt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?dy(e)(n):eL(n)};Pt.dismissAll=t=>Pt.dismiss(void 0,t);Pt.remove=(t,e)=>{let n={type:4,toastId:t};e?dy(e)(n):eL(n)};Pt.removeAll=t=>Pt.remove(void 0,t);Pt.promise=(t,e,n)=>{let r=Pt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let o=e.success?pm(e.success,i):void 0;return o?Pt.success(o,{id:r,...n,...n==null?void 0:n.success}):Pt.dismiss(r),i}).catch(i=>{let o=e.error?pm(e.error,i):void 0;o?Pt.error(o,{id:r,...n,...n==null?void 0:n.error}):Pt.dismiss(r)}),t};var vX=1e3,_X=(t,e="default")=>{let{toasts:n,pausedAt:r}=gX(t,e),i=j.useRef(new Map).current,o=j.useCallback((f,d=vX)=>{if(i.has(f))return;let p=setTimeout(()=>{i.delete(f),a({type:4,toastId:f})},d);i.set(f,p)},[]);j.useEffect(()=>{if(r)return;let f=Date.now(),d=n.map(p=>{if(p.duration===1/0)return;let m=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(m<0){p.visible&&Pt.dismiss(p.id);return}return setTimeout(()=>Pt.dismiss(p.id,e),m)});return()=>{d.forEach(p=>p&&clearTimeout(p))}},[n,r,e]);let a=j.useCallback(dy(e),[e]),s=j.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=j.useCallback((f,d)=>{a({type:1,toast:{id:f,height:d}})},[a]),u=j.useCallback(()=>{r&&a({type:6,time:Date.now()})},[r,a]),c=j.useCallback((f,d)=>{let{reverseOrder:p=!1,gutter:m=8,defaultPosition:g}=d||{},v=n.filter(y=>(y.position||g)===(f.position||g)&&y.height),w=v.findIndex(y=>y.id===f.id),_=v.filter((y,I)=>I<w&&y.visible).length;return v.filter(y=>y.visible).slice(...p?[_+1]:[0,_]).reduce((y,I)=>y+(I.height||0)+m,0)},[n]);return j.useEffect(()=>{n.forEach(f=>{if(f.dismissed)o(f.id,f.removeDelay);else{let d=i.get(f.id);d&&(clearTimeout(d),i.delete(f.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:l,startPause:s,endPause:u,calculateOffset:c}}},bX=ji`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,wX=ji`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xX=ji`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,EX=Yo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bX} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${wX} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xX} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,TX=ji`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,SX=Yo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${TX} 1s linear infinite;
`,AX=ji`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,PX=ji`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,IX=Yo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${AX} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${PX} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,OX=Yo("div")`
  position: absolute;
`,CX=Yo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,kX=ji`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RX=Yo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${kX} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,NX=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?j.createElement(RX,null,e):e:n==="blank"?null:j.createElement(CX,null,j.createElement(SX,{...r}),n!=="loading"&&j.createElement(OX,null,n==="error"?j.createElement(EX,{...r}):j.createElement(IX,{...r})))},MX=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jX=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,DX="0%{opacity:0;} 100%{opacity:1;}",$X="0%{opacity:1;} 100%{opacity:0;}",LX=Yo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,VX=Yo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,FX=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=Y$()?[DX,$X]:[MX(n),jX(n)];return{animation:e?`${ji(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ji(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},BX=j.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?FX(t.position||e||"top-center",t.visible):{opacity:0},o=j.createElement(NX,{toast:t}),a=j.createElement(VX,{...t.ariaProps},pm(t.message,t));return j.createElement(LX,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:a}):j.createElement(j.Fragment,null,o,a))});cX(j.createElement);var UX=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=j.useCallback(a=>{if(a){let s=()=>{let l=a.getBoundingClientRect().height;r(t,l)};s(),new MutationObserver(s).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return j.createElement("div",{ref:o,className:e,style:n},i)},zX=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Y$()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},qX=hy`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Rd=16,WX=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:o,containerStyle:a,containerClassName:s})=>{let{toasts:l,handlers:u}=_X(n,o);return j.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Rd,left:Rd,right:Rd,bottom:Rd,pointerEvents:"none",...a},className:s,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let f=c.position||e,d=u.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),p=zX(f,d);return j.createElement(UX,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?qX:"",style:p},c.type==="custom"?pm(c.message,c):i?i(c):j.createElement(BX,{toast:c,position:f}))}))},an=Pt,HX="firebase",GX="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn(HX,GX,"app");var rO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Da,tL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,x){function O(){}O.prototype=x.prototype,T.D=x.prototype,T.prototype=new O,T.prototype.constructor=T,T.C=function(C,k,N){for(var R=Array(arguments.length-2),B=2;B<arguments.length;B++)R[B-2]=arguments[B];return x.prototype[k].apply(C,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,x,O){O||(O=0);var C=Array(16);if(typeof x=="string")for(var k=0;16>k;++k)C[k]=x.charCodeAt(O++)|x.charCodeAt(O++)<<8|x.charCodeAt(O++)<<16|x.charCodeAt(O++)<<24;else for(k=0;16>k;++k)C[k]=x[O++]|x[O++]<<8|x[O++]<<16|x[O++]<<24;x=T.g[0],O=T.g[1],k=T.g[2];var N=T.g[3],R=x+(N^O&(k^N))+C[0]+3614090360&4294967295;x=O+(R<<7&4294967295|R>>>25),R=N+(k^x&(O^k))+C[1]+3905402710&4294967295,N=x+(R<<12&4294967295|R>>>20),R=k+(O^N&(x^O))+C[2]+606105819&4294967295,k=N+(R<<17&4294967295|R>>>15),R=O+(x^k&(N^x))+C[3]+3250441966&4294967295,O=k+(R<<22&4294967295|R>>>10),R=x+(N^O&(k^N))+C[4]+4118548399&4294967295,x=O+(R<<7&4294967295|R>>>25),R=N+(k^x&(O^k))+C[5]+1200080426&4294967295,N=x+(R<<12&4294967295|R>>>20),R=k+(O^N&(x^O))+C[6]+2821735955&4294967295,k=N+(R<<17&4294967295|R>>>15),R=O+(x^k&(N^x))+C[7]+4249261313&4294967295,O=k+(R<<22&4294967295|R>>>10),R=x+(N^O&(k^N))+C[8]+1770035416&4294967295,x=O+(R<<7&4294967295|R>>>25),R=N+(k^x&(O^k))+C[9]+2336552879&4294967295,N=x+(R<<12&4294967295|R>>>20),R=k+(O^N&(x^O))+C[10]+4294925233&4294967295,k=N+(R<<17&4294967295|R>>>15),R=O+(x^k&(N^x))+C[11]+2304563134&4294967295,O=k+(R<<22&4294967295|R>>>10),R=x+(N^O&(k^N))+C[12]+1804603682&4294967295,x=O+(R<<7&4294967295|R>>>25),R=N+(k^x&(O^k))+C[13]+4254626195&4294967295,N=x+(R<<12&4294967295|R>>>20),R=k+(O^N&(x^O))+C[14]+2792965006&4294967295,k=N+(R<<17&4294967295|R>>>15),R=O+(x^k&(N^x))+C[15]+1236535329&4294967295,O=k+(R<<22&4294967295|R>>>10),R=x+(k^N&(O^k))+C[1]+4129170786&4294967295,x=O+(R<<5&4294967295|R>>>27),R=N+(O^k&(x^O))+C[6]+3225465664&4294967295,N=x+(R<<9&4294967295|R>>>23),R=k+(x^O&(N^x))+C[11]+643717713&4294967295,k=N+(R<<14&4294967295|R>>>18),R=O+(N^x&(k^N))+C[0]+3921069994&4294967295,O=k+(R<<20&4294967295|R>>>12),R=x+(k^N&(O^k))+C[5]+3593408605&4294967295,x=O+(R<<5&4294967295|R>>>27),R=N+(O^k&(x^O))+C[10]+38016083&4294967295,N=x+(R<<9&4294967295|R>>>23),R=k+(x^O&(N^x))+C[15]+3634488961&4294967295,k=N+(R<<14&4294967295|R>>>18),R=O+(N^x&(k^N))+C[4]+3889429448&4294967295,O=k+(R<<20&4294967295|R>>>12),R=x+(k^N&(O^k))+C[9]+568446438&4294967295,x=O+(R<<5&4294967295|R>>>27),R=N+(O^k&(x^O))+C[14]+3275163606&4294967295,N=x+(R<<9&4294967295|R>>>23),R=k+(x^O&(N^x))+C[3]+4107603335&4294967295,k=N+(R<<14&4294967295|R>>>18),R=O+(N^x&(k^N))+C[8]+1163531501&4294967295,O=k+(R<<20&4294967295|R>>>12),R=x+(k^N&(O^k))+C[13]+2850285829&4294967295,x=O+(R<<5&4294967295|R>>>27),R=N+(O^k&(x^O))+C[2]+4243563512&4294967295,N=x+(R<<9&4294967295|R>>>23),R=k+(x^O&(N^x))+C[7]+1735328473&4294967295,k=N+(R<<14&4294967295|R>>>18),R=O+(N^x&(k^N))+C[12]+2368359562&4294967295,O=k+(R<<20&4294967295|R>>>12),R=x+(O^k^N)+C[5]+4294588738&4294967295,x=O+(R<<4&4294967295|R>>>28),R=N+(x^O^k)+C[8]+2272392833&4294967295,N=x+(R<<11&4294967295|R>>>21),R=k+(N^x^O)+C[11]+1839030562&4294967295,k=N+(R<<16&4294967295|R>>>16),R=O+(k^N^x)+C[14]+4259657740&4294967295,O=k+(R<<23&4294967295|R>>>9),R=x+(O^k^N)+C[1]+2763975236&4294967295,x=O+(R<<4&4294967295|R>>>28),R=N+(x^O^k)+C[4]+1272893353&4294967295,N=x+(R<<11&4294967295|R>>>21),R=k+(N^x^O)+C[7]+4139469664&4294967295,k=N+(R<<16&4294967295|R>>>16),R=O+(k^N^x)+C[10]+3200236656&4294967295,O=k+(R<<23&4294967295|R>>>9),R=x+(O^k^N)+C[13]+681279174&4294967295,x=O+(R<<4&4294967295|R>>>28),R=N+(x^O^k)+C[0]+3936430074&4294967295,N=x+(R<<11&4294967295|R>>>21),R=k+(N^x^O)+C[3]+3572445317&4294967295,k=N+(R<<16&4294967295|R>>>16),R=O+(k^N^x)+C[6]+76029189&4294967295,O=k+(R<<23&4294967295|R>>>9),R=x+(O^k^N)+C[9]+3654602809&4294967295,x=O+(R<<4&4294967295|R>>>28),R=N+(x^O^k)+C[12]+3873151461&4294967295,N=x+(R<<11&4294967295|R>>>21),R=k+(N^x^O)+C[15]+530742520&4294967295,k=N+(R<<16&4294967295|R>>>16),R=O+(k^N^x)+C[2]+3299628645&4294967295,O=k+(R<<23&4294967295|R>>>9),R=x+(k^(O|~N))+C[0]+4096336452&4294967295,x=O+(R<<6&4294967295|R>>>26),R=N+(O^(x|~k))+C[7]+1126891415&4294967295,N=x+(R<<10&4294967295|R>>>22),R=k+(x^(N|~O))+C[14]+2878612391&4294967295,k=N+(R<<15&4294967295|R>>>17),R=O+(N^(k|~x))+C[5]+4237533241&4294967295,O=k+(R<<21&4294967295|R>>>11),R=x+(k^(O|~N))+C[12]+1700485571&4294967295,x=O+(R<<6&4294967295|R>>>26),R=N+(O^(x|~k))+C[3]+2399980690&4294967295,N=x+(R<<10&4294967295|R>>>22),R=k+(x^(N|~O))+C[10]+4293915773&4294967295,k=N+(R<<15&4294967295|R>>>17),R=O+(N^(k|~x))+C[1]+2240044497&4294967295,O=k+(R<<21&4294967295|R>>>11),R=x+(k^(O|~N))+C[8]+1873313359&4294967295,x=O+(R<<6&4294967295|R>>>26),R=N+(O^(x|~k))+C[15]+4264355552&4294967295,N=x+(R<<10&4294967295|R>>>22),R=k+(x^(N|~O))+C[6]+2734768916&4294967295,k=N+(R<<15&4294967295|R>>>17),R=O+(N^(k|~x))+C[13]+1309151649&4294967295,O=k+(R<<21&4294967295|R>>>11),R=x+(k^(O|~N))+C[4]+4149444226&4294967295,x=O+(R<<6&4294967295|R>>>26),R=N+(O^(x|~k))+C[11]+3174756917&4294967295,N=x+(R<<10&4294967295|R>>>22),R=k+(x^(N|~O))+C[2]+718787259&4294967295,k=N+(R<<15&4294967295|R>>>17),R=O+(N^(k|~x))+C[9]+3951481745&4294967295,T.g[0]=T.g[0]+x&4294967295,T.g[1]=T.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+N&4294967295}r.prototype.u=function(T,x){x===void 0&&(x=T.length);for(var O=x-this.blockSize,C=this.B,k=this.h,N=0;N<x;){if(k==0)for(;N<=O;)i(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<x;)if(C[k++]=T.charCodeAt(N++),k==this.blockSize){i(this,C),k=0;break}}else for(;N<x;)if(C[k++]=T[N++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=x},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var x=1;x<T.length-8;++x)T[x]=0;var O=8*this.o;for(x=T.length-8;x<T.length;++x)T[x]=O&255,O/=256;for(this.u(T),T=Array(16),x=O=0;4>x;++x)for(var C=0;32>C;C+=8)T[O++]=this.g[x]>>>C&255;return T};function o(T,x){var O=s;return Object.prototype.hasOwnProperty.call(O,T)?O[T]:O[T]=x(T)}function a(T,x){this.h=x;for(var O=[],C=!0,k=T.length-1;0<=k;k--){var N=T[k]|0;C&&N==x||(O[k]=N,C=!1)}this.g=O}var s={};function l(T){return-128<=T&&128>T?o(T,function(x){return new a([x|0],0>x?-1:0)}):new a([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return v(u(-T));for(var x=[],O=1,C=0;T>=O;C++)x[C]=T/O|0,O*=4294967296;return new a(x,0)}function c(T,x){if(T.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(T.charAt(0)=="-")return v(c(T.substring(1),x));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=u(Math.pow(x,8)),C=f,k=0;k<T.length;k+=8){var N=Math.min(8,T.length-k),R=parseInt(T.substring(k,k+N),x);8>N?(N=u(Math.pow(x,N)),C=C.j(N).add(u(R))):(C=C.j(O),C=C.add(u(R)))}return C}var f=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-v(this).m();for(var T=0,x=1,O=0;O<this.g.length;O++){var C=this.i(O);T+=(0<=C?C:4294967296+C)*x,x*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(m(this))return"0";if(g(this))return"-"+v(this).toString(T);for(var x=u(Math.pow(T,6)),O=this,C="";;){var k=I(O,x).g;O=w(O,k.j(x));var N=((0<O.g.length?O.g[0]:O.h)>>>0).toString(T);if(O=k,m(O))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function m(T){if(T.h!=0)return!1;for(var x=0;x<T.g.length;x++)if(T.g[x]!=0)return!1;return!0}function g(T){return T.h==-1}t.l=function(T){return T=w(this,T),g(T)?-1:m(T)?0:1};function v(T){for(var x=T.g.length,O=[],C=0;C<x;C++)O[C]=~T.g[C];return new a(O,~T.h).add(d)}t.abs=function(){return g(this)?v(this):this},t.add=function(T){for(var x=Math.max(this.g.length,T.g.length),O=[],C=0,k=0;k<=x;k++){var N=C+(this.i(k)&65535)+(T.i(k)&65535),R=(N>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);C=R>>>16,N&=65535,R&=65535,O[k]=R<<16|N}return new a(O,O[O.length-1]&-2147483648?-1:0)};function w(T,x){return T.add(v(x))}t.j=function(T){if(m(this)||m(T))return f;if(g(this))return g(T)?v(this).j(v(T)):v(v(this).j(T));if(g(T))return v(this.j(v(T)));if(0>this.l(p)&&0>T.l(p))return u(this.m()*T.m());for(var x=this.g.length+T.g.length,O=[],C=0;C<2*x;C++)O[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<T.g.length;k++){var N=this.i(C)>>>16,R=this.i(C)&65535,B=T.i(k)>>>16,V=T.i(k)&65535;O[2*C+2*k]+=R*V,_(O,2*C+2*k),O[2*C+2*k+1]+=N*V,_(O,2*C+2*k+1),O[2*C+2*k+1]+=R*B,_(O,2*C+2*k+1),O[2*C+2*k+2]+=N*B,_(O,2*C+2*k+2)}for(C=0;C<x;C++)O[C]=O[2*C+1]<<16|O[2*C];for(C=x;C<2*x;C++)O[C]=0;return new a(O,0)};function _(T,x){for(;(T[x]&65535)!=T[x];)T[x+1]+=T[x]>>>16,T[x]&=65535,x++}function y(T,x){this.g=T,this.h=x}function I(T,x){if(m(x))throw Error("division by zero");if(m(T))return new y(f,f);if(g(T))return x=I(v(T),x),new y(v(x.g),v(x.h));if(g(x))return x=I(T,v(x)),new y(v(x.g),x.h);if(30<T.g.length){if(g(T)||g(x))throw Error("slowDivide_ only works with positive integers.");for(var O=d,C=x;0>=C.l(T);)O=S(O),C=S(C);var k=P(O,1),N=P(C,1);for(C=P(C,2),O=P(O,2);!m(C);){var R=N.add(C);0>=R.l(T)&&(k=k.add(O),N=R),C=P(C,1),O=P(O,1)}return x=w(T,k.j(x)),new y(k,x)}for(k=f;0<=T.l(x);){for(O=Math.max(1,Math.floor(T.m()/x.m())),C=Math.ceil(Math.log(O)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=u(O),R=N.j(x);g(R)||0<R.l(T);)O-=C,N=u(O),R=N.j(x);m(N)&&(N=d),k=k.add(N),T=w(T,R)}return new y(k,T)}t.A=function(T){return I(this,T).h},t.and=function(T){for(var x=Math.max(this.g.length,T.g.length),O=[],C=0;C<x;C++)O[C]=this.i(C)&T.i(C);return new a(O,this.h&T.h)},t.or=function(T){for(var x=Math.max(this.g.length,T.g.length),O=[],C=0;C<x;C++)O[C]=this.i(C)|T.i(C);return new a(O,this.h|T.h)},t.xor=function(T){for(var x=Math.max(this.g.length,T.g.length),O=[],C=0;C<x;C++)O[C]=this.i(C)^T.i(C);return new a(O,this.h^T.h)};function S(T){for(var x=T.g.length+1,O=[],C=0;C<x;C++)O[C]=T.i(C)<<1|T.i(C-1)>>>31;return new a(O,T.h)}function P(T,x){var O=x>>5;x%=32;for(var C=T.g.length-O,k=[],N=0;N<C;N++)k[N]=0<x?T.i(N+O)>>>x|T.i(N+O+1)<<32-x:T.i(N+O);return new a(k,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tL=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,Da=a}).apply(typeof rO<"u"?rO:typeof self<"u"?self:typeof window<"u"?window:{});var Nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nL,fc,rL,_p,jb,iL,oL,aL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,b,A){return h==Array.prototype||h==Object.prototype||(h[b]=A.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nd=="object"&&Nd];for(var b=0;b<h.length;++b){var A=h[b];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(h,b){if(b)e:{var A=r;h=h.split(".");for(var M=0;M<h.length-1;M++){var $=h[M];if(!($ in A))break e;A=A[$]}h=h[h.length-1],M=A[h],b=b(M),b!=M&&b!=null&&e(A,h,{configurable:!0,writable:!0,value:b})}}function o(h,b){h instanceof String&&(h+="");var A=0,M=!1,$={next:function(){if(!M&&A<h.length){var U=A++;return{value:b(U,h[U]),done:!1}}return M=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(h){return h||function(){return o(this,function(b,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(h){var b=typeof h;return b=b!="object"?b:h?Array.isArray(h)?"array":b:"null",b=="array"||b=="object"&&typeof h.length=="number"}function u(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function c(h,b,A){return h.call.apply(h.bind,arguments)}function f(h,b,A){if(!h)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,M),h.apply(b,$)}}return function(){return h.apply(b,arguments)}}function d(h,b,A){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function p(h,b){var A=Array.prototype.slice.call(arguments,1);return function(){var M=A.slice();return M.push.apply(M,arguments),h.apply(this,M)}}function m(h,b){function A(){}A.prototype=b.prototype,h.aa=b.prototype,h.prototype=new A,h.prototype.constructor=h,h.Qb=function(M,$,U){for(var Z=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)Z[Ve-2]=arguments[Ve];return b.prototype[$].apply(M,Z)}}function g(h){const b=h.length;if(0<b){const A=Array(b);for(let M=0;M<b;M++)A[M]=h[M];return A}return[]}function v(h,b){for(let A=1;A<arguments.length;A++){const M=arguments[A];if(l(M)){const $=h.length||0,U=M.length||0;h.length=$+U;for(let Z=0;Z<U;Z++)h[$+Z]=M[Z]}else h.push(M)}}class w{constructor(b,A){this.i=b,this.j=A,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function _(h){return/^[\s\xa0]*$/.test(h)}function y(){var h=s.navigator;return h&&(h=h.userAgent)?h:""}function I(h){return I[" "](h),h}I[" "]=function(){};var S=y().indexOf("Gecko")!=-1&&!(y().toLowerCase().indexOf("webkit")!=-1&&y().indexOf("Edge")==-1)&&!(y().indexOf("Trident")!=-1||y().indexOf("MSIE")!=-1)&&y().indexOf("Edge")==-1;function P(h,b,A){for(const M in h)b.call(A,h[M],M,h)}function T(h,b){for(const A in h)b.call(void 0,h[A],A,h)}function x(h){const b={};for(const A in h)b[A]=h[A];return b}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,b){let A,M;for(let $=1;$<arguments.length;$++){M=arguments[$];for(A in M)h[A]=M[A];for(let U=0;U<O.length;U++)A=O[U],Object.prototype.hasOwnProperty.call(M,A)&&(h[A]=M[A])}}function k(h){var b=1;h=h.split(":");const A=[];for(;0<b&&h.length;)A.push(h.shift()),b--;return h.length&&A.push(h.join(":")),A}function N(h){s.setTimeout(()=>{throw h},0)}function R(){var h=z;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class B{constructor(){this.h=this.g=null}add(b,A){const M=V.get();M.set(b,A),this.h?this.h.next=M:this.g=M,this.h=M}}var V=new w(()=>new F,h=>h.reset());class F{constructor(){this.next=this.g=this.h=null}set(b,A){this.h=b,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let q,L=!1,z=new B,G=()=>{const h=s.Promise.resolve(void 0);q=()=>{h.then(Q)}};var Q=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(A){N(A)}var b=V;b.j(h),100>b.h&&(b.h++,h.next=b.g,b.g=h)}L=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};s.addEventListener("test",A,b),s.removeEventListener("test",A,b)}catch{}return h}();function Ae(h,b){if(re.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var A=this.type=h.type,M=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget){if(S){e:{try{I(b.nodeName);var $=!0;break e}catch{}$=!1}$||(b=null)}}else A=="mouseover"?b=h.fromElement:A=="mouseout"&&(b=h.toElement);this.relatedTarget=b,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:je[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ae.aa.h.call(this)}}m(Ae,re);var je={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),kt=0;function te(h,b,A,M,$){this.listener=h,this.proxy=null,this.src=b,this.type=A,this.capture=!!M,this.ha=$,this.key=++kt,this.da=this.fa=!1}function ce(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ue(h){this.src=h,this.g={},this.h=0}ue.prototype.add=function(h,b,A,M,$){var U=h.toString();h=this.g[U],h||(h=this.g[U]=[],this.h++);var Z=qe(h,b,M,$);return-1<Z?(b=h[Z],A||(b.fa=!1)):(b=new te(b,this.src,U,!!M,$),b.fa=A,h.push(b)),b};function X(h,b){var A=b.type;if(A in h.g){var M=h.g[A],$=Array.prototype.indexOf.call(M,b,void 0),U;(U=0<=$)&&Array.prototype.splice.call(M,$,1),U&&(ce(b),h.g[A].length==0&&(delete h.g[A],h.h--))}}function qe(h,b,A,M){for(var $=0;$<h.length;++$){var U=h[$];if(!U.da&&U.listener==b&&U.capture==!!A&&U.ha==M)return $}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),tt={};function lt(h,b,A,M,$){if(Array.isArray(b)){for(var U=0;U<b.length;U++)lt(h,b[U],A,M,$);return null}return A=Eu(A),h&&h[gt]?h.K(b,A,u(M)?!!M.capture:!1,$):Yt(h,b,A,!1,M,$)}function Yt(h,b,A,M,$,U){if(!b)throw Error("Invalid event type");var Z=u($)?!!$.capture:!!$,Ve=ia(h);if(Ve||(h[_e]=Ve=new ue(h)),A=Ve.add(b,A,M,Z,U),A.proxy)return A;if(M=Lr(),A.proxy=M,M.src=h,M.listener=A,h.addEventListener)ve||($=Z),$===void 0&&($=!1),h.addEventListener(b.toString(),M,$);else if(h.attachEvent)h.attachEvent(Vr(b.toString()),M);else if(h.addListener&&h.removeListener)h.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Lr(){function h(A){return b.call(h.src,h.listener,A)}const b=ii;return h}function ri(h,b,A,M,$){if(Array.isArray(b))for(var U=0;U<b.length;U++)ri(h,b[U],A,M,$);else M=u(M)?!!M.capture:!!M,A=Eu(A),h&&h[gt]?(h=h.i,b=String(b).toString(),b in h.g&&(U=h.g[b],A=qe(U,A,M,$),-1<A&&(ce(U[A]),Array.prototype.splice.call(U,A,1),U.length==0&&(delete h.g[b],h.h--)))):h&&(h=ia(h))&&(b=h.g[b.toString()],h=-1,b&&(h=qe(b,A,M,$)),(A=-1<h?b[h]:null)&&Yi(A))}function Yi(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[gt])X(b.i,h);else{var A=h.type,M=h.proxy;b.removeEventListener?b.removeEventListener(A,M,h.capture):b.detachEvent?b.detachEvent(Vr(A),M):b.addListener&&b.removeListener&&b.removeListener(M),(A=ia(b))?(X(A,h),A.h==0&&(A.src=null,b[_e]=null)):ce(h)}}}function Vr(h){return h in tt?tt[h]:tt[h]="on"+h}function ii(h,b){if(h.da)h=!0;else{b=new Ae(b,this);var A=h.listener,M=h.ha||h.src;h.fa&&Yi(h),h=A.call(M,b)}return h}function ia(h){return h=h[_e],h instanceof ue?h:null}var ys="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eu(h){return typeof h=="function"?h:(h[ys]||(h[ys]=function(b){return h.handleEvent(b)}),h[ys])}function Qt(){K.call(this),this.i=new ue(this),this.M=this,this.F=null}m(Qt,K),Qt.prototype[gt]=!0,Qt.prototype.removeEventListener=function(h,b,A,M){ri(this,h,b,A,M)};function pn(h,b){var A,M=h.F;if(M)for(A=[];M;M=M.F)A.push(M);if(h=h.M,M=b.type||b,typeof b=="string")b=new re(b,h);else if(b instanceof re)b.target=b.target||h;else{var $=b;b=new re(M,h),C(b,$)}if($=!0,A)for(var U=A.length-1;0<=U;U--){var Z=b.g=A[U];$=Gh(Z,M,!0,b)&&$}if(Z=b.g=h,$=Gh(Z,M,!0,b)&&$,$=Gh(Z,M,!1,b)&&$,A)for(U=0;U<A.length;U++)Z=b.g=A[U],$=Gh(Z,M,!1,b)&&$}Qt.prototype.N=function(){if(Qt.aa.N.call(this),this.i){var h=this.i,b;for(b in h.g){for(var A=h.g[b],M=0;M<A.length;M++)ce(A[M]);delete h.g[b],h.h--}}this.F=null},Qt.prototype.K=function(h,b,A,M){return this.i.add(String(h),b,!1,A,M)},Qt.prototype.L=function(h,b,A,M){return this.i.add(String(h),b,!0,A,M)};function Gh(h,b,A,M){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();for(var $=!0,U=0;U<b.length;++U){var Z=b[U];if(Z&&!Z.da&&Z.capture==A){var Ve=Z.listener,Vt=Z.ha||Z.src;Z.fa&&X(h.i,Z),$=Ve.call(Vt,M)!==!1&&$}}return $&&!M.defaultPrevented}function fS(h,b,A){if(typeof h=="function")A&&(h=d(h,A));else if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:s.setTimeout(h,b||0)}function hS(h){h.g=fS(()=>{h.g=null,h.i&&(h.i=!1,hS(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Y3 extends K{constructor(b,A){super(),this.m=b,this.l=A,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:hS(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tu(h){K.call(this),this.h=h,this.g={}}m(Tu,K);var dS=[];function pS(h){P(h.g,function(b,A){this.g.hasOwnProperty(A)&&Yi(b)},h),h.g={}}Tu.prototype.N=function(){Tu.aa.N.call(this),pS(this)},Tu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wv=s.JSON.stringify,Q3=s.JSON.parse,J3=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function xv(){}xv.prototype.h=null;function mS(h){return h.h||(h.h=h.i())}function gS(){}var Su={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ev(){re.call(this,"d")}m(Ev,re);function Tv(){re.call(this,"c")}m(Tv,re);var oa={},yS=null;function Kh(){return yS=yS||new Qt}oa.La="serverreachability";function vS(h){re.call(this,oa.La,h)}m(vS,re);function Au(h){const b=Kh();pn(b,new vS(b))}oa.STAT_EVENT="statevent";function _S(h,b){re.call(this,oa.STAT_EVENT,h),this.stat=b}m(_S,re);function mn(h){const b=Kh();pn(b,new _S(b,h))}oa.Ma="timingevent";function bS(h,b){re.call(this,oa.Ma,h),this.size=b}m(bS,re);function Pu(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},b)}function Iu(){this.g=!0}Iu.prototype.xa=function(){this.g=!1};function Z3(h,b,A,M,$,U){h.info(function(){if(h.g)if(U)for(var Z="",Ve=U.split("&"),Vt=0;Vt<Ve.length;Vt++){var ke=Ve[Vt].split("=");if(1<ke.length){var Jt=ke[0];ke=ke[1];var Zt=Jt.split("_");Z=2<=Zt.length&&Zt[1]=="type"?Z+(Jt+"="+ke+"&"):Z+(Jt+"=redacted&")}}else Z=null;else Z=U;return"XMLHTTP REQ ("+M+") [attempt "+$+"]: "+b+`
`+A+`
`+Z})}function e4(h,b,A,M,$,U,Z){h.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+$+"]: "+b+`
`+A+`
`+U+" "+Z})}function vs(h,b,A,M){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+n4(h,A)+(M?" "+M:"")})}function t4(h,b){h.info(function(){return"TIMEOUT: "+b})}Iu.prototype.info=function(){};function n4(h,b){if(!h.g)return b;if(!b)return null;try{var A=JSON.parse(b);if(A){for(h=0;h<A.length;h++)if(Array.isArray(A[h])){var M=A[h];if(!(2>M.length)){var $=M[1];if(Array.isArray($)&&!(1>$.length)){var U=$[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Z=1;Z<$.length;Z++)$[Z]=""}}}}return wv(A)}catch{return b}}var Xh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sv;function Yh(){}m(Yh,xv),Yh.prototype.g=function(){return new XMLHttpRequest},Yh.prototype.i=function(){return{}},Sv=new Yh;function Qi(h,b,A,M){this.j=h,this.i=b,this.l=A,this.R=M||1,this.U=new Tu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xS}function xS(){this.i=null,this.g="",this.h=!1}var ES={},Av={};function Pv(h,b,A){h.L=1,h.v=ed(oi(b)),h.m=A,h.P=!0,TS(h,null)}function TS(h,b){h.F=Date.now(),Qh(h),h.A=oi(h.v);var A=h.A,M=h.R;Array.isArray(M)||(M=[String(M)]),LS(A.i,"t",M),h.C=0,A=h.j.J,h.h=new xS,h.g=nA(h.j,A?b:null,!h.m),0<h.O&&(h.M=new Y3(d(h.Y,h,h.g),h.O)),b=h.U,A=h.g,M=h.ca;var $="readystatechange";Array.isArray($)||($&&(dS[0]=$.toString()),$=dS);for(var U=0;U<$.length;U++){var Z=lt(A,$[U],M||b.handleEvent,!1,b.h||b);if(!Z)break;b.g[Z.key]=Z}b=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,b)):(h.u="GET",h.g.ea(h.A,h.u,null,b)),Au(),Z3(h.i,h.u,h.A,h.l,h.R,h.m)}Qi.prototype.ca=function(h){h=h.target;const b=this.M;b&&ai(h)==3?b.j():this.Y(h)},Qi.prototype.Y=function(h){try{if(h==this.g)e:{const Zt=ai(this.g);var b=this.g.Ba();const ws=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||WS(this.g)))){this.J||Zt!=4||b==7||(b==8||0>=ws?Au(3):Au(2)),Iv(this);var A=this.g.Z();this.X=A;t:if(SS(this)){var M=WS(this.g);h="";var $=M.length,U=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){aa(this),Ou(this);var Z="";break t}this.h.i=new s.TextDecoder}for(b=0;b<$;b++)this.h.h=!0,h+=this.h.i.decode(M[b],{stream:!(U&&b==$-1)});M.length=0,this.h.g+=h,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=A==200,e4(this.i,this.u,this.A,this.l,this.R,Zt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Vt=this.g;if((Ve=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ve)){var ke=Ve;break t}}ke=null}if(A=ke)vs(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ov(this,A);else{this.o=!1,this.s=3,mn(12),aa(this),Ou(this);break e}}if(this.P){A=!0;let gr;for(;!this.J&&this.C<Z.length;)if(gr=r4(this,Z),gr==Av){Zt==4&&(this.s=4,mn(14),A=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(gr==ES){this.s=4,mn(15),vs(this.i,this.l,Z,"[Invalid Chunk]"),A=!1;break}else vs(this.i,this.l,gr,null),Ov(this,gr);if(SS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||Z.length!=0||this.h.h||(this.s=1,mn(16),A=!1),this.o=this.o&&A,!A)vs(this.i,this.l,Z,"[Invalid Chunked Response]"),aa(this),Ou(this);else if(0<Z.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),jv(Jt),Jt.M=!0,mn(11))}}else vs(this.i,this.l,Z,null),Ov(this,Z);Zt==4&&aa(this),this.o&&!this.J&&(Zt==4?JS(this.j,this):(this.o=!1,Qh(this)))}else b4(this.g),A==400&&0<Z.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),aa(this),Ou(this)}}}catch{}finally{}};function SS(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function r4(h,b){var A=h.C,M=b.indexOf(`
`,A);return M==-1?Av:(A=Number(b.substring(A,M)),isNaN(A)?ES:(M+=1,M+A>b.length?Av:(b=b.slice(M,M+A),h.C=M+A,b)))}Qi.prototype.cancel=function(){this.J=!0,aa(this)};function Qh(h){h.S=Date.now()+h.I,AS(h,h.I)}function AS(h,b){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Pu(d(h.ba,h),b)}function Iv(h){h.B&&(s.clearTimeout(h.B),h.B=null)}Qi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(t4(this.i,this.A),this.L!=2&&(Au(),mn(17)),aa(this),this.s=2,Ou(this)):AS(this,this.S-h)};function Ou(h){h.j.G==0||h.J||JS(h.j,h)}function aa(h){Iv(h);var b=h.M;b&&typeof b.ma=="function"&&b.ma(),h.M=null,pS(h.U),h.g&&(b=h.g,h.g=null,b.abort(),b.ma())}function Ov(h,b){try{var A=h.j;if(A.G!=0&&(A.g==h||Cv(A.h,h))){if(!h.K&&Cv(A.h,h)&&A.G==3){try{var M=A.Da.g.parse(b)}catch{M=null}if(Array.isArray(M)&&M.length==3){var $=M;if($[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<h.F)ad(A),id(A);else break e;Mv(A),mn(18)}}else A.za=$[1],0<A.za-A.T&&37500>$[2]&&A.F&&A.v==0&&!A.C&&(A.C=Pu(d(A.Za,A),6e3));if(1>=OS(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else la(A,11)}else if((h.K||A.g==h)&&ad(A),!_(b))for($=A.Da.g.parse(b),b=0;b<$.length;b++){let ke=$[b];if(A.T=ke[0],ke=ke[1],A.G==2)if(ke[0]=="c"){A.K=ke[1],A.ia=ke[2];const Jt=ke[3];Jt!=null&&(A.la=Jt,A.j.info("VER="+A.la));const Zt=ke[4];Zt!=null&&(A.Aa=Zt,A.j.info("SVER="+A.Aa));const ws=ke[5];ws!=null&&typeof ws=="number"&&0<ws&&(M=1.5*ws,A.L=M,A.j.info("backChannelRequestTimeoutMs_="+M)),M=A;const gr=h.g;if(gr){const ld=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ld){var U=M.h;U.g||ld.indexOf("spdy")==-1&&ld.indexOf("quic")==-1&&ld.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(kv(U,U.h),U.h=null))}if(M.D){const Dv=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Dv&&(M.ya=Dv,Ke(M.I,M.D,Dv))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-h.F,A.j.info("Handshake RTT: "+A.R+"ms")),M=A;var Z=h;if(M.qa=tA(M,M.J?M.ia:null,M.W),Z.K){CS(M.h,Z);var Ve=Z,Vt=M.L;Vt&&(Ve.I=Vt),Ve.B&&(Iv(Ve),Qh(Ve)),M.g=Z}else YS(M);0<A.i.length&&od(A)}else ke[0]!="stop"&&ke[0]!="close"||la(A,7);else A.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?la(A,7):Nv(A):ke[0]!="noop"&&A.l&&A.l.ta(ke),A.v=0)}}Au(4)}catch{}}var i4=class{constructor(h,b){this.g=h,this.map=b}};function PS(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function IS(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function OS(h){return h.h?1:h.g?h.g.size:0}function Cv(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function kv(h,b){h.g?h.g.add(b):h.h=b}function CS(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}PS.prototype.cancel=function(){if(this.i=kS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function kS(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const A of h.g.values())b=b.concat(A.D);return b}return g(h.i)}function o4(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var b=[],A=h.length,M=0;M<A;M++)b.push(h[M]);return b}b=[],A=0;for(M in h)b[A++]=h[M];return b}function a4(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var b=[];h=h.length;for(var A=0;A<h;A++)b.push(A);return b}b=[],A=0;for(const M in h)b[A++]=M;return b}}}function RS(h,b){if(h.forEach&&typeof h.forEach=="function")h.forEach(b,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,b,void 0);else for(var A=a4(h),M=o4(h),$=M.length,U=0;U<$;U++)b.call(void 0,M[U],A&&A[U],h)}var NS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function s4(h,b){if(h){h=h.split("&");for(var A=0;A<h.length;A++){var M=h[A].indexOf("="),$=null;if(0<=M){var U=h[A].substring(0,M);$=h[A].substring(M+1)}else U=h[A];b(U,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function sa(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof sa){this.h=h.h,Jh(this,h.j),this.o=h.o,this.g=h.g,Zh(this,h.s),this.l=h.l;var b=h.i,A=new Ru;A.i=b.i,b.g&&(A.g=new Map(b.g),A.h=b.h),MS(this,A),this.m=h.m}else h&&(b=String(h).match(NS))?(this.h=!1,Jh(this,b[1]||"",!0),this.o=Cu(b[2]||""),this.g=Cu(b[3]||"",!0),Zh(this,b[4]),this.l=Cu(b[5]||"",!0),MS(this,b[6]||"",!0),this.m=Cu(b[7]||"")):(this.h=!1,this.i=new Ru(null,this.h))}sa.prototype.toString=function(){var h=[],b=this.j;b&&h.push(ku(b,jS,!0),":");var A=this.g;return(A||b=="file")&&(h.push("//"),(b=this.o)&&h.push(ku(b,jS,!0),"@"),h.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&h.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(ku(A,A.charAt(0)=="/"?c4:u4,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",ku(A,h4)),h.join("")};function oi(h){return new sa(h)}function Jh(h,b,A){h.j=A?Cu(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Zh(h,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);h.s=b}else h.s=null}function MS(h,b,A){b instanceof Ru?(h.i=b,d4(h.i,h.h)):(A||(b=ku(b,f4)),h.i=new Ru(b,h.h))}function Ke(h,b,A){h.i.set(b,A)}function ed(h){return Ke(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Cu(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ku(h,b,A){return typeof h=="string"?(h=encodeURI(h).replace(b,l4),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function l4(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var jS=/[#\/\?@]/g,u4=/[#\?:]/g,c4=/[#\?]/g,f4=/[#\?@]/g,h4=/#/g;function Ru(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Ji(h){h.g||(h.g=new Map,h.h=0,h.i&&s4(h.i,function(b,A){h.add(decodeURIComponent(b.replace(/\+/g," ")),A)}))}t=Ru.prototype,t.add=function(h,b){Ji(this),this.i=null,h=_s(this,h);var A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(b),this.h+=1,this};function DS(h,b){Ji(h),b=_s(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function $S(h,b){return Ji(h),b=_s(h,b),h.g.has(b)}t.forEach=function(h,b){Ji(this),this.g.forEach(function(A,M){A.forEach(function($){h.call(b,$,M,this)},this)},this)},t.na=function(){Ji(this);const h=Array.from(this.g.values()),b=Array.from(this.g.keys()),A=[];for(let M=0;M<b.length;M++){const $=h[M];for(let U=0;U<$.length;U++)A.push(b[M])}return A},t.V=function(h){Ji(this);let b=[];if(typeof h=="string")$S(this,h)&&(b=b.concat(this.g.get(_s(this,h))));else{h=Array.from(this.g.values());for(let A=0;A<h.length;A++)b=b.concat(h[A])}return b},t.set=function(h,b){return Ji(this),this.i=null,h=_s(this,h),$S(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=this.V(h),0<h.length?String(h[0]):b):b};function LS(h,b,A){DS(h,b),0<A.length&&(h.i=null,h.g.set(_s(h,b),g(A)),h.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(var A=0;A<b.length;A++){var M=b[A];const U=encodeURIComponent(String(M)),Z=this.V(M);for(M=0;M<Z.length;M++){var $=U;Z[M]!==""&&($+="="+encodeURIComponent(String(Z[M]))),h.push($)}}return this.i=h.join("&")};function _s(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function d4(h,b){b&&!h.j&&(Ji(h),h.i=null,h.g.forEach(function(A,M){var $=M.toLowerCase();M!=$&&(DS(this,M),LS(this,$,A))},h)),h.j=b}function p4(h,b){const A=new Iu;if(s.Image){const M=new Image;M.onload=p(Zi,A,"TestLoadImage: loaded",!0,b,M),M.onerror=p(Zi,A,"TestLoadImage: error",!1,b,M),M.onabort=p(Zi,A,"TestLoadImage: abort",!1,b,M),M.ontimeout=p(Zi,A,"TestLoadImage: timeout",!1,b,M),s.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=h}else b(!1)}function m4(h,b){const A=new Iu,M=new AbortController,$=setTimeout(()=>{M.abort(),Zi(A,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:M.signal}).then(U=>{clearTimeout($),U.ok?Zi(A,"TestPingServer: ok",!0,b):Zi(A,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout($),Zi(A,"TestPingServer: error",!1,b)})}function Zi(h,b,A,M,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),M(A)}catch{}}function g4(){this.g=new J3}function y4(h,b,A){const M=A||"";try{RS(h,function($,U){let Z=$;u($)&&(Z=wv($)),b.push(M+U+"="+encodeURIComponent(Z))})}catch($){throw b.push(M+"type="+encodeURIComponent("_badmap")),$}}function td(h){this.l=h.Ub||null,this.j=h.eb||!1}m(td,xv),td.prototype.g=function(){return new nd(this.l,this.j)},td.prototype.i=function(h){return function(){return h}}({});function nd(h,b){Qt.call(this),this.D=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(nd,Qt),t=nd.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=b,this.readyState=1,Mu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(b.body=h),(this.D||s).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Mu(this)),this.g&&(this.readyState=3,Mu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;VS(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function VS(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Nu(this):Mu(this),this.readyState==3&&VS(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Nu(this))},t.Qa=function(h){this.g&&(this.response=h,Nu(this))},t.ga=function(){this.g&&Nu(this)};function Nu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Mu(h)}t.setRequestHeader=function(h,b){this.u.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var A=b.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=b.next();return h.join(`\r
`)};function Mu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(nd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function FS(h){let b="";return P(h,function(A,M){b+=M,b+=":",b+=A,b+=`\r
`}),b}function Rv(h,b,A){e:{for(M in A){var M=!1;break e}M=!0}M||(A=FS(A),typeof h=="string"?A!=null&&encodeURIComponent(String(A)):Ke(h,b,A))}function ut(h){Qt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(ut,Qt);var v4=/^https?$/i,_4=["POST","PUT"];t=ut.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,b,A,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sv.g(),this.v=this.o?mS(this.o):mS(Sv),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(U){BS(this,U);return}if(h=A||"",A=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var $ in M)A.set($,M[$]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const U of M.keys())A.set(U,M.get(U));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(A.keys()).find(U=>U.toLowerCase()=="content-type"),$=s.FormData&&h instanceof s.FormData,!(0<=Array.prototype.indexOf.call(_4,b,void 0))||M||$||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Z]of A)this.g.setRequestHeader(U,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qS(this),this.u=!0,this.g.send(h),this.u=!1}catch(U){BS(this,U)}};function BS(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.m=5,US(h),rd(h)}function US(h){h.A||(h.A=!0,pn(h,"complete"),pn(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,pn(this,"complete"),pn(this,"abort"),rd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rd(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zS(this):this.bb())},t.bb=function(){zS(this)};function zS(h){if(h.h&&typeof a<"u"&&(!h.v[1]||ai(h)!=4||h.Z()!=2)){if(h.u&&ai(h)==4)fS(h.Ea,0,h);else if(pn(h,"readystatechange"),ai(h)==4){h.h=!1;try{const Z=h.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var A;if(!(A=b)){var M;if(M=Z===0){var $=String(h.D).match(NS)[1]||null;!$&&s.self&&s.self.location&&($=s.self.location.protocol.slice(0,-1)),M=!v4.test($?$.toLowerCase():"")}A=M}if(A)pn(h,"complete"),pn(h,"success");else{h.m=6;try{var U=2<ai(h)?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.Z()+"]",US(h)}}finally{rd(h)}}}}function rd(h,b){if(h.g){qS(h);const A=h.g,M=h.v[0]?()=>{}:null;h.g=null,h.v=null,b||pn(h,"ready");try{A.onreadystatechange=M}catch{}}}function qS(h){h.I&&(s.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ai(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),Q3(b)}};function WS(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function b4(h){const b={};h=(h.g&&2<=ai(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<h.length;M++){if(_(h[M]))continue;var A=k(h[M]);const $=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const U=b[$]||[];b[$]=U,U.push(A)}T(b,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ju(h,b,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||b}function HS(h){this.Aa=0,this.i=[],this.j=new Iu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ju("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ju("baseRetryDelayMs",5e3,h),this.cb=ju("retryDelaySeedMs",1e4,h),this.Wa=ju("forwardChannelMaxRetries",2,h),this.wa=ju("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new PS(h&&h.concurrentRequestLimit),this.Da=new g4,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=HS.prototype,t.la=8,t.G=1,t.connect=function(h,b,A,M){mn(0),this.W=h,this.H=b||{},A&&M!==void 0&&(this.H.OSID=A,this.H.OAID=M),this.F=this.X,this.I=tA(this,null,this.W),od(this)};function Nv(h){if(GS(h),h.G==3){var b=h.U++,A=oi(h.I);if(Ke(A,"SID",h.K),Ke(A,"RID",b),Ke(A,"TYPE","terminate"),Du(h,A),b=new Qi(h,h.j,b),b.L=2,b.v=ed(oi(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(b.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=b.v,A=!0),A||(b.g=nA(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Qh(b)}eA(h)}function id(h){h.g&&(jv(h),h.g.cancel(),h.g=null)}function GS(h){id(h),h.u&&(s.clearTimeout(h.u),h.u=null),ad(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&s.clearTimeout(h.s),h.s=null)}function od(h){if(!IS(h.h)&&!h.s){h.s=!0;var b=h.Ga;q||G(),L||(q(),L=!0),z.add(b,h),h.B=0}}function w4(h,b){return OS(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=b.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Pu(d(h.Ga,h,b),ZS(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new Qi(this,this.j,h);let U=this.o;if(this.S&&(U?(U=x(U),C(U,this.S)):U=this.S),this.m!==null||this.O||($.H=U,U=null),this.P)e:{for(var b=0,A=0;A<this.i.length;A++){t:{var M=this.i[A];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(b+=M,4096<b){b=A;break e}if(b===4096||A===this.i.length-1){b=A+1;break e}}b=1e3}else b=1e3;b=XS(this,$,b),A=oi(this.I),Ke(A,"RID",h),Ke(A,"CVER",22),this.D&&Ke(A,"X-HTTP-Session-Id",this.D),Du(this,A),U&&(this.O?b="headers="+encodeURIComponent(String(FS(U)))+"&"+b:this.m&&Rv(A,this.m,U)),kv(this.h,$),this.Ua&&Ke(A,"TYPE","init"),this.P?(Ke(A,"$req",b),Ke(A,"SID","null"),$.T=!0,Pv($,A,null)):Pv($,A,b),this.G=2}}else this.G==3&&(h?KS(this,h):this.i.length==0||IS(this.h)||KS(this))};function KS(h,b){var A;b?A=b.l:A=h.U++;const M=oi(h.I);Ke(M,"SID",h.K),Ke(M,"RID",A),Ke(M,"AID",h.T),Du(h,M),h.m&&h.o&&Rv(M,h.m,h.o),A=new Qi(h,h.j,A,h.B+1),h.m===null&&(A.H=h.o),b&&(h.i=b.D.concat(h.i)),b=XS(h,A,1e3),A.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),kv(h.h,A),Pv(A,M,b)}function Du(h,b){h.H&&P(h.H,function(A,M){Ke(b,M,A)}),h.l&&RS({},function(A,M){Ke(b,M,A)})}function XS(h,b,A){A=Math.min(h.i.length,A);var M=h.l?d(h.l.Na,h.l,h):null;e:{var $=h.i;let U=-1;for(;;){const Z=["count="+A];U==-1?0<A?(U=$[0].g,Z.push("ofs="+U)):U=0:Z.push("ofs="+U);let Ve=!0;for(let Vt=0;Vt<A;Vt++){let ke=$[Vt].g;const Jt=$[Vt].map;if(ke-=U,0>ke)U=Math.max(0,$[Vt].g-100),Ve=!1;else try{y4(Jt,Z,"req"+ke+"_")}catch{M&&M(Jt)}}if(Ve){M=Z.join("&");break e}}}return h=h.i.splice(0,A),b.D=h,M}function YS(h){if(!h.g&&!h.u){h.Y=1;var b=h.Fa;q||G(),L||(q(),L=!0),z.add(b,h),h.v=0}}function Mv(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Pu(d(h.Fa,h),ZS(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,QS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Pu(d(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mn(10),id(this),QS(this))};function jv(h){h.A!=null&&(s.clearTimeout(h.A),h.A=null)}function QS(h){h.g=new Qi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var b=oi(h.qa);Ke(b,"RID","rpc"),Ke(b,"SID",h.K),Ke(b,"AID",h.T),Ke(b,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ke(b,"TO",h.ja),Ke(b,"TYPE","xmlhttp"),Du(h,b),h.m&&h.o&&Rv(b,h.m,h.o),h.L&&(h.g.I=h.L);var A=h.g;h=h.ia,A.L=1,A.v=ed(oi(b)),A.m=null,A.P=!0,TS(A,h)}t.Za=function(){this.C!=null&&(this.C=null,id(this),Mv(this),mn(19))};function ad(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function JS(h,b){var A=null;if(h.g==b){ad(h),jv(h),h.g=null;var M=2}else if(Cv(h.h,b))A=b.D,CS(h.h,b),M=1;else return;if(h.G!=0){if(b.o)if(M==1){A=b.m?b.m.length:0,b=Date.now()-b.F;var $=h.B;M=Kh(),pn(M,new bS(M,A)),od(h)}else YS(h);else if($=b.s,$==3||$==0&&0<b.X||!(M==1&&w4(h,b)||M==2&&Mv(h)))switch(A&&0<A.length&&(b=h.h,b.i=b.i.concat(A)),$){case 1:la(h,5);break;case 4:la(h,10);break;case 3:la(h,6);break;default:la(h,2)}}}function ZS(h,b){let A=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(A*=2),A*b}function la(h,b){if(h.j.info("Error code "+b),b==2){var A=d(h.fb,h),M=h.Xa;const $=!M;M=new sa(M||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Jh(M,"https"),ed(M),$?p4(M.toString(),A):m4(M.toString(),A)}else mn(2);h.G=0,h.l&&h.l.sa(b),eA(h),GS(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function eA(h){if(h.G=0,h.ka=[],h.l){const b=kS(h.h);(b.length!=0||h.i.length!=0)&&(v(h.ka,b),v(h.ka,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.ra()}}function tA(h,b,A){var M=A instanceof sa?oi(A):new sa(A);if(M.g!="")b&&(M.g=b+"."+M.g),Zh(M,M.s);else{var $=s.location;M=$.protocol,b=b?b+"."+$.hostname:$.hostname,$=+$.port;var U=new sa(null);M&&Jh(U,M),b&&(U.g=b),$&&Zh(U,$),A&&(U.l=A),M=U}return A=h.D,b=h.ya,A&&b&&Ke(M,A,b),Ke(M,"VER",h.la),Du(h,M),M}function nA(h,b,A){if(b&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Ca&&!h.pa?new ut(new td({eb:A})):new ut(h.pa),b.Ha(h.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rA(){}t=rA.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sd(){}sd.prototype.g=function(h,b){return new Mn(h,b)};function Mn(h,b){Qt.call(this),this.g=new HS(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(h?h["X-WebChannel-Client-Profile"]=b.va:h={"X-WebChannel-Client-Profile":b.va}),this.g.S=h,(h=b&&b.Sb)&&!_(h)&&(this.g.m=h),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!_(b)&&(this.g.D=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new bs(this)}m(Mn,Qt),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Nv(this.g)},Mn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.u&&(A={},A.__data__=wv(h),h=A);b.i.push(new i4(b.Ya++,h)),b.G==3&&od(b)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Nv(this.g),delete this.g,Mn.aa.N.call(this)};function iA(h){Ev.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const A in b){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}m(iA,Ev);function oA(){Tv.call(this),this.status=1}m(oA,Tv);function bs(h){this.g=h}m(bs,rA),bs.prototype.ua=function(){pn(this.g,"a")},bs.prototype.ta=function(h){pn(this.g,new iA(h))},bs.prototype.sa=function(h){pn(this.g,new oA)},bs.prototype.ra=function(){pn(this.g,"b")},sd.prototype.createWebChannel=sd.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,aL=function(){return new sd},oL=function(){return Kh()},iL=oa,jb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xh.NO_ERROR=0,Xh.TIMEOUT=8,Xh.HTTP_ERROR=6,_p=Xh,wS.COMPLETE="complete",rL=wS,gS.EventType=Su,Su.OPEN="a",Su.CLOSE="b",Su.ERROR="c",Su.MESSAGE="d",Qt.prototype.listen=Qt.prototype.K,fc=gS,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,nL=ut}).apply(typeof Nd<"u"?Nd:typeof self<"u"?self:typeof window<"u"?window:{});const iO="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new gh("@firebase/firestore");function Gu(){return Ga.logLevel}function se(t,...e){if(Ga.logLevel<=we.DEBUG){const n=e.map(a1);Ga.debug(`Firestore (${ou}): ${t}`,...n)}}function Di(t,...e){if(Ga.logLevel<=we.ERROR){const n=e.map(a1);Ga.error(`Firestore (${ou}): ${t}`,...n)}}function xl(t,...e){if(Ga.logLevel<=we.WARN){const n=e.map(a1);Ga.warn(`Firestore (${ou}): ${t}`,...n)}}function a1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: `+t;throw Di(e),new Error(e)}function Oe(t,e){t||he()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class XX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YX{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string"),new sL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new sn(e)}}class QX{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class JX{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new QX(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZX{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eY{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Oe(this.o===void 0);const r=o=>{o.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new ZX(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tY(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function El(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Fe(0,0))}static max(){return new pe(new Fe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Be extends gf{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const nY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends gf{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return nY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ne(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ne(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ne(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Be.fromString(e))}static fromName(e){return new le(Be.fromString(e).popFirst(5))}static empty(){return new le(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Be(e.slice()))}}function rY(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new Bo(i,le.empty(),e)}function iY(t){return new Bo(t.readTime,t.key,-1)}class Bo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bo(pe.min(),le.empty(),-1)}static max(){return new Bo(pe.max(),le.empty(),-1)}}function oY(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==aY)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(i=>i?Y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new Y((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function lY(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ph(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}s1.oe=-1;function Ih(t){return t==null}function mm(t){return t===0&&1/t==-1/0}function uY(t){return typeof t=="number"&&Number.isInteger(t)&&!mm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Md(this.root,e,this.comparator,!1)}getReverseIterator(){return new Md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Md(this.root,e,this.comparator,!0)}}class Md{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=o??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aO(this.data.getIterator())}getIteratorFrom(e){return new aO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class aO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new Gt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cL("Invalid base64 string: "+o):o}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const cY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uo(t){if(Oe(!!t),typeof t=="string"){let e=0;const n=cY.exec(t);if(Oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ka(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function u1(t){const e=t.mapValue.fields.__previous_value__;return l1(e)?u1(e):e}function yf(t){const e=Uo(t.mapValue.fields.__local_write_time__.timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class vf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd={mapValue:{}};function Xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?l1(t)?4:dY(t)?9007199254740991:hY(t)?10:11:he()}function Zr(t,e){if(t===e)return!0;const n=Xa(t);if(n!==Xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yf(t).isEqual(yf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Uo(i.timestampValue),s=Uo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ka(i.bytesValue).isEqual(Ka(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ht(i.geoPointValue.latitude)===ht(o.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ht(i.integerValue)===ht(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=ht(i.doubleValue),s=ht(o.doubleValue);return a===s?mm(a)===mm(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(oO(a)!==oO(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Zr(a[l],s[l])))return!1;return!0}(t,e);default:return he()}}function _f(t,e){return(t.values||[]).find(n=>Zr(n,e))!==void 0}function Tl(t,e){if(t===e)return 0;const n=Xa(t),r=Xa(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=ht(o.integerValue||o.doubleValue),l=ht(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return sO(t.timestampValue,e.timestampValue);case 4:return sO(yf(t),yf(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(o,a){const s=Ka(o),l=Ka(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=Re(s[u],l[u]);if(c!==0)return c}return Re(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Re(ht(o.latitude),ht(a.latitude));return s!==0?s:Re(ht(o.longitude),ht(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lO(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,c;const f=o.fields||{},d=a.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,m=(l=d.value)===null||l===void 0?void 0:l.arrayValue,g=Re(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:lO(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===jd.mapValue&&a===jd.mapValue)return 0;if(o===jd.mapValue)return 1;if(a===jd.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=Re(l[f],c[f]);if(d!==0)return d;const p=Tl(s[l[f]],u[c[f]]);if(p!==0)return p}return Re(l.length,c.length)}(t.mapValue,e.mapValue);default:throw he()}}function sO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Uo(t),r=Uo(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function lO(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Tl(n[i],r[i]);if(o)return o}return Re(n.length,r.length)}function Sl(t){return Db(t)}function Db(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Uo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ka(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Db(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Db(n.fields[a])}`;return i+"}"}(t.mapValue):he()}function uO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $b(t){return!!t&&"integerValue"in t}function c1(t){return!!t&&"arrayValue"in t}function cO(t){return!!t&&"nullValue"in t}function fO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bp(t){return!!t&&"mapValue"in t}function hY(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Cc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Cc(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());bp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new vn(Cc(this.value))}}function fL(t){const e=[];return cs(t.fields,(n,r)=>{const i=new zt([n]);if(bp(r)){const o=fL(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new jt(e,0,pe.min(),pe.min(),pe.min(),vn.empty(),0)}static newFoundDocument(e,n,r,i){return new jt(e,1,n,pe.min(),r,i,0)}static newNoDocument(e,n){return new jt(e,2,n,pe.min(),pe.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,pe.min(),pe.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.position=e,this.inclusive=n}}function hO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=le.comparator(le.fromName(a.referenceValue),n.key):r=Tl(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function dO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n="asc"){this.field=e,this.dir=n}}function pY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{}class wt extends hL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gY(e,n,r):n==="array-contains"?new _Y(e,r):n==="in"?new bY(e,r):n==="not-in"?new wY(e,r):n==="array-contains-any"?new xY(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yY(e,r):new vY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Tl(n,this.value)):n!==null&&Xa(this.value)===Xa(n)&&this.matchesComparison(Tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends hL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new jr(e,n)}matches(e){return dL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dL(t){return t.op==="and"}function pL(t){return mY(t)&&dL(t)}function mY(t){for(const e of t.filters)if(e instanceof jr)return!1;return!0}function Lb(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+Sl(t.value);if(pL(t))return t.filters.map(e=>Lb(e)).join(",");{const e=t.filters.map(n=>Lb(n)).join(",");return`${t.op}(${e})`}}function mL(t,e){return t instanceof wt?function(r,i){return i instanceof wt&&r.op===i.op&&r.field.isEqual(i.field)&&Zr(r.value,i.value)}(t,e):t instanceof jr?function(r,i){return i instanceof jr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&mL(a,i.filters[s]),!0):!1}(t,e):void he()}function gL(t){return t instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Sl(n.value)}`}(t):t instanceof jr?function(n){return n.op.toString()+" {"+n.getFilters().map(gL).join(" ,")+"}"}(t):"Filter"}class gY extends wt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class yY extends wt{constructor(e,n){super(e,"in",n),this.keys=yL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vY extends wt{constructor(e,n){super(e,"not-in",n),this.keys=yL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class _Y extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return c1(n)&&_f(n.arrayValue,this.value)}}class bY extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_f(this.value.arrayValue,n)}}class wY extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(_f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!_f(this.value.arrayValue,n)}}class xY extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!c1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_f(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function pO(t,e=null,n=[],r=[],i=null,o=null,a=null){return new EY(t,e,n,r,i,o,a)}function f1(t){const e=ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sl(r)).join(",")),e.ue=n}return e.ue}function h1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dO(t.startAt,e.startAt)&&dO(t.endAt,e.endAt)}function Vb(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function TY(t,e,n,r,i,o,a,s){return new au(t,e,n,r,i,o,a,s)}function d1(t){return new au(t)}function mO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vL(t){return t.collectionGroup!==null}function kc(t){const e=ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Gt(zt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new bf(o,r))}),n.has(zt.keyField().canonicalString())||e.ce.push(new bf(zt.keyField(),r))}return e.ce}function Yr(t){const e=ge(t);return e.le||(e.le=SY(e,kc(t))),e.le}function SY(t,e){if(t.limitType==="F")return pO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new bf(i.field,o)});const n=t.endAt?new gm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gm(t.startAt.position,t.startAt.inclusive):null;return pO(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fb(t,e){const n=t.filters.concat([e]);return new au(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ym(t,e,n){return new au(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function py(t,e){return h1(Yr(t),Yr(e))&&t.limitType===e.limitType}function _L(t){return`${f1(Yr(t))}|lt:${t.limitType}`}function Is(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gL(i)).join(", ")}]`),Ih(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Sl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Sl(i)).join(",")),`Target(${r})`}(Yr(t))}; limitType=${t.limitType})`}function my(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of kc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=hO(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,kc(r),i)||r.endAt&&!function(a,s,l){const u=hO(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,kc(r),i))}(t,e)}function AY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bL(t){return(e,n)=>{let r=!1;for(const i of kc(t)){const o=PY(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function PY(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Tl(l,u):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return uL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IY=new st(le.comparator);function $i(){return IY}const wL=new st(le.comparator);function hc(...t){let e=wL;for(const n of t)e=e.insert(n.key,n);return e}function xL(t){let e=wL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Sa(){return Rc()}function EL(){return Rc()}function Rc(){return new su(t=>t.toString(),(t,e)=>t.isEqual(e))}const OY=new st(le.comparator),CY=new Gt(le.comparator);function xe(...t){let e=CY;for(const n of t)e=e.add(n);return e}const kY=new Gt(Re);function RY(){return kY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mm(e)?"-0":e}}function TL(t){return{integerValue:""+t}}function NY(t,e){return uY(e)?TL(e):p1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this._=void 0}}function MY(t,e,n){return t instanceof wf?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&l1(o)&&(o=u1(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof xf?AL(t,e):t instanceof Ef?PL(t,e):function(i,o){const a=SL(i,o),s=gO(a)+gO(i.Pe);return $b(a)&&$b(i.Pe)?TL(s):p1(i.serializer,s)}(t,e)}function jY(t,e,n){return t instanceof xf?AL(t,e):t instanceof Ef?PL(t,e):n}function SL(t,e){return t instanceof vm?function(r){return $b(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class wf extends gy{}class xf extends gy{constructor(e){super(),this.elements=e}}function AL(t,e){const n=IL(e);for(const r of t.elements)n.some(i=>Zr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ef extends gy{constructor(e){super(),this.elements=e}}function PL(t,e){let n=IL(e);for(const r of t.elements)n=n.filter(i=>!Zr(i,r));return{arrayValue:{values:n}}}class vm extends gy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function gO(t){return ht(t.integerValue||t.doubleValue)}function IL(t){return c1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(e,n){this.field=e,this.transform=n}}function $Y(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xf&&i instanceof xf||r instanceof Ef&&i instanceof Ef?El(r.elements,i.elements,Zr):r instanceof vm&&i instanceof vm?Zr(r.Pe,i.Pe):r instanceof wf&&i instanceof wf}(t.transform,e.transform)}class LY{constructor(e,n){this.version=e,this.transformResults=n}}class qt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qt}static exists(e){return new qt(void 0,e)}static updateTime(e){return new qt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yy{}function OL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vy(t.key,qt.none()):new Oh(t.key,t.data,qt.none());{const n=t.data,r=vn.empty();let i=new Gt(zt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Qo(t.key,r,new Bn(i.toArray()),qt.none())}}function VY(t,e,n){t instanceof Oh?function(i,o,a){const s=i.value.clone(),l=vO(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Qo?function(i,o,a){if(!wp(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=vO(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(CL(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Nc(t,e,n,r){return t instanceof Oh?function(o,a,s,l){if(!wp(o.precondition,a))return s;const u=o.value.clone(),c=_O(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qo?function(o,a,s,l){if(!wp(o.precondition,a))return s;const u=_O(o.fieldTransforms,l,a),c=a.data;return c.setAll(CL(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return wp(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function FY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=SL(r.transform,i||null);o!=null&&(n===null&&(n=vn.empty()),n.set(r.field,o))}return n||null}function yO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&El(r,i,(o,a)=>$Y(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Oh extends yy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qo extends yy{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function CL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vO(t,e,n){const r=new Map;Oe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,jY(a,s,n[i]))}return r}function _O(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,MY(o,a,e))}return r}class vy extends yy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kL extends yy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&VY(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EL();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=OL(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(n,r)=>yO(n,r))&&El(this.baseMutations,e.baseMutations,(n,r)=>yO(n,r))}}class m1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length);let i=function(){return OY}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new m1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Se;function RL(t){switch(t){default:return he();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function NL(t){if(t===void 0)return Di("GRPC error has no .code"),H.UNKNOWN;switch(t){case yt.OK:return H.OK;case yt.CANCELLED:return H.CANCELLED;case yt.UNKNOWN:return H.UNKNOWN;case yt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case yt.INTERNAL:return H.INTERNAL;case yt.UNAVAILABLE:return H.UNAVAILABLE;case yt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case yt.NOT_FOUND:return H.NOT_FOUND;case yt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case yt.ABORTED:return H.ABORTED;case yt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case yt.DATA_LOSS:return H.DATA_LOSS;default:return he()}}(Se=yt||(yt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY=new Da([4294967295,4294967295],0);function bO(t){const e=qY().encode(t),n=new tL;return n.update(e),new Uint8Array(n.digest())}function wO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Da([n,r],0),new Da([i,o],0)]}class g1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dc(`Invalid padding: ${n}`);if(r<0)throw new dc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new dc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Da.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Da.fromNumber(r)));return i.compare(WY)===1&&(i=new Da([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=bO(e),[r,i]=wO(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new g1(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=bO(e),[r,i]=wO(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ch.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _y(pe.min(),i,new st(Re),$i(),xe())}}class Ch{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ch(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class ML{constructor(e,n){this.targetId=e,this.me=n}}class jL{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xO{constructor(){this.fe=0,this.ge=TO(),this.pe=Xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new Ch(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=TO()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class HY{constructor(e){this.Le=e,this.Be=new Map,this.ke=$i(),this.qe=EO(),this.Qe=new st(Re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Vb(o))if(r===0){const a=new le(o.path);this.Ue(n,a,jt.newNoDocument(a,pe.min()))}else Oe(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=Ka(r).toUint8Array()}catch(l){if(l instanceof cL)return xl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new g1(a,i,o)}catch(l){return xl(l instanceof dc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&Vb(s.target)){const l=new le(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,jt.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=xe();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new _y(e,n,this.Qe,this.ke,r);return this.ke=$i(),this.qe=EO(),this.Qe=new st(Re),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new xO,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Gt(Re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xO),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function EO(){return new st(le.comparator)}function TO(){return new st(le.comparator)}const GY={asc:"ASCENDING",desc:"DESCENDING"},KY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XY={and:"AND",or:"OR"};class YY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bb(t,e){return t.useProto3Json||Ih(e)?e:{value:e}}function _m(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QY(t,e){return _m(t,e.toTimestamp())}function qn(t){return Oe(!!t),pe.fromTimestamp(function(n){const r=Uo(n);return new Fe(r.seconds,r.nanos)}(t))}function y1(t,e){return Ub(t,e).canonicalString()}function Ub(t,e){const n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $L(t){const e=Be.fromString(t);return Oe(zL(e)),e}function bm(t,e){return y1(t.databaseId,e.path)}function Mc(t,e){const n=$L(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(VL(n))}function LL(t,e){return y1(t.databaseId,e)}function JY(t){const e=$L(t);return e.length===4?Be.emptyPath():VL(e)}function zb(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VL(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function SO(t,e,n){return{name:bm(t,e),fields:n.value.mapValue.fields}}function ZY(t,e){return"found"in e?function(r,i){Oe(!!i.found),i.found.name,i.found.updateTime;const o=Mc(r,i.found.name),a=qn(i.found.updateTime),s=i.found.createTime?qn(i.found.createTime):pe.min(),l=new vn({mapValue:{fields:i.found.fields}});return jt.newFoundDocument(o,a,s,l)}(t,e):"missing"in e?function(r,i){Oe(!!i.missing),Oe(!!i.readTime);const o=Mc(r,i.missing),a=qn(i.readTime);return jt.newNoDocument(o,a)}(t,e):he()}function eQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Oe(c===void 0||typeof c=="string"),Xt.fromBase64String(c||"")):(Oe(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Xt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?H.UNKNOWN:NL(u.code);return new ne(c,u.message||"")}(a);n=new jL(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mc(t,r.document.name),o=qn(r.document.updateTime),a=r.document.createTime?qn(r.document.createTime):pe.min(),s=new vn({mapValue:{fields:r.document.fields}}),l=jt.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new xp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mc(t,r.document),o=r.readTime?qn(r.readTime):pe.min(),a=jt.newNoDocument(i,o),s=r.removedTargetIds||[];n=new xp([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mc(t,r.document),o=r.removedTargetIds||[];n=new xp([],o,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new zY(i,o),s=r.targetId;n=new ML(s,a)}}return n}function FL(t,e){let n;if(e instanceof Oh)n={update:SO(t,e.key,e.value)};else if(e instanceof vy)n={delete:bm(t,e.key)};else if(e instanceof Qo)n={update:SO(t,e.key,e.data),updateMask:uQ(e.fieldMask)};else{if(!(e instanceof kL))return he();n={verify:bm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof wf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof xf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ef)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof vm)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:QY(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:he()}(t,e.precondition)),n}function tQ(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?qn(i.updateTime):qn(o);return a.isEqual(pe.min())&&(a=qn(o)),new LY(a,i.transformResults||[])}(n,e))):[]}function nQ(t,e){return{documents:[LL(t,e.path)]}}function rQ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LL(t,i);const o=function(u){if(u.length!==0)return UL(jr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Os(d.field),direction:aQ(d.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Bb(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function iQ(t){let e=JY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=BL(f);return d instanceof jr&&pL(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(m){return new bf(Cs(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(f){let d;return d=typeof f=="object"?f.value:f,Ih(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new gm(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new gm(p,d)}(n.endAt)),TY(e,i,a,o,s,"F",l,u)}function oQ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cs(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cs(n.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cs(n.unaryFilter.field);return wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Cs(n.unaryFilter.field);return wt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return wt.create(Cs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jr.create(n.compositeFilter.filters.map(r=>BL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function aQ(t){return GY[t]}function sQ(t){return KY[t]}function lQ(t){return XY[t]}function Os(t){return{fieldPath:t.canonicalString()}}function Cs(t){return zt.fromServerFormat(t.fieldPath)}function UL(t){return t instanceof wt?function(n){if(n.op==="=="){if(fO(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NAN"}};if(cO(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fO(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NAN"}};if(cO(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(n.field),op:sQ(n.op),value:n.value}}}(t):t instanceof jr?function(n){const r=n.getFilters().map(i=>UL(i));return r.length===1?r[0]:{compositeFilter:{op:lQ(n.op),filters:r}}}(t):he()}function uQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r,i,o=pe.min(),a=pe.min(),s=Xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e){this.ct=e}}function fQ(t){const e=iQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(){this.un=new dQ}addToCollectionParentIndex(e,n){return this.un.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(Bo.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(Bo.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class dQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Gt(Be.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Gt(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Al(0)}static kn(){return new Al(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pQ{constructor(){this.changes=new su(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Nc(r.mutation,i,Bn.empty(),Fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=Sa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=hc();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Sa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=$i();const a=Rc(),s=function(){return Rc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Qo)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),Nc(c.mutation,u,c.mutation.getFieldMask(),Fe.now())):a.set(u.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var f;return s.set(u,new mQ(c,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Rc();let i=new st((a,s)=>a-s),o=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Bn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||xe()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=EL();c.forEach(d=>{if(!o.has(d)){const p=OL(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Y.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return le.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Y.resolve(Sa());let s=-1,l=o;return a.next(u=>Y.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(c)?Y.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,xe())).next(c=>({batchId:s,changes:xL(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=hc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=hc();return this.indexManager.getCollectionParents(e,o).next(s=>Y.forEach(s,l=>{const u=function(f,d){return new au(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,jt.newInvalidDocument(c)))});let s=hc();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Nc(c.mutation,u,Bn.empty(),Fe.now()),my(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Y.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qn(i.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:fQ(i.bundledQuery),readTime:qn(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(){this.overlays=new st(le.comparator),this.Ir=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Sa();return Y.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Sa(),o=n.length+1,a=new le(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new st((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Sa(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Sa(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return Y.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new UY(n,r));let o=this.Ir.get(n);o===void 0&&(o=xe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Q{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.Tr=new Gt(Rt.Er),this.dr=new Gt(Rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Rt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new le(new Be([])),r=new Rt(n,e),i=new Rt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new le(new Be([])),r=new Rt(n,e),i=new Rt(n,e+1);let o=xe();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Rt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return le.comparator(e.key,n.key)||Re(e.wr,n.wr)}static Ar(e,n){return Re(e.wr,n.wr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Gt(Rt.Er)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new BY(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Rt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Y.resolve(a)}lookupMutationBatch(e,n){return Y.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),Y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt(Re);return n.forEach(i=>{const o=new Rt(i,0),a=new Rt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),Y.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;le.isDocumentKey(o)||(o=o.child(""));const a=new Rt(new le(o),0);let s=new Gt(Re);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),Y.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Y.forEach(n.mutations,i=>{const o=new Rt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Rt(n,0),i=this.br.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e){this.Mr=e,this.docs=function(){return new st(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=$i();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():jt.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=$i();const a=n.path,s=new le(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||oY(iY(c),r)<=0||(i.has(c.key)||my(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Y.resolve(o)}getAllFromCollectionGroup(e,n,r,i){he()}Or(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xQ(this)}getSize(e){return Y.resolve(this.size)}}class xQ extends pQ{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e){this.persistence=e,this.Nr=new su(n=>f1(n),h1),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new v1,this.targetCount=0,this.kr=Al.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Y.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Al(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Kn(n),Y.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Y.waitFor(o).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),Y.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e,n){this.qr={},this.overlays={},this.Qr=new s1(0),this.Kr=!1,this.Kr=!0,this.$r=new _Q,this.referenceDelegate=e(this),this.Ur=new EQ(this),this.indexManager=new hQ,this.remoteDocumentCache=function(i){return new wQ(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new cQ(n),this.Gr=new yQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new bQ(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new SQ(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Y.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class SQ extends sY{constructor(e){super(),this.currentSequenceNumber=e}}class _1{constructor(e){this.persistence=e,this.Jr=new v1,this.Yr=null}static Zr(e){return new _1(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Xr,r=>{const i=le.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,pe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Y.or([()=>Y.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=xe(),i=xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new b1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return sz()?8:lY(dn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new AQ;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Gu()<=we.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Is(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Y.resolve()):(Gu()<=we.DEBUG&&se("QueryEngine","Query:",Is(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Gu()<=we.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Is(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yr(n))):Y.resolve())}Yi(e,n){if(mO(n))return Y.resolve(null);let r=Yr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ym(n,null,"F"),r=Yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=xe(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,ym(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return mO(n)||i.isEqual(pe.min())?Y.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?Y.resolve(null):(Gu()<=we.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Is(n)),this.rs(e,a,n,rY(i,-1)).next(s=>s))})}ts(e,n){let r=new Gt(bL(e));return n.forEach((i,o)=>{my(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Gu()<=we.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Is(n)),this.Ji.getDocumentsMatchingQuery(e,n,Bo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new st(Re),this._s=new su(o=>f1(o),h1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gQ(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function OQ(t,e,n,r){return new IQ(t,e,n,r)}async function qL(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=xe();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function CQ(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,d=f.keys();let p=Y.resolve();return d.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(g=>{const v=u.docVersions.get(m);Oe(v!==null),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=xe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function WL(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function kQ(t,e){const n=ge(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Xt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(g,v,w){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=$i(),u=xe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(RQ(o,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(pe.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return Y.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function RQ(t,e,n){let r=xe(),i=xe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=$i();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):se("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function NQ(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MQ(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Y.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new bo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function qb(t,e,n){const r=ge(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Ph(a))throw a;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function AO(t,e,n){const r=ge(t);let i=pe.min(),o=xe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const f=ge(l),d=f._s.get(c);return d!==void 0?Y.resolve(f.os.get(d)):f.Ur.getTargetData(u,c)}(r,a,Yr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:pe.min(),n?o:xe())).next(s=>(jQ(r,AY(e),s),{documents:s,Ts:o})))}function jQ(t,e,n){let r=t.us.get(e)||pe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class PO{constructor(){this.activeTargetIds=RY()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DQ{constructor(){this.so=new PO,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new PO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd=null;function C0(){return Dd===null?Dd=function(){return 268435456+Math.round(2147483648*Math.random())}():Dd++,"0x"+Dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQ{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class FQ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=C0(),l=this.xo(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(se("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw xl("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ou}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=LQ[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=C0();return new Promise((a,s)=>{const l=new nL;l.setWithCredentials(!0),l.listenOnce(rL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case _p.NO_ERROR:const c=l.getResponseJson();se(nn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case _p.TIMEOUT:se(nn,`RPC '${e}' ${o} timed out`),s(new ne(H.DEADLINE_EXCEEDED,"Request time out"));break;case _p.HTTP_ERROR:const f=l.getStatus();if(se(nn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const m=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(w)>=0?w:H.UNKNOWN}(p.status);s(new ne(m,p.message))}else s(new ne(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ne(H.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{se(nn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);se(nn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=C0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=aL(),s=oL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");se(nn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=a.createWebChannel(c,l);let d=!1,p=!1;const m=new VQ({Io:v=>{p?se(nn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(se(nn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),se(nn,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},To:()=>f.close()}),g=(v,w,_)=>{v.listen(w,y=>{try{_(y)}catch(I){setTimeout(()=>{throw I},0)}})};return g(f,fc.EventType.OPEN,()=>{p||(se(nn,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(f,fc.EventType.CLOSE,()=>{p||(p=!0,se(nn,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(f,fc.EventType.ERROR,v=>{p||(p=!0,xl(nn,`RPC '${e}' stream ${i} transport errored:`,v),m.So(new ne(H.UNAVAILABLE,"The operation could not be completed")))}),g(f,fc.EventType.MESSAGE,v=>{var w;if(!p){const _=v.data[0];Oe(!!_);const y=_,I=y.error||((w=y[0])===null||w===void 0?void 0:w.error);if(I){se(nn,`RPC '${e}' stream ${i} received error:`,I);const S=I.status;let P=function(O){const C=yt[O];if(C!==void 0)return NL(C)}(S),T=I.message;P===void 0&&(P=H.INTERNAL,T="Unknown error status: "+S+" with message "+I.message),p=!0,m.So(new ne(P,T)),f.close()}else se(nn,`RPC '${e}' stream ${i} received:`,_),m.bo(_)}}),g(s,iL.STAT_EVENT,v=>{v.stat===jb.PROXY?se(nn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===jb.NOPROXY&&se(nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function k0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t){return new YY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new w1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ne(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BQ extends HL{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=eQ(this.serializer,e),r=function(o){if(!("targetChange"in o))return pe.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?pe.min():a.readTime?qn(a.readTime):pe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=zb(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=Vb(l)?{documents:nQ(o,l)}:{query:rQ(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=DL(o,a.resumeToken);const u=Bb(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(pe.min())>0){s.readTime=_m(o,a.snapshotVersion.toTimestamp());const u=Bb(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=oQ(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=zb(this.serializer),n.removeTarget=e,this.a_(n)}}class UQ extends HL{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=tQ(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=zb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>FL(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ne(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Ub(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(H.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,Ub(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ne(H.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class qQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Di(n),this.D_=!1):se("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{fs(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ge(l);u.L_.add(4),await kh(u),u.q_.set("Unknown"),u.L_.delete(4),await wy(u)}(this))})}),this.q_=new qQ(r,i)}}async function wy(t){if(fs(t))for(const e of t.B_)await e(!0)}async function kh(t){for(const e of t.B_)await e(!1)}function GL(t,e){const n=ge(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),S1(n)?T1(n):lu(n).r_()&&E1(n,e))}function x1(t,e){const n=ge(t),r=lu(n);n.N_.delete(e),r.r_()&&KL(n,e),n.N_.size===0&&(r.r_()?r.o_():fs(n)&&n.q_.set("Unknown"))}function E1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lu(t).A_(e)}function KL(t,e){t.Q_.xe(e),lu(t).R_(e)}function T1(t){t.Q_=new HY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),lu(t).start(),t.q_.v_()}function S1(t){return fs(t)&&!lu(t).n_()&&t.N_.size>0}function fs(t){return ge(t).L_.size===0}function XL(t){t.Q_=void 0}async function HQ(t){t.q_.set("Online")}async function GQ(t){t.N_.forEach((e,n)=>{E1(t,e)})}async function KQ(t,e){XL(t),S1(t)?(t.q_.M_(e),T1(t)):t.q_.set("Unknown")}async function XQ(t,e,n){if(t.q_.set("Online"),e instanceof jL&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wm(t,r)}else if(e instanceof xp?t.Q_.Ke(e):e instanceof ML?t.Q_.He(e):t.Q_.We(e),!n.isEqual(pe.min()))try{const r=await WL(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Xt.EMPTY_BYTE_STRING,c.snapshotVersion)),KL(o,l);const f=new bo(c.target,l,u,c.sequenceNumber);E1(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await wm(t,r)}}async function wm(t,e,n){if(!Ph(e))throw e;t.L_.add(1),await kh(t),t.q_.set("Offline"),n||(n=()=>WL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await wy(t)})}function YL(t,e){return e().catch(n=>wm(t,n,e))}async function xy(t){const e=ge(t),n=zo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;YQ(e);)try{const i=await NQ(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,QQ(e,i)}catch(i){await wm(e,i)}QL(e)&&JL(e)}function YQ(t){return fs(t)&&t.O_.length<10}function QQ(t,e){t.O_.push(e);const n=zo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function QL(t){return fs(t)&&!zo(t).n_()&&t.O_.length>0}function JL(t){zo(t).start()}async function JQ(t){zo(t).p_()}async function ZQ(t){const e=zo(t);for(const n of t.O_)e.m_(n.mutations)}async function eJ(t,e,n){const r=t.O_.shift(),i=m1.from(r,e,n);await YL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xy(t)}async function tJ(t,e){e&&zo(t).V_&&await async function(r,i){if(function(a){return RL(a)&&a!==H.ABORTED}(i.code)){const o=r.O_.shift();zo(r).s_(),await YL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await xy(r)}}(t,e),QL(t)&&JL(t)}async function OO(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=fs(n);n.L_.add(3),await kh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await wy(n)}async function nJ(t,e){const n=ge(t);e?(n.L_.delete(2),await wy(n)):e||(n.L_.add(2),await kh(n),n.q_.set("Unknown"))}function lu(t){return t.K_||(t.K_=function(n,r,i){const o=ge(n);return o.w_(),new BQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:HQ.bind(null,t),Ro:GQ.bind(null,t),mo:KQ.bind(null,t),d_:XQ.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),S1(t)?T1(t):t.q_.set("Unknown")):(await t.K_.stop(),XL(t))})),t.K_}function zo(t){return t.U_||(t.U_=function(n,r,i){const o=ge(n);return o.w_(),new UQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:JQ.bind(null,t),mo:tJ.bind(null,t),f_:ZQ.bind(null,t),g_:eJ.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await xy(t)):(await t.U_.stop(),t.O_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new A1(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P1(t,e){if(Di("AsyncQueue",`${e}: ${t}`),Ph(t))return new ne(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=hc(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new sl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.W_=new st(le.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pl{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Pl(e,n,sl.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&py(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJ{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class iJ{constructor(){this.queries=kO(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ge(n),o=i.queries;i.queries=kO(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new ne(H.ABORTED,"Firestore shutting down"))}}function kO(){return new su(t=>_L(t),py)}async function ZL(t,e){const n=ge(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new rJ,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=P1(a,`Initialization of query '${Is(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&I1(n)}async function eV(t,e){const n=ge(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oJ(t,e){const n=ge(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&I1(n)}function aJ(t,e,n){const r=ge(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function I1(t){t.Y_.forEach(e=>{e.next()})}var Wb,RO;(RO=Wb||(Wb={})).ea="default",RO.Cache="cache";class tV{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Wb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.key=e}}class rV{constructor(e){this.key=e}}class sJ{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xe(),this.mutatedKeys=xe(),this.Aa=bL(e),this.Ra=new sl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new CO,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=my(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;d&&p?d.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),v=!0):this.ga(d,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),v=!0):d&&!p&&(r.track({type:1,doc:d}),v=!0,(l||u)&&(s=!0)),v&&(p?(a=a.add(p),o=g?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,f)=>function(p,m){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return g(p)-g(m)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Pl(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new CO,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new rV(r))}),this.da.forEach(r=>{e.has(r)||n.push(new nV(r))}),n}ba(e){this.Ta=e.Ts,this.da=xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Pl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class lJ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uJ{constructor(e){this.key=e,this.va=!1}}class cJ{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new su(s=>_L(s),py),this.Ma=new Map,this.xa=new Set,this.Oa=new st(le.comparator),this.Na=new Map,this.La=new v1,this.Ba={},this.ka=new Map,this.qa=Al.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function fJ(t,e,n=!0){const r=uV(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await iV(r,e,n,!0),i}async function hJ(t,e){const n=uV(t);await iV(n,e,!0,!1)}async function iV(t,e,n,r){const i=await MQ(t.localStore,Yr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await dJ(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&GL(t.remoteStore,i),s}async function dJ(t,e,n,r,i){t.Ka=(f,d,p)=>async function(g,v,w,_){let y=v.view.ma(w);y.ns&&(y=await AO(g.localStore,v.query,!1).then(({documents:T})=>v.view.ma(T,y)));const I=_&&_.targetChanges.get(v.targetId),S=_&&_.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(y,g.isPrimaryClient,I,S);return MO(g,v.targetId,P.wa),P.snapshot}(t,f,d,p);const o=await AO(t.localStore,e,!0),a=new sJ(e,o.Ts),s=a.ma(o.documents),l=Ch.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);MO(t,n,u.wa);const c=new lJ(e,n,a);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function pJ(t,e,n){const r=ge(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!py(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&x1(r.remoteStore,i.targetId),Hb(r,i.targetId)}).catch(Ah)):(Hb(r,i.targetId),await qb(r.localStore,i.targetId,!0))}async function mJ(t,e){const n=ge(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),x1(n.remoteStore,r.targetId))}async function gJ(t,e,n){const r=EJ(t);try{const i=await function(a,s){const l=ge(a),u=Fe.now(),c=s.reduce((p,m)=>p.add(m.key),xe());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=$i(),g=xe();return l.cs.getEntries(p,c).next(v=>{m=v,m.forEach((w,_)=>{_.isValidDocument()||(g=g.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(v=>{f=v;const w=[];for(const _ of s){const y=FY(_,f.get(_.key).overlayedDocument);y!=null&&w.push(new Qo(_.key,y,fL(y.value.mapValue),qt.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,s)}).next(v=>{d=v;const w=v.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,v.batchId,w)})}).then(()=>({batchId:d.batchId,changes:xL(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new st(Re)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Rh(r,i.changes),await xy(r.remoteStore)}catch(i){const o=P1(i,"Failed to persist write");n.reject(o)}}async function oV(t,e){const n=ge(t);try{const r=await kQ(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Oe(a.va):i.removedDocuments.size>0&&(Oe(a.va),a.va=!1))}),await Rh(n,r,e)}catch(r){await Ah(r)}}function NO(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=ge(a);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.j_)d.Z_(s)&&(u=!0)}),u&&I1(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yJ(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new st(le.comparator);a=a.insert(o,jt.newNoDocument(o,pe.min()));const s=xe().add(o),l=new _y(pe.min(),new Map,new st(Re),a,s);await oV(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),O1(r)}else await qb(r.localStore,e,!1).then(()=>Hb(r,e,n)).catch(Ah)}async function vJ(t,e){const n=ge(t),r=e.batch.batchId;try{const i=await CQ(n.localStore,e);sV(n,r,null),aV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rh(n,i)}catch(i){await Ah(i)}}async function _J(t,e,n){const r=ge(t);try{const i=await function(a,s){const l=ge(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Oe(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);sV(r,e,n),aV(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rh(r,i)}catch(i){await Ah(i)}}function aV(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function sV(t,e,n){const r=ge(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Hb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||lV(t,r)})}function lV(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(x1(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),O1(t))}function MO(t,e,n){for(const r of n)r instanceof nV?(t.La.addReference(r.key,e),bJ(t,r)):r instanceof rV?(se("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||lV(t,r.key)):he()}function bJ(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(se("SyncEngine","New document in limbo: "+n),t.xa.add(r),O1(t))}function O1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new le(Be.fromString(e)),r=t.qa.next();t.Na.set(r,new uJ(n)),t.Oa=t.Oa.insert(n,r),GL(t.remoteStore,new bo(Yr(d1(n.path)),r,"TargetPurposeLimboResolution",s1.oe))}}async function Rh(t,e,n){const r=ge(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=b1.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=ge(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Y.forEach(u,d=>Y.forEach(d.$i,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>Y.forEach(d.Ui,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!Ph(f))throw f;se("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.os.get(d),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(d,g)}}}(r.localStore,o))}async function wJ(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await qL(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new ne(H.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rh(n,r.hs)}}function xJ(t,e){const n=ge(t),r=n.Na.get(e);if(r&&r.va)return xe().add(r.key);{let i=xe();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function uV(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yJ.bind(null,e),e.Ca.d_=oJ.bind(null,e.eventManager),e.Ca.$a=aJ.bind(null,e.eventManager),e}function EJ(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_J.bind(null,e),e}class xm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=by(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return OQ(this.persistence,new PQ,e.initialUser,this.serializer)}Ga(e){return new TQ(_1.Zr,this.serializer)}Wa(e){return new DQ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xm.provider={build:()=>new xm};class Gb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wJ.bind(null,this.syncEngine),await nJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iJ}()}createDatastore(e){const n=by(e.databaseInfo.databaseId),r=function(o){return new FQ(o)}(e.databaseInfo);return function(o,a,s,l){return new zQ(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new WQ(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>NO(this.syncEngine,n,0),function(){return IO.D()?new IO:new $Q}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const f=new cJ(i,o,a,s,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ge(i);se("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await kh(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Gb.provider={build:()=>new Gb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TJ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ne(H.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,o){const a=ge(i),s={documents:o.map(f=>bm(a.serializer,f))},l=await a.Lo("BatchGetDocuments",a.serializer.databaseId,Be.emptyPath(),s,o.length),u=new Map;l.forEach(f=>{const d=ZY(a.serializer,f);u.set(d.key.toString(),d)});const c=[];return o.forEach(f=>{const d=u.get(f.toString());Oe(!!d),c.push(d)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new vy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=le.fromPath(r);this.mutations.push(new kL(i,this.precondition(i)))}),await async function(r,i){const o=ge(r),a={writes:i.map(s=>FL(o.serializer,s))};await o.Mo("Commit",o.serializer.databaseId,Be.emptyPath(),a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw he();n=pe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ne(H.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(pe.min())?qt.exists(!1):qt.updateTime(n):qt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(pe.min()))throw new ne(H.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qt.updateTime(n)}return qt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SJ{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new w1(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new TJ(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Ih(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!RL(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=lL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{se("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(se("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=P1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function R0(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PJ(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>OO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>OO(e.remoteStore,i)),t._onlineComponents=e}async function PJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await R0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;xl("Error using user provided cache. Falling back to memory cache: "+n),await R0(t,new xm)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await R0(t,new xm);return t._offlineComponents}async function C1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await jO(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await jO(t,new Gb))),t._onlineComponents}function IJ(t){return C1(t).then(e=>e.syncEngine)}function OJ(t){return C1(t).then(e=>e.datastore)}async function fV(t){const e=await C1(t),n=e.eventManager;return n.onListen=fJ.bind(null,e.syncEngine),n.onUnlisten=pJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mJ.bind(null,e.syncEngine),n}function CJ(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new cV({next:d=>{c.Za(),a.enqueueAndForget(()=>eV(o,f));const p=d.docs.has(s);!p&&d.fromCache?u.reject(new ne(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new ne(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new tV(d1(s.path),c,{includeMetadataChanges:!0,_a:!0});return ZL(o,f)}(await fV(t),t.asyncQueue,e,n,r)),r.promise}function kJ(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new cV({next:d=>{c.Za(),a.enqueueAndForget(()=>eV(o,f)),d.fromCache&&l.source==="server"?u.reject(new ne(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new tV(s,c,{includeMetadataChanges:!0,_a:!0});return ZL(o,f)}(await fV(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t,e,n){if(!n)throw new ne(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RJ(t,e,n,r){if(e===!0&&r===!0)throw new ne(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $O(t){if(!le.isDocumentKey(t))throw new ne(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LO(t){if(le.isDocumentKey(t))throw new ne(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ey(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ey(t);throw new ne(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ty{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VO({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VO(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KX;switch(r.type){case"firstParty":return new JX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DO.get(n);r&&(se("ComponentProvider","Removing Datastore"),DO.delete(n),r.terminate())}(this),Promise.resolve()}}function NJ(t,e,n,r={}){var i;const o=(t=Li(t,Ty))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=sn.MOCK_USER;else{s=tz(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ne(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new sn(u)}t._authCredentials=new XX(new sL(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class No extends Jo{constructor(e,n,r){super(e,n,d1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new le(e))}withConverter(e){return new No(this.firestore,e,this._path)}}function Ep(t,e,...n){if(t=at(t),dV("collection","path",e),t instanceof Ty){const r=Be.fromString(e,...n);return LO(r),new No(t,null,r)}{if(!(t instanceof wn||t instanceof No))throw new ne(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return LO(r),new No(t.firestore,null,r)}}function pc(t,e,...n){if(t=at(t),arguments.length===1&&(e=lL.newId()),dV("doc","path",e),t instanceof Ty){const r=Be.fromString(e,...n);return $O(r),new wn(t,null,new le(r))}{if(!(t instanceof wn||t instanceof No))throw new ne(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return $O(r),new wn(t.firestore,t instanceof No?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new w1(this,"async_queue_retry"),this.Vu=()=>{const r=k0();r&&se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=k0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=k0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Xr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ph(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw Di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=A1.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class uu extends Ty{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new FO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FO(e),this._firestoreClient=void 0,await e}}}function Sy(t,e){const n=typeof t=="object"?t:ey(),r=typeof t=="string"?t:"(default)",i=Ko(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Z9("firestore");o&&NJ(i,...o)}return i}function Nh(t){if(t._terminated)throw new ne(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||MJ(t),t._firestoreClient}function MJ(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,c){return new fY(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,hV(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new AJ(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ya(Xt.fromBase64String(e))}catch(n){throw new ne(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ya(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ=/^__.*__$/;class DJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oh(e,this.data,n,this.fieldTransforms)}}class pV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class N1{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new N1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Em(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(mV(this.Cu)&&jJ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class $J{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||by(e)}Qu(e,n,r,i=!1){return new N1({Cu:e,methodName:n,qu:r,path:zt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Py(t){const e=t._freezeSettings(),n=by(t._databaseId);return new $J(t._databaseId,!!e.ignoreUndefinedProperties,n)}function M1(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);D1("Data must be an object, but it was:",a,r);const s=vV(r,a);let l,u;if(o.merge)l=new Bn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=Kb(e,f,n);if(!a.contains(d))throw new ne(H.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);bV(c,d)||c.push(d)}l=new Bn(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new DJ(new vn(s),l,u)}class Iy extends Ay{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iy}}class j1 extends Ay{_toFieldTransform(e){return new DY(e.path,new wf)}isEqual(e){return e instanceof j1}}function gV(t,e,n,r){const i=t.Qu(1,e,n);D1("Data must be an object, but it was:",i,r);const o=[],a=vn.empty();cs(r,(l,u)=>{const c=$1(e,l,n);u=at(u);const f=i.Nu(c);if(u instanceof Iy)o.push(c);else{const d=jh(u,f);d!=null&&(o.push(c),a.set(c,d))}});const s=new Bn(o);return new pV(a,s,i.fieldTransforms)}function yV(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[Kb(e,r,n)],l=[i];if(o.length%2!=0)throw new ne(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(Kb(e,o[d])),l.push(o[d+1]);const u=[],c=vn.empty();for(let d=s.length-1;d>=0;--d)if(!bV(u,s[d])){const p=s[d];let m=l[d];m=at(m);const g=a.Nu(p);if(m instanceof Iy)u.push(p);else{const v=jh(m,g);v!=null&&(u.push(p),c.set(p,v))}}const f=new Bn(u);return new pV(c,f,a.fieldTransforms)}function LJ(t,e,n,r=!1){return jh(n,t.Qu(r?4:3,e))}function jh(t,e){if(_V(t=at(t)))return D1("Unsupported field value:",e,t),vV(t,e);if(t instanceof Ay)return function(r,i){if(!mV(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=jh(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Fe.fromDate(r);return{timestampValue:_m(i.serializer,o)}}if(r instanceof Fe){const o=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_m(i.serializer,o)}}if(r instanceof k1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ya)return{bytesValue:DL(i.serializer,r._byteString)};if(r instanceof wn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:y1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof R1)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return p1(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Ey(r)}`)}(t,e)}function vV(t,e){const n={};return uL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(t,(r,i)=>{const o=jh(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function _V(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof k1||t instanceof Ya||t instanceof wn||t instanceof Ay||t instanceof R1)}function D1(t,e,n){if(!_V(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ey(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Kb(t,e,n){if((e=at(e))instanceof Mh)return e._internalPath;if(typeof e=="string")return $1(t,e);throw Em("Field path arguments must be of type string or ",t,!1,void 0,n)}const VJ=new RegExp("[~\\*/\\[\\]]");function $1(t,e,n){if(e.search(VJ)>=0)throw Em(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mh(...e.split("."))._internalPath}catch{throw Em(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Em(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ne(H.INVALID_ARGUMENT,s+t+l)}function bV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Oy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FJ extends Tm{data(){return super.data()}}function Oy(t,e){return typeof e=="string"?$1(t,e):e instanceof Mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BJ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L1{}class V1 extends L1{}function Tp(t,e,...n){let r=[];e instanceof L1&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof F1).length,s=o.filter(l=>l instanceof Cy).length;if(a>1||a>0&&s>0)throw new ne(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Cy extends V1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cy(e,n,r)}_apply(e){const n=this._parse(e);return wV(e._query,n),new Jo(e.firestore,e.converter,Fb(e._query,n))}_parse(e){const n=Py(e.firestore);return function(o,a,s,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ne(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){UO(f,c);const p=[];for(const m of f)p.push(BO(l,o,m));d={arrayValue:{values:p}}}else d=BO(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||UO(f,c),d=LJ(s,a,f,c==="in"||c==="not-in");return wt.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gs(t,e,n){const r=e,i=Oy("where",t);return Cy._create(i,r,n)}class F1 extends L1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new F1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)wV(a,l),a=Fb(a,l)}(e._query,n),new Jo(e.firestore,e.converter,Fb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class B1 extends V1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new B1(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new ne(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ne(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bf(o,a)}(e._query,this._field,this._direction);return new Jo(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new au(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function UJ(t,e="asc"){const n=e,r=Oy("orderBy",t);return B1._create(r,n)}class U1 extends V1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new U1(e,n,r)}_apply(e){return new Jo(e.firestore,e.converter,ym(e._query,this._limit,this._limitType))}}function zJ(t){return U1._create("limit",t,"F")}function BO(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new ne(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vL(e)&&n.indexOf("/")!==-1)throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Be.fromString(n));if(!le.isDocumentKey(r))throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uO(t,new le(r))}if(n instanceof wn)return uO(t,n._key);throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ey(n)}.`)}function UO(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wV(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class xV{convertValue(e,n="none"){switch(Xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>ht(a.doubleValue));return new R1(o)}convertGeoPoint(e){return new k1(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=u1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yf(e));default:return null}}convertTimestamp(e){const n=Uo(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);Oe(zL(r));const i=new vf(r.get(1),r.get(3)),o=new le(r.popFirst(5));return i.isEqual(n)||Di(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class qJ extends xV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ya(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class q1 extends Tm{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Oy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sp extends q1{data(e={}){return super.data(e)}}class WJ{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ks(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sp(this._firestore,this._userDataWriter,r.key,r,new Ks(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new Sp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Ks(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new Sp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Ks(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:HJ(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function HJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){t=Li(t,wn);const e=Li(t.firestore,uu);return CJ(Nh(e),t._key).then(n=>GJ(e,t,n))}class W1 extends xV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ya(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function Ap(t){t=Li(t,Jo);const e=Li(t.firestore,uu),n=Nh(e),r=new W1(e);return BJ(t._query),kJ(n,t._query).then(i=>new WJ(e,r,t,i))}function Xb(t,e,n){t=Li(t,wn);const r=Li(t.firestore,uu),i=z1(t.converter,e,n);return EV(r,[M1(Py(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qt.none())])}function EV(t,e){return function(r,i){const o=new Xr;return r.asyncQueue.enqueueAndForget(async()=>gJ(await IJ(r),i,o)),o.promise}(Nh(t),e)}function GJ(t,e,n){const r=n.docs.get(e._key),i=new W1(t);return new q1(t,i,e._key,r,new Ks(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KJ={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Py(e)}set(e,n,r){this._verifyNotCommitted();const i=mo(e,this._firestore),o=z1(i.converter,n,r),a=M1(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,qt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=mo(e,this._firestore);let a;return a=typeof(n=at(n))=="string"||n instanceof Mh?yV(this._dataReader,"WriteBatch.update",o._key,n,r,i):gV(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,qt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=mo(e,this._firestore);return this._mutations=this._mutations.concat(new vy(n._key,qt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ne(H.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mo(t,e){if((t=at(t)).firestore!==e)throw new ne(H.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Py(n)}get(n){const r=mo(n,this._firestore),i=new qJ(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return he();const a=o[0];if(a.isFoundDocument())return new Tm(this._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Tm(this._firestore,i,r._key,null,r.converter);throw he()})}set(n,r,i){const o=mo(n,this._firestore),a=z1(o.converter,r,i),s=M1(this._dataReader,"Transaction.set",o._key,a,o.converter!==null,i);return this._transaction.set(o._key,s),this}update(n,r,i,...o){const a=mo(n,this._firestore);let s;return s=typeof(r=at(r))=="string"||r instanceof Mh?yV(this._dataReader,"Transaction.update",a._key,r,i,o):gV(this._dataReader,"Transaction.update",a._key,r),this._transaction.update(a._key,s),this}delete(n){const r=mo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=mo(e,this._firestore),r=new W1(this._firestore);return super.get(e).then(i=>new q1(this._firestore,r,n._key,i._document,new Ks(!1,!1),n.converter))}}function QJ(t,e,n){t=Li(t,uu);const r=Object.assign(Object.assign({},KJ),n);return function(o){if(o.maxAttempts<1)throw new ne(H.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,a,s){const l=new Xr;return o.asyncQueue.enqueueAndForget(async()=>{const u=await OJ(o);new SJ(o.asyncQueue,u,s,a,l).au()}),l.promise}(Nh(t),i=>e(new YJ(t,i)),r)}function JJ(){return new j1("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){return Nh(t=Li(t,uu)),new XJ(t,e=>EV(t,e))}(function(e,n=!0){(function(i){ou=i})(ru),Mr(new fr("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new uu(new YX(r.getProvider("auth-internal")),new eY(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vf(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Cn(iO,"4.7.3",e),Cn(iO,"4.7.3","esm2017")})();const TV="@firebase/installations",H1="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=1e4,AV=`w:${H1}`,PV="FIS_v2",ZJ="https://firebaseinstallations.googleapis.com/v1",eZ=60*60*1e3,tZ="installations",nZ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rZ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qa=new Go(tZ,nZ,rZ);function IV(t){return t instanceof Dr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV({projectId:t}){return`${ZJ}/projects/${t}/installations`}function CV(t){return{token:t.token,requestStatus:2,expiresIn:oZ(t.expiresIn),creationTime:Date.now()}}async function kV(t,e){const r=(await e.json()).error;return Qa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function RV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function iZ(t,{refreshToken:e}){const n=RV(t);return n.append("Authorization",aZ(e)),n}async function NV(t){const e=await t();return e.status>=500&&e.status<600?t():e}function oZ(t){return Number(t.replace("s","000"))}function aZ(t){return`${PV} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sZ({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=OV(t),i=RV(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:PV,appId:t.appId,sdkVersion:AV},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await NV(()=>fetch(r,s));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:CV(u.authToken)}}else throw await kV("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lZ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uZ=/^[cdef][\w-]{21}$/,Yb="";function cZ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=fZ(t);return uZ.test(n)?n:Yb}catch{return Yb}}function fZ(t){return lZ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=new Map;function DV(t,e){const n=ky(t);$V(n,e),hZ(n,e)}function $V(t,e){const n=jV.get(t);if(n)for(const r of n)r(e)}function hZ(t,e){const n=dZ();n&&n.postMessage({key:t,fid:e}),pZ()}let Aa=null;function dZ(){return!Aa&&"BroadcastChannel"in self&&(Aa=new BroadcastChannel("[Firebase] FID Change"),Aa.onmessage=t=>{$V(t.data.key,t.data.fid)}),Aa}function pZ(){jV.size===0&&Aa&&(Aa.close(),Aa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mZ="firebase-installations-database",gZ=1,Ja="firebase-installations-store";let N0=null;function G1(){return N0||(N0=zj(mZ,gZ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ja)}}})),N0}async function Sm(t,e){const n=ky(t),i=(await G1()).transaction(Ja,"readwrite"),o=i.objectStore(Ja),a=await o.get(n);return await o.put(e,n),await i.done,(!a||a.fid!==e.fid)&&DV(t,e.fid),e}async function LV(t){const e=ky(t),r=(await G1()).transaction(Ja,"readwrite");await r.objectStore(Ja).delete(e),await r.done}async function Ry(t,e){const n=ky(t),i=(await G1()).transaction(Ja,"readwrite"),o=i.objectStore(Ja),a=await o.get(n),s=e(a);return s===void 0?await o.delete(n):await o.put(s,n),await i.done,s&&(!a||a.fid!==s.fid)&&DV(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(t){let e;const n=await Ry(t.appConfig,r=>{const i=yZ(r),o=vZ(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Yb?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function yZ(t){const e=t||{fid:cZ(),registrationStatus:0};return VV(e)}function vZ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Qa.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=_Z(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:bZ(t)}:{installationEntry:e}}async function _Z(t,e){try{const n=await sZ(t,e);return Sm(t.appConfig,n)}catch(n){throw IV(n)&&n.customData.serverCode===409?await LV(t.appConfig):await Sm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function bZ(t){let e=await WO(t.appConfig);for(;e.registrationStatus===1;)await MV(100),e=await WO(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await K1(t);return r||n}return e}function WO(t){return Ry(t,e=>{if(!e)throw Qa.create("installation-not-found");return VV(e)})}function VV(t){return wZ(t)?{fid:t.fid,registrationStatus:0}:t}function wZ(t){return t.registrationStatus===1&&t.registrationTime+SV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xZ({appConfig:t,heartbeatServiceProvider:e},n){const r=EZ(t,n),i=iZ(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:AV,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await NV(()=>fetch(r,s));if(l.ok){const u=await l.json();return CV(u)}else throw await kV("Generate Auth Token",l)}function EZ(t,{fid:e}){return`${OV(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(t,e=!1){let n;const r=await Ry(t.appConfig,o=>{if(!FV(o))throw Qa.create("not-registered");const a=o.authToken;if(!e&&AZ(a))return o;if(a.requestStatus===1)return n=TZ(t,e),o;{if(!navigator.onLine)throw Qa.create("app-offline");const s=IZ(o);return n=SZ(t,s),s}});return n?await n:r.authToken}async function TZ(t,e){let n=await HO(t.appConfig);for(;n.authToken.requestStatus===1;)await MV(100),n=await HO(t.appConfig);const r=n.authToken;return r.requestStatus===0?X1(t,e):r}function HO(t){return Ry(t,e=>{if(!FV(e))throw Qa.create("not-registered");const n=e.authToken;return OZ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function SZ(t,e){try{const n=await xZ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Sm(t.appConfig,r),n}catch(n){if(IV(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await LV(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sm(t.appConfig,r)}throw n}}function FV(t){return t!==void 0&&t.registrationStatus===2}function AZ(t){return t.requestStatus===2&&!PZ(t)}function PZ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+eZ}function IZ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function OZ(t){return t.requestStatus===1&&t.requestTime+SV<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CZ(t){const e=t,{installationEntry:n,registrationPromise:r}=await K1(e);return r?r.catch(console.error):X1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kZ(t,e=!1){const n=t;return await RZ(n),(await X1(n,e)).token}async function RZ(t){const{registrationPromise:e}=await K1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NZ(t){if(!t||!t.options)throw M0("App Configuration");if(!t.name)throw M0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw M0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function M0(t){return Qa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="installations",MZ="installations-internal",jZ=t=>{const e=t.getProvider("app").getImmediate(),n=NZ(e),r=Ko(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},DZ=t=>{const e=t.getProvider("app").getImmediate(),n=Ko(e,BV).getImmediate();return{getId:()=>CZ(n),getToken:i=>kZ(n,i)}};function $Z(){Mr(new fr(BV,jZ,"PUBLIC")),Mr(new fr(MZ,DZ,"PRIVATE"))}$Z();Cn(TV,H1);Cn(TV,H1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="analytics",LZ="firebase_id",VZ="origin",FZ=60*1e3,BZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Y1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn=new gh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Wn=new Go("analytics","Analytics",UZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zZ(t){if(!t.startsWith(Y1)){const e=Wn.create("invalid-gtag-resource",{gtagURL:t});return kn.warn(e.message),""}return t}function UV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function qZ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function WZ(t,e){const n=qZ("firebase-js-sdk-policy",{createScriptURL:zZ}),r=document.createElement("script"),i=`${Y1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function HZ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function GZ(t,e,n,r,i,o){const a=r[i];try{if(a)await e[a];else{const l=(await UV(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){kn.error(s)}t("config",i,o)}async function KZ(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const s=await UV(n);for(const l of a){const u=s.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){kn.error(o)}}function XZ(t,e,n,r){async function i(o,...a){try{if(o==="event"){const[s,l]=a;await KZ(t,e,n,s,l)}else if(o==="config"){const[s,l]=a;await GZ(t,e,n,r,s,l)}else if(o==="consent"){const[s,l]=a;t("consent",s,l)}else if(o==="get"){const[s,l,u]=a;t("get",s,l,u)}else if(o==="set"){const[s]=a;t("set",s)}else t(o,...a)}catch(s){kn.error(s)}}return i}function YZ(t,e,n,r,i){let o=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=XZ(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function QZ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Y1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JZ=30,ZZ=1e3;class eee{constructor(e={},n=ZZ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const zV=new eee;function tee(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function nee(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:tee(r)},o=BZ.replace("{app-id}",n),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let s="";try{const l=await a.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw Wn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s})}return a.json()}async function ree(t,e=zV,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Wn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Wn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new aee;return setTimeout(async()=>{s.abort()},FZ),qV({appId:r,apiKey:i,measurementId:o},a,s,e)}async function qV(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=zV){var o;const{appId:a,measurementId:s}=t;try{await iee(r,e)}catch(l){if(s)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await nee(t);return i.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!oee(u)){if(i.deleteThrottleMetadata(a),s)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:s};throw l}const c=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?SP(n,i.intervalMillis,JZ):SP(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(a,f),kn.debug(`Calling attemptFetch again in ${c} millis`),qV(t,f,r,i)}}function iee(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function oee(t){if(!(t instanceof Dr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class aee{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function see(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,a=Object.assign(Object.assign({},r),{send_to:o});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lee(){if(Jg())try{await Zg()}catch(t){return kn.warn(Wn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return kn.warn(Wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function uee(t,e,n,r,i,o,a){var s;const l=ree(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>kn.error(p)),e.push(l);const u=lee().then(p=>{if(p)return r.getId()}),[c,f]=await Promise.all([l,u]);QZ(o)||WZ(o,c.measurementId),i("js",new Date);const d=(s=a==null?void 0:a.config)!==null&&s!==void 0?s:{};return d[VZ]="firebase",d.update=!0,f!=null&&(d[LZ]=f),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cee{constructor(e){this.app=e}_delete(){return delete jc[this.app.options.appId],Promise.resolve()}}let jc={},GO=[];const KO={};let j0="dataLayer",fee="gtag",XO,WV,YO=!1;function hee(){const t=[];if(EE()&&t.push("This is a browser extension environment."),TE()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Wn.create("invalid-analytics-context",{errorInfo:e});kn.warn(n.message)}}function dee(t,e,n){hee();const r=t.options.appId;if(!r)throw Wn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Wn.create("no-api-key");if(jc[r]!=null)throw Wn.create("already-exists",{id:r});if(!YO){HZ(j0);const{wrappedGtag:o,gtagCore:a}=YZ(jc,GO,KO,j0,fee);WV=o,XO=a,YO=!0}return jc[r]=uee(t,GO,KO,e,XO,j0,n),new cee(t)}function pee(t=ey()){t=at(t);const e=Ko(t,Am);return e.isInitialized()?e.getImmediate():mee(t)}function mee(t,e={}){const n=Ko(t,Am);if(n.isInitialized()){const i=n.getImmediate();if(uf(e,n.getOptions()))return i;throw Wn.create("already-initialized")}return n.initialize({options:e})}async function gee(){if(EE()||!TE()||!Jg())return!1;try{return await Zg()}catch{return!1}}function yee(t,e,n,r){t=at(t),see(WV,jc[t.app.options.appId],e,n,r).catch(i=>kn.error(i))}const QO="@firebase/analytics",JO="0.10.8";function vee(){Mr(new fr(Am,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return dee(r,i,n)},"PUBLIC")),Mr(new fr("analytics-internal",t,"PRIVATE")),Cn(QO,JO),Cn(QO,JO,"esm2017");function t(e){try{const n=e.getProvider(Am).getImmediate();return{logEvent:(r,i,o)=>yee(n,r,i,o)}}catch(n){throw Wn.create("interop-component-reg-failed",{reason:n})}}}vee();const ZO="@firebase/performance",Qb="0.6.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=Qb,_ee="FB-PERF-TRACE-START",bee="FB-PERF-TRACE-STOP",Jb="FB-PERF-TRACE-MEASURE",GV="_wt_",KV="_fp",XV="_fcp",YV="_fid",QV="@firebase/performance/config",JV="@firebase/performance/configexpire",wee="performance",ZV="Performance";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xee={"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},ln=new Go(wee,ZV,xee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new gh(ZV);ei.logLevel=we.INFO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D0,eF;class $t{constructor(e){if(this.window=e,!e)throw ln.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)}getEntriesByType(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)}getEntriesByName(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!TE()?(ei.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):Jg()?!0:(ei.info("IndexedDB is not supported by current browser"),!1)}setupObserver(e,n){if(!this.PerformanceObserver)return;new this.PerformanceObserver(i=>{for(const o of i.getEntries())n(o)}).observe({entryTypes:[e]})}static getInstance(){return D0===void 0&&(D0=new $t(eF)),D0}}function Eee(t){eF=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tF;function Tee(t){const e=t.getId();return e.then(n=>{tF=n}),e}function Q1(){return tF}function See(t){const e=t.getToken();return e.then(n=>{}),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t,e){const n=t.length-e.length;if(n<0||n>1)throw ln.create("invalid String merger input");const r=[];for(let i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $0;class Un{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=eC("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=eC("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return $0===void 0&&($0=new Un),$0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ll;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(ll||(ll={}));const Aee=["firebase_","google_","ga_"],Pee=new RegExp("^[a-zA-Z]\\w*$"),Iee=40,Oee=100;function Cee(){const t=$t.getInstance().navigator;return t!=null&&t.serviceWorker?t.serviceWorker.controller?2:3:1}function nF(){switch($t.getInstance().document.visibilityState){case"visible":return ll.VISIBLE;case"hidden":return ll.HIDDEN;default:return ll.UNKNOWN}}function kee(){const e=$t.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Ree(t){return t.length===0||t.length>Iee?!1:!Aee.some(n=>t.startsWith(n))&&!!t.match(Pee)}function Nee(t){return t.length!==0&&t.length<=Oee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t){var e;const n=(e=t.options)===null||e===void 0?void 0:e.appId;if(!n)throw ln.create("no app id");return n}function Mee(t){var e;const n=(e=t.options)===null||e===void 0?void 0:e.projectId;if(!n)throw ln.create("no project id");return n}function jee(t){var e;const n=(e=t.options)===null||e===void 0?void 0:e.apiKey;if(!n)throw ln.create("no api key");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dee="0.0.1",vr={loggingEnabled:!0},$ee="FIREBASE_INSTALLATIONS_AUTH";function Lee(t,e){const n=Vee();return n?(tC(n),Promise.resolve()):Uee(t,e).then(tC).then(r=>Fee(r),()=>{})}function Vee(){const t=$t.getInstance().localStorage;if(!t)return;const e=t.getItem(JV);if(!e||!zee(e))return;const n=t.getItem(QV);if(n)try{return JSON.parse(n)}catch{return}}function Fee(t){const e=$t.getInstance().localStorage;!t||!e||(e.setItem(QV,JSON.stringify(t)),e.setItem(JV,String(Date.now()+Un.getInstance().configTimeToLive*60*60*1e3)))}const Bee="Could not fetch config, will use default configs";function Uee(t,e){return See(t.installations).then(n=>{const r=Mee(t.app),i=jee(t.app),o=`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,a=new Request(o,{method:"POST",headers:{Authorization:`${$ee} ${n}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:n,app_id:rF(t.app),app_version:HV,sdk_version:Dee})});return fetch(a).then(s=>{if(s.ok)return s.json();throw ln.create("RC response not ok")})}).catch(()=>{ei.info(Bee)})}function tC(t){if(!t)return t;const e=Un.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=vr.loggingEnabled,n.fpr_log_source?e.logSource=Number(n.fpr_log_source):vr.logSource&&(e.logSource=vr.logSource),n.fpr_log_endpoint_url?e.logEndPointUrl=n.fpr_log_endpoint_url:vr.logEndPointUrl&&(e.logEndPointUrl=vr.logEndPointUrl),n.fpr_log_transport_key?e.transportKey=n.fpr_log_transport_key:vr.transportKey&&(e.transportKey=vr.transportKey),n.fpr_vc_network_request_sampling_rate!==void 0?e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):vr.networkRequestsSamplingRate!==void 0&&(e.networkRequestsSamplingRate=vr.networkRequestsSamplingRate),n.fpr_vc_trace_sampling_rate!==void 0?e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):vr.tracesSamplingRate!==void 0&&(e.tracesSamplingRate=vr.tracesSamplingRate),e.logTraceAfterSampling=nC(e.tracesSamplingRate),e.logNetworkAfterSampling=nC(e.networkRequestsSamplingRate),t}function zee(t){return Number(t)>Date.now()}function nC(t){return Math.random()<=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J1=1,L0;function iF(t){return J1=2,L0=L0||Wee(t),L0}function qee(){return J1===3}function Wee(t){return Hee().then(()=>Tee(t.installations)).then(e=>Lee(t,e)).then(()=>rC(),()=>rC())}function Hee(){const t=$t.getInstance().document;return new Promise(e=>{if(t&&t.readyState!=="complete"){const n=()=>{t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function rC(){J1=3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=10*1e3,Gee=5.5*1e3,oF=3,Kee=1e3;let Pm=oF,Mo=[],iC=!1;function Xee(){iC||(Ny(Gee),iC=!0)}function Ny(t){setTimeout(()=>{if(Pm!==0){if(!Mo.length)return Ny(Z1);Yee()}},t)}function Yee(){const t=Mo.splice(0,Kee),e=t.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Un.getInstance().logSource,log_event:e};Qee(n,t).catch(()=>{Mo=[...t,...Mo],Pm--,ei.info(`Tries left: ${Pm}.`),Ny(Z1)})}function Qee(t,e){return Jee(t).then(n=>(n.ok||ei.info("Call to Firebase backend failed."),n.json())).then(n=>{const r=Number(n.nextRequestWaitMillis);let i=Z1;isNaN(r)||(i=Math.max(r,i));const o=n.logResponseDetails;Array.isArray(o)&&o.length>0&&o[0].responseAction==="RETRY_REQUEST_LATER"&&(Mo=[...e,...Mo],ei.info("Retry transport request later.")),Pm=oF,Ny(i)})}function Jee(t){const e=Un.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function Zee(t){if(!t.eventTime||!t.message)throw ln.create("invalid cc log");Mo=[...Mo,t]}function ete(t){return(...e)=>{const n=t(...e);Zee({message:n,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V0;function aF(t,e){V0||(V0=ete(nte)),V0(t,e)}function $d(t){const e=Un.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||$t.getInstance().requiredApisAvailable()&&(t.isAuto&&nF()!==ll.VISIBLE||(qee()?F0(t):iF(t.performanceController).then(()=>F0(t),()=>F0(t))))}function F0(t){if(!Q1())return;const e=Un.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>aF(t,1),0)}function tte(t){const e=Un.getInstance();if(!e.instrumentationEnabled)return;const n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>aF(t,0),0)}function nte(t,e){return e===0?rte(t):ite(t)}function rte(t){const e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:sF(t.performanceController.app),network_request_metric:e};return JSON.stringify(n)}function ite(t){const e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);const n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);const r={application_info:sF(t.performanceController.app),trace_metric:e};return JSON.stringify(r)}function sF(t){return{google_app_id:rF(t),app_instance_id:Q1(),web_app_info:{sdk_version:HV,page_url:$t.getInstance().getUrl(),service_worker_status:Cee(),visibility_state:nF(),effective_connection_type:kee()},application_process_state:0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ote=100,ate="_",ste=[KV,XV,YV];function lte(t,e){return t.length===0||t.length>ote?!1:e&&e.startsWith(GV)&&ste.indexOf(t)>-1||!t.startsWith(ate)}function ute(t){const e=Math.floor(t);return e<t&&ei.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n,r=!1,i){this.performanceController=e,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=$t.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${_ee}-${this.randomId}-${this.name}`,this.traceStopMark=`${bee}-${this.randomId}-${this.name}`,this.traceMeasure=i||`${Jb}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw ln.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw ln.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),$d(this)}record(e,n,r){if(e<=0)throw ln.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw ln.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));$d(this)}incrementMetric(e,n=1){this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)}putMetric(e,n){if(lte(e,this.name))this.counters[e]=ute(n??0);else throw ln.create("invalid custom metric name",{customMetricName:e})}getMetric(e){return this.counters[e]||0}putAttribute(e,n){const r=Ree(e),i=Nee(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw ln.create("invalid attribute name",{attributeName:e});if(!i)throw ln.create("invalid attribute value",{attributeValue:n})}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(e,n,r,i){const o=$t.getInstance().getUrl();if(!o)return;const a=new $a(e,GV+o,!0),s=Math.floor($t.getInstance().getTimeOrigin()*1e3);a.setStartTime(s),n&&n[0]&&(a.setDuration(Math.floor(n[0].duration*1e3)),a.putMetric("domInteractive",Math.floor(n[0].domInteractive*1e3)),a.putMetric("domContentLoadedEventEnd",Math.floor(n[0].domContentLoadedEventEnd*1e3)),a.putMetric("loadEventEnd",Math.floor(n[0].loadEventEnd*1e3)));const l="first-paint",u="first-contentful-paint";if(r){const c=r.find(d=>d.name===l);c&&c.startTime&&a.putMetric(KV,Math.floor(c.startTime*1e3));const f=r.find(d=>d.name===u);f&&f.startTime&&a.putMetric(XV,Math.floor(f.startTime*1e3)),i&&a.putMetric(YV,Math.floor(i*1e3))}$d(a)}static createUserTimingTrace(e,n){const r=new $a(e,n,!1,n);$d(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e){const n=e;if(!n||n.responseStart===void 0)return;const r=$t.getInstance().getTimeOrigin(),i=Math.floor((n.startTime+r)*1e3),o=n.responseStart?Math.floor((n.responseStart-n.startTime)*1e3):void 0,a=Math.floor((n.responseEnd-n.startTime)*1e3),s=n.name&&n.name.split("?")[0],l={performanceController:t,url:s,responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:o,timeToResponseCompletedUs:a};tte(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cte=5e3;function aC(t){Q1()&&(setTimeout(()=>hte(t),0),setTimeout(()=>fte(t),0),setTimeout(()=>dte(t),0))}function fte(t){const e=$t.getInstance(),n=e.getEntriesByType("resource");for(const r of n)oC(t,r);e.setupObserver("resource",r=>oC(t,r))}function hte(t){const e=$t.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){let i=setTimeout(()=>{$a.createOobTrace(t,n,r),i=void 0},cte);e.onFirstInputDelay(o=>{i&&(clearTimeout(i),$a.createOobTrace(t,n,r,o))})}else $a.createOobTrace(t,n,r)}function dte(t){const e=$t.getInstance(),n=e.getEntriesByType("measure");for(const r of n)sC(t,r);e.setupObserver("measure",r=>sC(t,r))}function sC(t,e){const n=e.name;n.substring(0,Jb.length)!==Jb&&$a.createUserTimingTrace(t,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pte{constructor(e,n){this.app=e,this.installations=n,this.initialized=!1}_init(e){this.initialized||((e==null?void 0:e.dataCollectionEnabled)!==void 0&&(this.dataCollectionEnabled=e.dataCollectionEnabled),(e==null?void 0:e.instrumentationEnabled)!==void 0&&(this.instrumentationEnabled=e.instrumentationEnabled),$t.getInstance().requiredApisAvailable()?Zg().then(n=>{n&&(Xee(),iF(this).then(()=>aC(this),()=>aC(this)),this.initialized=!0)}).catch(n=>{ei.info(`Environment doesn't support IndexedDB: ${n}`)}):ei.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){Un.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return Un.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){Un.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return Un.getInstance().dataCollectionEnabled}}const mte="[DEFAULT]";function gte(t=ey()){return t=at(t),Ko(t,"performance").getImmediate()}const yte=(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if(n.name!==mte)throw ln.create("FB not default");if(typeof window>"u")throw ln.create("no window");Eee(window);const i=new pte(n,r);return i._init(e),i};function vte(){Mr(new fr("performance",yte,"PUBLIC")),Cn(ZO,Qb),Cn(ZO,Qb,"esm2017")}vte();const lF={apiKey:"tu-api-key-aqui",authDomain:"english-master-app.firebaseapp.com",projectId:"english-master-app",storageBucket:"english-master-app.appspot.com",messagingSenderId:"123456789012",appId:"1:123456789012:web:abcdef123456",measurementId:"G-XXXXXXXXXX"},Im=qj(lF),Pa=FW(Im);Sy(Im);typeof window<"u"&&(gee().then(t=>{t&&(pee(Im),console.log("📊 Firebase Analytics initialized"))}),gte(Im),console.log("⚡ Firebase Performance initialized"));Pa.useDeviceLanguage();console.log("🔥 Firebase initialized successfully");console.log("🏗️ Environment:","production");console.log("📱 Project ID:",lF.projectId);const Rg=class Rg{constructor(){eo(this,"db",Sy())}async initializeUserProgress(e,n,r){const i={userId:e,email:n,currentLevel:"A1",totalExercises:0,totalCorrectAnswers:0,overallAccuracy:0,totalXP:0,totalTimeSpent:0,currentStreak:0,longestStreak:0,levelProgress:{A1:this.createInitialLevelStats(!0),A2:this.createInitialLevelStats(!1),B1:this.createInitialLevelStats(!1),B2:this.createInitialLevelStats(!1)},apiKey:this.encryptAPIKey(r),preferences:{dailyGoal:20,soundEnabled:!0,animationsEnabled:!0,explanationLanguage:"es",difficultyPreference:"adaptive"},unlockedAchievements:[],createdAt:new Date,lastActive:new Date};return await Xb(pc(this.db,"userProgress",e),{...i,createdAt:Fe.fromDate(i.createdAt),lastActive:Fe.fromDate(i.lastActive)}),i}async updateProgress(e,n){return await QJ(this.db,async r=>{const i=pc(this.db,"userProgress",e),o=await r.get(i);if(!o.exists())throw new Error("User progress not found");const a=this.convertFirestoreToProgress(o.data()),s=a.totalExercises+n.totalAnswers,l=a.totalCorrectAnswers+n.correctAnswers,u=l/s,c=a.currentLevel,f=a.levelProgress[c],d=f.exercisesCompleted+n.totalAnswers,p=f.correctAnswers+n.correctAnswers,m=p/d,g=Math.max(f.accuracy,m),v={...f,exercisesCompleted:d,correctAnswers:p,accuracy:g,xpEarned:f.xpEarned+n.xpEarned,timeSpent:f.timeSpent+n.timeSpent,sessionsCompleted:f.sessionsCompleted+1,lastSession:new Date,averageTime:Math.min(f.averageTime||60,(f.averageTime*f.exercisesCompleted+n.timeSpent*60/n.totalAnswers)/d),weakAreas:this.updateWeakAreas(f.weakAreas,n.weakAreasIdentified),strongAreas:this.updateStrongAreas(f.strongAreas,n.skillsFocused,n.accuracy)};console.log("📊 PROGRESO ACTUALIZADO:",{level:c,oldAccuracy:f.accuracy,newAccuracy:m,finalAccuracy:g,exercisesCompleted:v.exercisesCompleted,onlyPositiveProgress:g>=f.accuracy});const w=this.calculateProgress(c,v);let _=c,y={...a.levelProgress};w.canLevelUp&&c!=="B2"&&(_=this.getNextLevel(c),v.isCompleted=!0,v.completedAt=new Date,y[_].isUnlocked=!0,console.log(`🎉 LEVEL UP: ${c} → ${_}`)),y[c]=v;const I=new Date().toISOString().split("T")[0],S=new Date(Date.now()-864e5).toISOString().split("T")[0],P=a.lastActive.toISOString().split("T")[0];let T=a.currentStreak;P===S?T+=1:P!==I&&(T=1);const x={...a,currentLevel:_,totalExercises:s,totalCorrectAnswers:l,overallAccuracy:u,totalXP:a.totalXP+n.xpEarned,totalTimeSpent:a.totalTimeSpent+n.timeSpent,currentStreak:T,longestStreak:Math.max(a.longestStreak,T),levelProgress:y,lastActive:new Date,...w.canLevelUp&&{lastLevelUp:new Date}};return r.update(i,{...x,lastActive:Fe.fromDate(x.lastActive),...x.lastLevelUp&&{lastLevelUp:Fe.fromDate(x.lastLevelUp)},"levelProgress.A1.lastSession":x.levelProgress.A1.lastSession?Fe.fromDate(x.levelProgress.A1.lastSession):null,"levelProgress.A2.lastSession":x.levelProgress.A2.lastSession?Fe.fromDate(x.levelProgress.A2.lastSession):null,"levelProgress.B1.lastSession":x.levelProgress.B1.lastSession?Fe.fromDate(x.levelProgress.B1.lastSession):null,"levelProgress.B2.lastSession":x.levelProgress.B2.lastSession?Fe.fromDate(x.levelProgress.B2.lastSession):null}),await this.saveDailyProgress(e,n,x),x})}async getUserProgress(e){const n=await zO(pc(this.db,"userProgress",e));return n.exists()?this.convertFirestoreToProgress(n.data()):null}calculateProgress(e,n){const r=Rg.LEVEL_REQUIREMENTS[e],i=Math.min(1,n.exercisesCompleted/r.minExercises),o=Math.min(1,n.accuracy/r.minAccuracy),a=Math.min(1,n.sessionsCompleted/r.minSessions),s=Math.min(1,n.timeSpent/r.minTimeSpent),l=Math.round((i*.4+o*.3+a*.2+s*.1)*100),u=n.exercisesCompleted>=r.minExercises&&n.accuracy>=r.minAccuracy&&n.sessionsCompleted>=r.minSessions&&n.timeSpent>=r.minTimeSpent,c=[];return n.exercisesCompleted<r.minExercises&&c.push(`Ejercicios: ${n.exercisesCompleted}/${r.minExercises}`),n.accuracy<r.minAccuracy&&c.push(`Precisión: ${Math.round(n.accuracy*100)}%/${Math.round(r.minAccuracy*100)}%`),n.sessionsCompleted<r.minSessions&&c.push(`Sesiones: ${n.sessionsCompleted}/${r.minSessions}`),n.timeSpent<r.minTimeSpent&&c.push(`Tiempo: ${n.timeSpent}/${r.minTimeSpent} min`),{canLevelUp:u,progressPercentage:l,nextLevel:this.getNextLevel(e),requirements:r,currentStats:n,blockedBy:c,estimatedTimeToLevelUp:this.calculateEstimatedTime(n,r)}}async saveDailyProgress(e,n,r){const i=new Date().toISOString().split("T")[0],o=pc(this.db,"dailyProgress",`${e}_${i}`),a=await zO(o),s={userId:e,date:i,exercisesCompleted:(a.exists()?a.data().exercisesCompleted:0)+n.totalAnswers,correctAnswers:(a.exists()?a.data().correctAnswers:0)+n.correctAnswers,accuracy:0,xpEarned:(a.exists()?a.data().xpEarned:0)+n.xpEarned,timeSpent:(a.exists()?a.data().timeSpent:0)+n.timeSpent,sessionsCompleted:(a.exists()?a.data().sessionsCompleted:0)+1,goalMet:!1,streak:r.currentStreak,level:r.currentLevel};s.accuracy=s.correctAnswers/s.exercisesCompleted,s.goalMet=s.exercisesCompleted>=r.preferences.dailyGoal,await Xb(o,s,{merge:!0})}createInitialLevelStats(e){return{exercisesCompleted:0,correctAnswers:0,accuracy:0,xpEarned:0,timeSpent:0,sessionsCompleted:0,isUnlocked:e,isCompleted:!1,weakAreas:[],strongAreas:[],averageTime:0}}getNextLevel(e){const n=["A1","A2","B1","B2"],r=n.indexOf(e);return n[Math.min(r+1,n.length-1)]}updateWeakAreas(e,n){const i=[...e,...n].reduce((o,a)=>(o[a]=(o[a]||0)+1,o),{});return Object.entries(i).filter(([o,a])=>a>=2).map(([o,a])=>o).slice(0,5)}updateStrongAreas(e,n,r){if(r>=.85){const i=[...e,...n];return Array.from(new Set(i)).slice(0,5)}return e}calculateEstimatedTime(e,n){const r=Math.max(0,n.minExercises-e.exercisesCompleted),i=e.averageTime||60;return r*i/60}encryptAPIKey(e){return btoa(e)}decryptAPIKey(e){return atob(e)}convertFirestoreToProgress(e){var n,r,i,o,a,s,l,u,c;return{...e,createdAt:e.createdAt.toDate(),lastActive:e.lastActive.toDate(),lastLevelUp:(n=e.lastLevelUp)==null?void 0:n.toDate(),levelProgress:{A1:{...e.levelProgress.A1,completedAt:(r=e.levelProgress.A1.completedAt)==null?void 0:r.toDate(),lastSession:(i=e.levelProgress.A1.lastSession)==null?void 0:i.toDate()},A2:{...e.levelProgress.A2,completedAt:(o=e.levelProgress.A2.completedAt)==null?void 0:o.toDate(),lastSession:(a=e.levelProgress.A2.lastSession)==null?void 0:a.toDate()},B1:{...e.levelProgress.B1,completedAt:(s=e.levelProgress.B1.completedAt)==null?void 0:s.toDate(),lastSession:(l=e.levelProgress.B1.lastSession)==null?void 0:l.toDate()},B2:{...e.levelProgress.B2,completedAt:(u=e.levelProgress.B2.completedAt)==null?void 0:u.toDate(),lastSession:(c=e.levelProgress.B2.lastSession)==null?void 0:c.toDate()}}}}};eo(Rg,"LEVEL_REQUIREMENTS",{A1:{minExercises:40,minAccuracy:.7,minSessions:5,minTimeSpent:60,skillsRequired:["social_greetings","basic_needs","courtesy","personal_info"],description:"Supervivencia básica en inglés"},A2:{minExercises:80,minAccuracy:.75,minSessions:10,minTimeSpent:120,skillsRequired:["daily_routines","past_experiences","future_plans","preferences"],description:"Comunicación cotidiana"},B1:{minExercises:120,minAccuracy:.8,minSessions:15,minTimeSpent:180,skillsRequired:["work_situations","problem_solving","opinions","hypotheticals"],description:"Independencia comunicativa"},B2:{minExercises:160,minAccuracy:.85,minSessions:20,minTimeSpent:240,skillsRequired:["professional_communication","analysis","complex_grammar","nuanced_vocabulary"],description:"Fluidez profesional"}});let Om=Rg;/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _te={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ce=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>j.createElement("svg",{ref:c,..._te,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${bte(t)}`,s].join(" "),...u},[...e.map(([f,d])=>j.createElement(f,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=Ce("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=Ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=Ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=Ce("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=Ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=Ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=Ce("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=Ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=Ce("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=Ce("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=Ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=Ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=Ce("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=Ce("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=Ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=Ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Ce("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=Ce("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=Ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=Ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=Ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=Ce("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=Ce("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=Ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Lte=()=>{const[t,e]=j.useState(!0),[n,r]=j.useState(""),[i,o]=j.useState(""),[a,s]=j.useState(!1),[l,u]=j.useState(!1),[c,f]=j.useState(""),d=new fi;d.addScope("email"),d.addScope("profile");const p=async()=>{try{u(!0),f("");const v=await Xq(Pa,d);console.log("✅ Google sign in successful:",v.user.email),an.success(`¡Bienvenido ${v.user.displayName||v.user.email}!`)}catch(v){console.error("❌ Google sign in error:",v),f("Error al iniciar sesión con Google"),an.error("Error al iniciar sesión con Google")}finally{u(!1)}},m=async v=>{if(v.preventDefault(),!n||!i){f("Por favor completa todos los campos");return}if(i.length<6){f("La contraseña debe tener al menos 6 caracteres");return}try{if(u(!0),f(""),t){const w=await Sq(Pa,n,i);console.log("✅ Email sign in successful:",w.user.email),an.success("¡Sesión iniciada correctamente!")}else{const w=await Tq(Pa,n,i);console.log("✅ Account created successfully:",w.user.email),an.success("¡Cuenta creada exitosamente!")}}catch(w){console.error("❌ Email auth error:",w);const _={"auth/user-not-found":"Usuario no encontrado","auth/wrong-password":"Contraseña incorrecta","auth/email-already-in-use":"Este email ya está registrado","auth/weak-password":"La contraseña es muy débil","auth/invalid-email":"Email inválido","auth/too-many-requests":"Demasiados intentos. Intenta más tarde"};f(_[w.code]||"Error de autenticación"),an.error(_[w.code]||"Error de autenticación")}finally{u(!1)}},g=async()=>{if(!n){f("Ingresa tu email para recuperar la contraseña");return}try{await Eq(Pa,n),an.success("Email de recuperación enviado")}catch{an.error("Error enviando email de recuperación")}};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:E.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-200/50",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx(ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx("span",{className:"text-white font-bold text-xl",children:"EM"})}),E.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"English Master"}),E.jsx("p",{className:"text-gray-600",children:t?"Inicia sesión en tu cuenta":"Crea tu cuenta nueva"})]}),E.jsxs(ie.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},onClick:p,disabled:l,className:"w-full flex items-center justify-center space-x-3 p-4 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors disabled:opacity-50 mb-6",children:[E.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),E.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),E.jsx("span",{className:"font-medium text-gray-700",children:t?"Continuar con Google":"Registrarse con Google"})]}),E.jsxs("div",{className:"flex items-center my-6",children:[E.jsx("div",{className:"flex-1 border-t border-gray-300"}),E.jsx("span",{className:"px-4 text-sm text-gray-500",children:"o"}),E.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),E.jsxs("form",{onSubmit:m,className:"space-y-4",children:[E.jsxs(ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),E.jsxs("div",{className:"relative",children:[E.jsx(Ote,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),E.jsx("input",{type:"email",value:n,onChange:v=>{r(v.target.value),f("")},className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"tu@email.com",disabled:l})]})]}),E.jsxs(ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),E.jsxs("div",{className:"relative",children:[E.jsx(Pte,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),E.jsx("input",{type:a?"text":"password",value:i,onChange:v=>{o(v.target.value),f("")},className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"••••••••",disabled:l}),E.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?E.jsx(tT,{className:"w-5 h-5"}):E.jsx(nT,{className:"w-5 h-5"})})]})]}),c&&E.jsxs(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-xl flex items-start space-x-2",children:[E.jsx(uF,{className:"w-5 h-5 text-red-500 mt-0.5"}),E.jsx("p",{className:"text-red-700 text-sm",children:c})]}),E.jsx(ie.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50",children:l?E.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[E.jsx(ie.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),E.jsx("span",{children:t?"Iniciando sesión...":"Creando cuenta..."})]}):E.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t?E.jsx(Cm,{className:"w-5 h-5"}):E.jsx(Mte,{className:"w-5 h-5"}),E.jsx("span",{children:t?"Iniciar Sesión":"Crear Cuenta"})]})})]}),E.jsxs("div",{className:"mt-6 text-center space-y-3",children:[t&&E.jsx("button",{onClick:g,className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",disabled:l,children:"¿Olvidaste tu contraseña?"}),E.jsxs("div",{className:"text-sm text-gray-600",children:[t?"¿No tienes cuenta?":"¿Ya tienes cuenta?"," ",E.jsx("button",{onClick:()=>{e(!t),f("")},className:"text-blue-600 hover:text-blue-800 font-medium transition-colors",disabled:l,children:t?"Crear cuenta":"Iniciar sesión"})]})]})]})})})};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uC;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(uC||(uC={}));var cC;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(cC||(cC={}));var fC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(fC||(fC={}));var hC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(hC||(hC={}));var km;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.OTHER="OTHER"})(km||(km={}));var dC;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(dC||(dC={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class pC extends Sf{constructor(e,n){super(e),this.response=n}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vte="https://generativelanguage.googleapis.com",Fte="v1",Bte="0.2.1",Ute="genai-js";var Za;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Za||(Za={}));class Dh{constructor(e,n,r,i){this.model=e,this.task=n,this.apiKey=r,this.stream=i}toString(){let e=`${Vte}/${Fte}/${this.model}:${this.task}`;return this.stream&&(e+="?alt=sse"),e}}function zte(){return`${Ute}/${Bte}`}async function $h(t,e,n){let r;try{if(r=await fetch(t.toString(),Object.assign(Object.assign({},qte(n)),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-client":zte(),"x-goog-api-key":t.apiKey},body:e})),!r.ok){let i="";try{const o=await r.json();i=o.error.message,o.error.details&&(i+=` ${JSON.stringify(o.error.details)}`)}catch{}throw new Error(`[${r.status} ${r.statusText}] ${i}`)}}catch(i){const o=new Sf(`Error fetching from ${t.toString()}: ${i.message}`);throw o.stack=i.stack,o}return r}function qte(t){const e={};if((t==null?void 0:t.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),t.timeout),e.signal=r}return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),yF(t.candidates[0]))throw new pC(`${Rm(t)}`,t);return Wte(t)}else if(t.promptFeedback)throw new pC(`Text not available. ${Rm(t)}`,t);return""},t}function Wte(t){var e,n,r,i;return!((i=(r=(n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r[0])===null||i===void 0)&&i.text?t.candidates[0].content.parts[0].text:""}const Hte=[km.RECITATION,km.SAFETY];function yF(t){return!!t.finishReason&&Hte.includes(t.finishReason)}function Rm(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const o=t.candidates[0];yF(o)&&(i+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(i+=`: ${o.finishMessage}`))}return i}function Af(t){return this instanceof Af?(this.v=t,this):new Af(t)}function Gte(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){r[d]&&(i[d]=function(p){return new Promise(function(m,g){o.push([d,p,m,g])>1||s(d,p)})})}function s(d,p){try{l(r[d](p))}catch(m){f(o[0][3],m)}}function l(d){d.value instanceof Af?Promise.resolve(d.value.v).then(u,c):f(o[0][2],d)}function u(d){s("next",d)}function c(d){s("throw",d)}function f(d,p){d(p),o.shift(),o.length&&s(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Kte(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Qte(e),[r,i]=n.tee();return{stream:Yte(r),response:Xte(i)}}async function Xte(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return rT(Jte(e));e.push(i)}}function Yte(t){return Gte(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield Af(n.read());if(i)break;yield yield Af(rT(r))}})}function Qte(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return o();function o(){return e.read().then(({value:a,done:s})=>{if(s){if(i.trim()){r.error(new Sf("Failed to parse stream"));return}r.close();return}i+=a;let l=i.match(mC),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new Sf(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),i=i.substring(l[0].length),l=i.match(mC)}return o()})}}})}function Jte(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t)if(r.candidates)for(const i of r.candidates){const o=i.index;if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:i.index}),n.candidates[o].citationMetadata=i.citationMetadata,n.candidates[o].finishReason=i.finishReason,n.candidates[o].finishMessage=i.finishMessage,n.candidates[o].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[o].content||(n.candidates[o].content={role:i.content.role||"user",parts:[{text:""}]});for(const a of i.content.parts)a.text&&(n.candidates[o].content.parts[0].text+=a.text)}}return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vF(t,e,n,r){const i=new Dh(e,Za.STREAM_GENERATE_CONTENT,t,!0),o=await $h(i,JSON.stringify(n),r);return Kte(o)}async function _F(t,e,n,r){const i=new Dh(e,Za.GENERATE_CONTENT,t,!1),a=await(await $h(i,JSON.stringify(n),r)).json();return{response:rT(a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t,e){let n=[];if(typeof t=="string")n=[{text:t}];else for(const r of t)typeof r=="string"?n.push({text:r}):n.push(r);return{role:e,parts:n}}function B0(t){return t.contents?t:{contents:[$c(t,"user")]}}function Zte(t){return typeof t=="string"||Array.isArray(t)?{content:$c(t,"user")}:t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="SILENT_ERROR";class ene{constructor(e,n,r,i){this.model=n,this.params=r,this.requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(this._history=r.history.map(o=>{if(!o.role)throw new Error("Missing role for history item: "+JSON.stringify(o));return $c(o.parts,o.role)}))}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var n,r;await this._sendPromise;const i=$c(e,"user"),o={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,i]};let a;return this._sendPromise=this._sendPromise.then(()=>_F(this._apiKey,this.model,o,this.requestOptions)).then(s=>{var l;if(s.response.candidates&&s.response.candidates.length>0){this._history.push(i);const u=Object.assign({parts:[],role:"model"},(l=s.response.candidates)===null||l===void 0?void 0:l[0].content);this._history.push(u)}else{const u=Rm(s.response);u&&console.warn(`sendMessage() was unsuccessful. ${u}. Inspect response object for details.`)}a=s}),await this._sendPromise,a}async sendMessageStream(e){var n,r;await this._sendPromise;const i=$c(e,"user"),o={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,i]},a=vF(this._apiKey,this.model,o,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>a).catch(s=>{throw new Error(gC)}).then(s=>s.response).then(s=>{if(s.candidates&&s.candidates.length>0){this._history.push(i);const l=Object.assign({},s.candidates[0].content);l.role||(l.role="model"),this._history.push(l)}else{const l=Rm(s);l&&console.warn(`sendMessageStream() was unsuccessful. ${l}. Inspect response object for details.`)}}).catch(s=>{s.message!==gC&&console.error(s)}),a}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tne(t,e,n,r){const i=new Dh(e,Za.COUNT_TOKENS,t,!1);return(await $h(i,JSON.stringify(Object.assign(Object.assign({},n),{model:e})),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nne(t,e,n,r){const i=new Dh(e,Za.EMBED_CONTENT,t,!1);return(await $h(i,JSON.stringify(n),r)).json()}async function rne(t,e,n,r){const i=new Dh(e,Za.BATCH_EMBED_CONTENTS,t,!1),o=n.requests.map(s=>Object.assign(Object.assign({},s),{model:e}));return(await $h(i,JSON.stringify({requests:o}),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(e,n,r){this.apiKey=e,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.requestOptions=r||{}}async generateContent(e){const n=B0(e);return _F(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}async generateContentStream(e){const n=B0(e);return vF(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}startChat(e){return new ene(this.apiKey,this.model,e,this.requestOptions)}async countTokens(e){const n=B0(e);return tne(this.apiKey,this.model,n)}async embedContent(e){const n=Zte(e);return nne(this.apiKey,this.model,n)}async batchEmbedContents(e){return rne(this.apiKey,this.model,e,this.requestOptions)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Sf("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new ine(this.apiKey,e,n)}}const Ng=class Ng{constructor(){eo(this,"db",Sy())}async generateDiverseExercises(e,n,r=8){try{console.log(`🎯 Generando ${r} ejercicios diversos para ${n}`);const i=await this.getUserExerciseHistory(e,n),o=await this.createDiversityPlan(e,n,r,i),a=await this.generateWithConstraints(e,n,o),s=await this.validateDiversity(a,i);return await this.saveExercisesToHistory(e,n,s),console.log(`✅ ${s.length} ejercicios diversos generados`),s}catch(i){throw console.error("❌ Error generating diverse exercises:",i),i}}async getUserExerciseHistory(e,n){try{const r=Ep(this.db,"exerciseHistory"),i=Tp(r,Gs("userId","==",e),Gs("level","==",n),UJ("timestamp","desc"),zJ(200));return(await Ap(i)).docs.map(a=>({...a.data(),timestamp:a.data().timestamp.toDate()}))}catch(r){return console.warn("⚠️ Error loading history, using empty:",r),[]}}async createDiversityPlan(e,n,r,i){const o=Ng.DIVERSITY_REQUIREMENTS[n],a=i.reduce((d,p)=>(d[p.skillFocus]=(d[p.skillFocus]||0)+1,d),{}),s=Object.keys(o.skillDistribution).filter(d=>(a[d]||0)<o.minVariationsPerSkill).sort((d,p)=>(a[d]||0)-(a[p]||0)),l={},u=s.slice(0,Math.ceil(r*.6));u.forEach((d,p)=>{l[d]=Math.ceil(r/u.length)});const c=r-Object.values(l).reduce((d,p)=>d+p,0),f=Object.keys(o.skillDistribution).filter(d=>!u.includes(d));return f.forEach(d=>{l[d]=Math.floor(c/f.length)}),{targetDistribution:l,avoidQuestions:i.slice(0,50).map(d=>d.questionHash),difficultyRange:this.calculateDifficultyRange(n,i),situationVariety:this.getSituationVariety(n),grammarFocus:this.getGrammarFocus(n,i)}}async generateWithConstraints(e,n,r){const i=[];for(const[o,a]of Object.entries(r.targetDistribution))if(!(typeof a!="number"||a<=0))for(let s=0;s<a;s++){const l=this.buildConstrainedPrompt(n,o,r,i.length+1);try{const u=await this.generateSingleExercise(l,n,o);u&&this.validateExerciseUniqueness(u,i)&&i.push(u)}catch(u){console.warn(`⚠️ Error generating exercise for ${o}:`,u)}}return i}buildConstrainedPrompt(e,n,r,i){const o=r.situationVariety[n]||[],a=o[i%o.length];return`GENERA UN EJERCICIO ÚNICO Y ESPECÍFICO PARA NIVEL ${e}

🎯 SKILL OBLIGATORIO: ${n}
🎭 SITUACIÓN ESPECÍFICA: ${a}
🚫 EVITAR COMPLETAMENTE: ${r.avoidQuestions.join(", ")}

REGLAS ESTRICTAS DE DIVERSIDAD:
1. La situación debe ser EXACTAMENTE: ${a}
2. NUNCA usar estas frases prohibidas: ${this.getProhibitedPhrases(e)}
3. Dificultad: ${r.difficultyRange.min} - ${r.difficultyRange.max}
4. Gramática focus: ${r.grammarFocus}

FORMATO JSON REQUERIDO:
{
  "id": "${e}_${n}_unique_${Date.now()}_${i}",
  "type": "multiple_choice",
  "situation": "${a}",
  "question": "[PREGUNTA ÚNICA EN ESPAÑOL PARA A1]",
  "options": ["[opción 1]", "[opción 2]", "[opción 3]", "[opción 4]"],
  "correct_answer": 0,
  "explanation": "[Explicación pedagógica detallada]",
  "level": "${e}",
  "skill_focus": "${n}",
  "difficulty": ${r.difficultyRange.min+Math.random()*(r.difficultyRange.max-r.difficultyRange.min)},
  "uniqueness_hash": "${this.generateUniqueHash(a,n)}"
}

GENERA 1 EJERCICIO COMPLETAMENTE ÚNICO Y ÚTIL.`}getProhibitedPhrases(e){const n=["Good morning","Hello","Thank you","I'm hungry","What time is it","My name is","How are you","Nice to meet you","Goodbye","See you later"];return{A1:[...n],A2:[...n,"I went to","I like","I have"],B1:[...n,"I think","I believe","In my opinion"],B2:[...n,"However","Nevertheless","Furthermore"]}[e]||n}getSituationVariety(e){return{A1:{social_greetings:["Te encuentras con tu jefe en el ascensor por la mañana","Un cliente entra a la tienda donde trabajas","Te cruzas con tu vecino en el supermercado","Llegas tarde a una reunión y necesitas saludar","Un turista te pregunta algo en la calle"],basic_needs:["Estás en un restaurante y tienes mucha sed","Necesitas encontrar un baño urgentemente en un centro comercial","Tienes hambre en el trabajo y no hay comida","Hace frío y necesitas cerrar la ventana","Necesitas ayuda para cargar algo pesado"],courtesy:["Alguien te sostiene la puerta abierta","Un compañero te presta su bolígrafo","Te traen la comida que pediste","Alguien te felicita por tu trabajo","Un extraño te devuelve algo que se te cayó"]},A2:{daily_routines:["Describes tu rutina matutina a un compañero nuevo","Explicas qué haces los fines de semana","Hablas sobre tu horario de trabajo","Describes cómo llegas al trabajo cada día","Explicas tus hábitos de ejercicio"]}}[e]||{}}generateUniqueHash(e,n){const r=`${e}_${n}_${Date.now()}`;let i=0;for(let o=0;o<r.length;o++){const a=r.charCodeAt(o);i=(i<<5)-i+a,i=i&i}return Math.abs(i).toString(36)}async saveExercisesToHistory(e,n,r){try{const i=`session_${Date.now()}`;for(const o of r){const a={userId:e,level:n,questionHash:o.uniqueness_hash||o.id,questionText:o.question,skillFocus:o.skill_focus,difficulty:o.difficulty,timestamp:new Date,sessionId:i};await Xb(pc(this.db,"exerciseHistory",`${e}_${o.id}`),{...a,timestamp:JJ()})}console.log(`💾 ${r.length} ejercicios guardados en historial Firebase`)}catch(i){console.error("❌ Error saving to history:",i)}}calculateDifficultyRange(e,n){const r={A1:{min:.1,max:.3},A2:{min:.3,max:.5},B1:{min:.5,max:.7},B2:{min:.7,max:.9}};return r[e]||r.A1}getGrammarFocus(e,n){const r={A1:"present simple, verb to be, basic questions",A2:"past simple, present perfect, future with going to",B1:"conditionals, passive voice, modal verbs",B2:"advanced tenses, subjunctive, complex structures"};return r[e]||r.A1}async generateSingleExercise(e,n,r){return{id:`${n}_${r}_${Date.now()}`,type:"multiple_choice",situation:"Situación única generada",question:"Pregunta única generada",options:["Opción 1","Opción 2","Opción 3","Opción 4"],correct_answer:0,explanation:"Explicación única",level:n,skill_focus:r,difficulty:.5,uniqueness_hash:this.generateUniqueHash(`${n}_${r}`,Date.now().toString())}}validateExerciseUniqueness(e,n){return!n.some(r=>r.question===e.question||r.uniqueness_hash===e.uniqueness_hash)}async validateDiversity(e,n){return e.filter(r=>!n.some(i=>i.questionText===r.question))}};eo(Ng,"DIVERSITY_REQUIREMENTS",{A1:{minVariationsPerSkill:5,maxRepeatFrequency:7,skillDistribution:{social_greetings:.25,basic_needs:.25,courtesy:.2,personal_info:.15,emergency_help:.15},difficultyProgression:!0},A2:{minVariationsPerSkill:8,maxRepeatFrequency:10,skillDistribution:{daily_routines:.3,past_experiences:.25,future_plans:.2,preferences:.15,basic_conversation:.1},difficultyProgression:!0},B1:{minVariationsPerSkill:10,maxRepeatFrequency:14,skillDistribution:{work_situations:.25,problem_solving:.25,opinions:.2,hypotheticals:.15,complex_grammar:.15},difficultyProgression:!0},B2:{minVariationsPerSkill:12,maxRepeatFrequency:21,skillDistribution:{professional_communication:.3,analysis:.25,nuanced_vocabulary:.2,advanced_grammar:.15,cultural_context:.1},difficultyProgression:!0}});let ew=Ng;class bF{constructor(e){eo(this,"genAI");eo(this,"diversityEngine");this.genAI=new one(e),this.diversityEngine=new ew}async generateExercises(e){try{console.log(`🎯 Generando ejercicios DIVERSOS ${e.level} para usuario ${e.userId}`);const n=await this.diversityEngine.generateDiverseExercises(e.userId,e.level,8);if(n.length>0){const r=await this.enhanceWithAI(n,e);if(r.length>=4)return console.log(`✅ ${r.length} ejercicios DIVERSOS generados exitosamente`),r}return console.warn("⚠️ Diversity engine falló, usando método alternativo"),await this.generateWithStrictConstraints(e)}catch(n){return console.error("❌ Error generando ejercicios diversos:",n),this.generateEmergencyExercisesUnique(e.level,e.userId)}}async enhanceWithAI(e,n){const r=[];for(const i of e)try{const o=`MEJORA ESTE EJERCICIO BASE MANTENIENDO SU UNIQUENESS:

EJERCICIO BASE:
${JSON.stringify(i,null,2)}

REGLAS ESTRICTAS:
1. MANTENER la situación exacta: "${i.situation}"
2. MANTENER el skill focus: "${i.skill_focus}"
3. MEJORAR la pregunta para ser más natural y pedagógica
4. GENERAR opciones completamente diferentes pero lógicas
5. NUNCA usar estas frases prohibidas: "Good morning", "Hello", "Thank you", "I'm hungry"

FORMATO JSON EXACTO:
{
  "id": "${i.id}",
  "type": "multiple_choice",
  "situation": "${i.situation}",
  "question": "[PREGUNTA MEJORADA EN ESPAÑOL]",
  "options": ["[opción única 1]", "[opción única 2]", "[opción única 3]", "[opción única 4]"],
  "correct_answer": 0,
  "explanation": "[Explicación pedagógica detallada]",
  "level": "${n.level}",
  "skill_focus": "${i.skill_focus}",
  "difficulty": ${i.difficulty}
}`,u=(await this.genAI.getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{temperature:.9,topP:.9,topK:50,maxOutputTokens:1024}}).generateContent(o)).response.text().match(/\{[\s\S]*\}/);if(u){const c=JSON.parse(u[0]);if(this.validateUniqueness(c,r)){const f=this.shuffleOptions(c);r.push(f),console.log(`✅ Ejercicio mejorado: ${c.skill_focus}`)}}}catch(o){console.warn("⚠️ Error mejorando ejercicio:",o)}return r}async generateWithStrictConstraints(e){const n=`GENERA 8 EJERCICIOS COMPLETAMENTE ÚNICOS PARA NIVEL ${e.level}

🚨 CONSTRAINTS ESTRICTOS:
1. CADA EJERCICIO debe tener una situación COMPLETAMENTE DIFERENTE
2. NUNCA repetir estas frases: "Good morning", "Hello", "Thank you", "I'm hungry", "What time is it", "My name is"
3. Usar situaciones ESPECÍFICAS y REALISTAS
4. Variar entre diferentes skills: social_greetings, basic_needs, courtesy, personal_info, emergency_help

EJEMPLOS DE SITUACIONES ÚNICAS:
- "Estás en el dentista y necesitas explicar que te duele"
- "Un compañero de trabajo te invita a almorzar"
- "Necesitas pedir direcciones para llegar al aeropuerto"
- "Tu vecino te pregunta si puedes cuidar su gato"
- "Estás en una farmacia y necesitas medicina"

FORMATO JSON - 8 EJERCICIOS ÚNICOS:
{
  "exercises": [
    {
      "id": "unique_${Date.now()}_1",
      "situation": "[SITUACIÓN COMPLETAMENTE ÚNICA]",
      "question": "[PREGUNTA ÚNICA EN ESPAÑOL]",
      "options": ["[opción 1]", "[opción 2]", "[opción 3]", "[opción 4]"],
      "correct_answer": 0,
      "explanation": "[Explicación pedagógica]",
      "level": "${e.level}",
      "skill_focus": "[skill específico]"
    }
  ]
}`;try{const a=(await this.genAI.getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{temperature:1,topP:.95,topK:60,maxOutputTokens:3e3}}).generateContent(n)).response.text().match(/\{[\s\S]*\}/);if(a)return JSON.parse(a[0]).exercises.map((l,u)=>this.shuffleOptions({...l,id:`unique_${e.userId}_${Date.now()}_${u}`,difficulty:this.calculateDifficulty(l,e.level)}))}catch(r){console.error("❌ Error con constraints estrictos:",r)}return this.generateEmergencyExercisesUnique(e.level,e.userId)}validateExercise(e,n){const r=[],i=[];let o=1;if((!e.question||typeof e.question!="string")&&r.push("Pregunta faltante o inválida"),(!e.options||!Array.isArray(e.options)||e.options.length!==4)&&r.push("Debe tener exactamente 4 opciones"),typeof e.correct_answer!="number"&&typeof e.correct_answer!="string"&&r.push("Respuesta correcta inválida"),(!e.explanation||typeof e.explanation!="string")&&r.push("Explicación faltante"),n==="A1"){const l=this.validateA1Exercise(e);r.push(...l.errors),i.push(...l.warnings),o*=l.score}else if(n==="A2"){const l=this.validateA2Exercise(e);r.push(...l.errors),i.push(...l.warnings),o*=l.score}const a=this.validateSocialLogic(e);a.isValid||(r.push(...a.errors),o*=.5);const s=this.validateOptionDiversity(e.options);return s.isValid||(i.push(...s.warnings),o*=.9),{isValid:r.length===0,errors:r,warnings:i,pedagogicalScore:o}}validateA1Exercise(e){const n=[],r=[];let i=1;return this.detectLanguage(e.question)!=="spanish"&&(n.push("A1: La pregunta debe estar en ESPAÑOL"),i*=.1),e.options.every(u=>this.detectLanguage(u)==="english")||(n.push("A1: Todas las opciones deben estar en INGLÉS"),i*=.3),this.isSurvivalSituation(e.situation||e.question)||(n.push("A1: Debe ser una situación de supervivencia básica"),i*=.5),this.hasAdvancedVocabulary(e.options.join(" "))&&(r.push("A1: Contiene vocabulario avanzado"),i*=.8),{errors:n,warnings:r,score:i}}validateA2Exercise(e){const n=[],r=[];let i=1;return this.detectLanguage(e.question)==="unknown"&&(r.push("A2: Idioma de pregunta no detectado claramente"),i*=.9),this.hasA2Grammar(e.question+" "+e.options.join(" "))||(r.push("A2: Debería incluir gramática de nivel A2"),i*=.8),{errors:n,warnings:r,score:i}}validateSocialLogic(e){var a;const n=[],r=(e.situation||e.question).toLowerCase(),i=((a=e.options[typeof e.correct_answer=="number"?e.correct_answer:e.options.indexOf(e.correct_answer)])==null?void 0:a.toLowerCase())||"",o=[{condition:r.includes("dice hello")||r.includes("saluda"),expectedResponses:["hello","hi","good morning"],name:"Responder saludo"},{condition:r.includes("te da")||r.includes("gives you"),expectedResponses:["thank you","thanks","gracias"],name:"Agradecer cuando reciben algo"},{condition:r.includes("dice thank you")||r.includes("te agradece"),expectedResponses:["you're welcome","no problem","de nada"],name:"Responder a agradecimiento"}];for(const s of o)s.condition&&(s.expectedResponses.some(u=>i.includes(u.toLowerCase()))||n.push(`Lógica social incorrecta: ${s.name}`));return{isValid:n.length===0,errors:n}}detectLanguage(e){const n=["qué","cómo","dónde","cuándo","por","para","con","sin","te","le","se","es","está"],r=["what","how","where","when","the","and","you","are","is","can","do","have"],i=e.toLowerCase(),o=n.filter(s=>i.includes(s)).length,a=r.filter(s=>i.includes(s)).length;return o>a?"spanish":a>o?"english":"unknown"}isSurvivalSituation(e){const n=["saluda","hello","hola","dice","da","gives","comida","food","thank you","gracias","agradece","nombre","name","llamas","hambre","hungry","sed","thirsty","baño","bathroom","perdido","lost","ayuda","help","excuse me"],r=e.toLowerCase();return n.some(i=>r.includes(i))}hasAdvancedVocabulary(e){const n=["sophisticated","comprehensive","substantial","significant","consequently","nevertheless","furthermore","moreover","perspective","analyze","evaluate","implement"],r=e.toLowerCase();return n.some(i=>r.includes(i))}hasA2Grammar(e){const n=["went","did","was","were","going to","will","have been","has been","would like","prefer"],r=e.toLowerCase();return n.some(i=>r.includes(i))}validateOptionDiversity(e){const n=[],r=e.map(s=>s.length),i=r.reduce((s,l)=>s+l,0)/r.length;r.some(s=>Math.abs(s-i)>i*.5)||n.push("Opciones tienen longitud muy similar");const a=new Set;return e.forEach(s=>{s.toLowerCase().split(" ").forEach(l=>a.add(l))}),a.size<e.length*2&&n.push("Opciones semánticamente muy similares"),{isValid:n.length===0,warnings:n}}shuffleOptions(e){const n=e.options[e.correct_answer],r=[...e.options];for(let o=r.length-1;o>0;o--){const a=Math.floor(Math.random()*(o+1));[r[o],r[a]]=[r[a],r[o]]}const i=r.findIndex(o=>o===n);return{...e,options:r,correct_answer:i}}calculateDifficulty(e,n){let r=.5;r={A1:.2,A2:.4,B1:.6,B2:.8}[n];const o=e.question.length;return o>100&&(r+=.1),o>150&&(r+=.1),this.hasAdvancedVocabulary(e.options.join(" "))&&(r+=.2),Math.min(1,Math.max(0,r))}validateUniqueness(e,n){const r=e.question.toLowerCase().split(" ");for(const i of n){const o=i.question.toLowerCase().split(" ");if(r.filter(s=>o.includes(s)).length>r.length*.5)return console.warn(`❌ Ejercicio muy similar rechazado: ${e.question}`),!1}return!0}generateEmergencyExercisesUnique(e,n){const r=Date.now(),i={A1:[{id:`emergency_${n}_${r}_1`,situation:"Estás en el dentista y necesitas explicar que te duele una muela",question:"¿Cómo expresas que tienes dolor de muelas?",options:["My tooth hurts","I'm happy","I'm cold","I'm tired"],correct_answer:0,explanation:"Para expresar dolor usamos 'hurts'. 'My tooth hurts' = Me duele la muela.",skill_focus:"health_emergencies"},{id:`emergency_${n}_${r}_2`,situation:"Un compañero de trabajo te invita a almorzar",question:"¿Cómo aceptas la invitación educadamente?",options:["Yes, I'd like that","No, never","Maybe tomorrow","I don't know"],correct_answer:0,explanation:"'Yes, I'd like that' es una forma educada de aceptar una invitación.",skill_focus:"workplace_social"},{id:`emergency_${n}_${r}_3`,situation:"Necesitas pedir direcciones para llegar al aeropuerto",question:"¿Cómo pides direcciones al aeropuerto?",options:["How do I get to the airport?","Where is food?","What time is it?","I like planes"],correct_answer:0,explanation:"'How do I get to...' es la forma correcta de pedir direcciones.",skill_focus:"navigation"},{id:`emergency_${n}_${r}_4`,situation:"Tu vecino te pregunta si puedes cuidar su gato mientras viaja",question:"¿Cómo respondes que sí puedes ayudar?",options:["Sure, I can help","I hate cats","Maybe not","I don't understand"],correct_answer:0,explanation:"'Sure, I can help' es una respuesta positiva y útil para ofrecer ayuda.",skill_focus:"neighborly_help"},{id:`emergency_${n}_${r}_5`,situation:"Estás en una farmacia y necesitas medicina para el dolor de cabeza",question:"¿Cómo pides medicina para el dolor de cabeza?",options:["I need something for headache","I want candy","Where is water?","I'm very happy"],correct_answer:0,explanation:"'I need something for...' es la forma correcta de pedir medicina específica.",skill_focus:"pharmacy_needs"},{id:`emergency_${n}_${r}_6`,situation:"Llegas tarde al trabajo y necesitas disculparte con tu jefe",question:"¿Cómo te disculpas por llegar tarde?",options:["Sorry I'm late","Hello boss","Good morning","I'm here now"],correct_answer:0,explanation:"'Sorry I'm late' es la disculpa apropiada cuando llegas tarde.",skill_focus:"workplace_apology"},{id:`emergency_${n}_${r}_7`,situation:"Estás en un restaurante y la comida está fría",question:"¿Cómo reportas que la comida está fría?",options:["This food is cold","I'm very cold","The weather is cold","Cold is good"],correct_answer:0,explanation:"'This food is cold' identifica específicamente el problema con la comida.",skill_focus:"restaurant_complaints"},{id:`emergency_${n}_${r}_8`,situation:"Un turista te pregunta dónde está la estación de tren",question:"¿Cómo direccionas a alguien hacia la estación de tren?",options:["The train station is over there","I don't like trains","Trains are fast","What is a train?"],correct_answer:0,explanation:"Para dar direcciones usamos 'The [lugar] is over there' (está por allá).",skill_focus:"giving_directions"}],A2:[],B1:[],B2:[]};return(i[e]||i.A1).map(a=>this.shuffleOptions({...a,type:"multiple_choice",level:e,difficulty:.3}))}generateEmergencyExercises(e){const n={A1:[{id:"emergency_a1_001",type:"multiple_choice",situation:"Te encuentras con un compañero y te dice Hello",question:"¿Qué debes responder para ser educado?",options:["Hello","You're welcome","I'm sorry","Goodbye"],correct_answer:0,explanation:'Cuando alguien te saluda con "Hello", debes saludar de vuelta. Es cortesía básica.',level:"A1",skill_focus:"social_greetings",difficulty:.2},{id:"emergency_a1_002",type:"multiple_choice",situation:"Te dan comida en un restaurante",question:"¿Qué dices para agradecer?",options:["Thank you","Hello","Goodbye","You're welcome"],correct_answer:0,explanation:'Cuando alguien te da algo, debes agradecer diciendo "Thank you".',level:"A1",skill_focus:"courtesy",difficulty:.2}],A2:[{id:"emergency_a2_001",type:"multiple_choice",situation:"Tu amigo pregunta sobre tu fin de semana",question:"¿Cómo dices que fuiste al cine ayer?",options:["I went to the movies yesterday","I go to movies","I will go to movies","I am going to movies"],correct_answer:0,explanation:'Para hablar del pasado usamos "went" (pasado de "go").',level:"A2",skill_focus:"past_experiences",difficulty:.4}],B1:[{id:"emergency_b1_001",type:"multiple_choice",situation:"In a job interview context",question:"How would you express your motivation for the position?",options:["I believe I can contribute to the team","I need money","I like jobs","This is a company"],correct_answer:0,explanation:"Professional responses should focus on contribution and value.",level:"B1",skill_focus:"work_situations",difficulty:.6}],B2:[{id:"emergency_b2_001",type:"multiple_choice",situation:"Business meeting discussion",question:"How do you diplomatically present a counterargument?",options:["While I understand your perspective, I'd like to propose...","You are wrong","That's not good","I disagree"],correct_answer:0,explanation:"Professional communication requires diplomatic language and respect.",level:"B2",skill_focus:"professional_communication",difficulty:.8}]};return console.log(`🚨 Usando ejercicios de emergencia para nivel ${e}`),n[e]||n.A1}}const ane=({onComplete:t})=>{const[e,n]=j.useState(""),[r,i]=j.useState(!1),[o,a]=j.useState(""),[s,l]=j.useState(!1),[u,c]=j.useState("intro"),f=async g=>{try{const w=await new bF(g).generateExercises({userId:"test_user",level:"A1",weakAreas:[],completedExercises:0,sessionNumber:1});return w&&w.length>0}catch(v){return console.error("API Key validation error:",v),!1}},d=async()=>{if(!e.trim()){a("Por favor ingresa tu API Key");return}if(!e.startsWith("AIza")){a('La API Key debe comenzar con "AIza"');return}i(!0),a("");try{await f(e.trim())?(localStorage.setItem("gemini_api_key",e.trim()),t(e.trim())):a("API Key inválida o sin permisos. Verifica que esté activa y tenga acceso a Gemini.")}catch{a("Error validando API Key. Verifica tu conexión a internet.")}finally{i(!1)}},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,staggerChildren:.1}}},m={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return u==="intro"?E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:E.jsxs(ie.div,{variants:p,initial:"hidden",animate:"visible",className:"max-w-2xl mx-auto text-center space-y-8",children:[E.jsxs(ie.div,{variants:m,children:[E.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:E.jsx("span",{className:"text-white font-bold text-2xl",children:"EM"})}),E.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"¡Bienvenido a English Master!"}),E.jsx("p",{className:"text-xl text-gray-600 max-w-lg mx-auto",children:"La primera app de inglés 100% personalizada con IA que se adapta a tu nivel real"})]}),E.jsxs(ie.div,{variants:m,className:"grid md:grid-cols-3 gap-6 my-12",children:[E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[E.jsx("div",{className:"text-3xl mb-4",children:"🤖"}),E.jsx("h3",{className:"font-bold text-lg mb-2",children:"IA Personal"}),E.jsx("p",{className:"text-gray-600 text-sm",children:"Ejercicios únicos generados específicamente para tu nivel y debilidades"})]}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[E.jsx("div",{className:"text-3xl mb-4",children:"🇪🇸"}),E.jsx("h3",{className:"font-bold text-lg mb-2",children:"Pedagogía Real"}),E.jsx("p",{className:"text-gray-600 text-sm",children:"A1: Preguntas en español → Respuestas en inglés. Lógica que funciona."})]}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[E.jsx("div",{className:"text-3xl mb-4",children:"🚀"}),E.jsx("h3",{className:"font-bold text-lg mb-2",children:"Progreso Real"}),E.jsx("p",{className:"text-gray-600 text-sm",children:"A1 → A2 → B1 → B2 con requisitos específicos y progresión lógica"})]})]}),E.jsx(ie.div,{variants:m,children:E.jsx("button",{onClick:()=>c("setup"),className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Comenzar Configuración"})})]})}):E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:E.jsx(ie.div,{variants:p,initial:"hidden",animate:"visible",className:"max-w-2xl mx-auto",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-200/50",children:[E.jsxs(ie.div,{variants:m,className:"text-center mb-8",children:[E.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(hF,{className:"w-8 h-8 text-white"})}),E.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Configura tu API Key Personal"}),E.jsx("p",{className:"text-gray-600",children:"Necesitas tu propia API Key de Google AI Studio para generar ejercicios únicos"})]}),E.jsx(ie.div,{variants:m,className:"mb-8",children:E.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[E.jsxs("h3",{className:"font-bold text-blue-900 mb-4 flex items-center",children:[E.jsx(Zb,{className:"w-5 h-5 mr-2"}),"¿Por qué necesitas tu propia API Key?"]}),E.jsxs("div",{className:"space-y-3 text-sm text-blue-800",children:[E.jsxs("div",{className:"flex items-start space-x-2",children:[E.jsx(Dc,{className:"w-4 h-4 mt-0.5 text-blue-600"}),E.jsxs("span",{children:[E.jsx("strong",{children:"Control total:"})," Tus datos y progreso son 100% privados"]})]}),E.jsxs("div",{className:"flex items-start space-x-2",children:[E.jsx(Dc,{className:"w-4 h-4 mt-0.5 text-blue-600"}),E.jsxs("span",{children:[E.jsx("strong",{children:"Ejercicios ilimitados:"})," Genera tantos como necesites"]})]}),E.jsxs("div",{className:"flex items-start space-x-2",children:[E.jsx(Dc,{className:"w-4 h-4 mt-0.5 text-blue-600"}),E.jsxs("span",{children:[E.jsx("strong",{children:"Personalización máxima:"})," IA adaptada a tu progreso específico"]})]})]})]})}),E.jsxs(ie.div,{variants:m,className:"mb-8",children:[E.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center",children:[E.jsx(dF,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Cómo obtener tu API Key (2 minutos):"]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[E.jsx("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),E.jsx("div",{className:"flex-1",children:E.jsxs("p",{className:"text-gray-800",children:["Ve a"," ",E.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 font-medium inline-flex items-center",children:["Google AI Studio",E.jsx(Ste,{className:"w-4 h-4 ml-1"})]})]})})]}),E.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[E.jsx("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),E.jsx("p",{className:"text-gray-800 flex-1",children:'Haz clic en "Create API Key" y selecciona tu proyecto'})]}),E.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[E.jsx("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),E.jsx("p",{className:"text-gray-800 flex-1",children:"Copia la API Key y pégala abajo"})]})]})]}),E.jsxs(ie.div,{variants:m,className:"mb-6",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google AI Studio API Key"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:s?"text":"password",value:e,onChange:g=>{n(g.target.value),a("")},placeholder:"AIzaSy...",className:"w-full p-4 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-lg font-mono",disabled:r}),E.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?E.jsx(tT,{className:"w-5 h-5"}):E.jsx(nT,{className:"w-5 h-5"})})]})]}),o&&E.jsxs(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start space-x-3",children:[E.jsx(uF,{className:"w-5 h-5 text-red-500 mt-0.5"}),E.jsx("p",{className:"text-red-700 text-sm",children:o})]}),E.jsx(ie.button,{variants:m,onClick:d,disabled:!e.trim()||r,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:r?{}:{scale:1.01},whileTap:r?{}:{scale:.99},children:r?E.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[E.jsx(ie.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),E.jsx("span",{children:"Validando API Key..."})]}):E.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[E.jsx(Cm,{className:"w-5 h-5"}),E.jsx("span",{children:"Validar y Continuar"})]})}),E.jsx(ie.div,{variants:m,className:"mt-6",children:E.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:E.jsxs("div",{className:"flex items-start space-x-2",children:[E.jsx(Zb,{className:"w-5 h-5 text-green-600 mt-0.5"}),E.jsxs("div",{className:"text-sm text-green-800",children:[E.jsx("p",{className:"font-medium mb-1",children:"🔒 Tu API Key es segura"}),E.jsx("p",{children:"Se almacena localmente en tu dispositivo y solo se usa para generar tus ejercicios personalizados."})]})]})})})]})})})};class sne{constructor(){eo(this,"db",Sy())}async cleanAllUserHistory(e){try{console.log(`🧹 Limpiando historial completo para usuario: ${e}`),await this.cleanFirebaseHistory(e),this.cleanLocalStorageHistory(e),console.log(`✅ Historial limpiado completamente para ${e}`)}catch(n){console.error("❌ Error limpiando historial:",n)}}async cleanFirebaseHistory(e){try{const n=qO(this.db),r=Tp(Ep(this.db,"exerciseHistory"),Gs("userId","==",e)),i=await Ap(r);i.docs.forEach(o=>{n.delete(o.ref)}),await n.commit(),console.log(`🔥 ${i.size} registros eliminados de Firebase`)}catch(n){console.error("❌ Error limpiando Firebase:",n)}}cleanLocalStorageHistory(e){try{const n=["content_hashes_A1","content_hashes_A2","content_hashes_B1","content_hashes_B2","used_sessions_A1","used_sessions_A2","used_sessions_B1","used_sessions_B2","all_exercise_hashes_A1","all_exercise_hashes_A2","all_exercise_hashes_B1","all_exercise_hashes_B2",`user_exercise_history_${e}`,`last_questions_${e}`,`question_bank_${e}`];n.forEach(r=>{localStorage.removeItem(r)}),console.log(`🧹 ${n.length} claves limpiadas del localStorage`)}catch(n){console.error("❌ Error limpiando localStorage:",n)}}async cleanOldHistory(e){try{const n=new Date;n.setDate(n.getDate()-30);const r=qO(this.db),i=Tp(Ep(this.db,"exerciseHistory"),Gs("userId","==",e),Gs("timestamp","<",n)),o=await Ap(i);o.docs.forEach(a=>{r.delete(a.ref)}),await r.commit(),console.log(`🗑️ ${o.size} registros antiguos eliminados`)}catch(n){console.error("❌ Error limpiando historial antiguo:",n)}}async getRepetitionStats(e){try{const n=Tp(Ep(this.db,"exerciseHistory"),Gs("userId","==",e)),i=(await Ap(n)).docs.map(s=>s.data()),o={};i.forEach(s=>{o[s.questionText]=(o[s.questionText]||0)+1});const a=Object.entries(o).sort(([,s],[,l])=>l-s).slice(0,10);return{totalExercises:i.length,uniqueQuestions:Object.keys(o).length,repetitionRate:1-Object.keys(o).length/i.length,mostRepeated:a.map(([s,l])=>({question:s,count:l}))}}catch(n){return console.error("❌ Error obteniendo stats:",n),null}}}const lne=({userProgress:t,onStartSession:e,onViewProgress:n,onSettings:r})=>{const[i,o]=j.useState(null),[a,s]=j.useState(!1),l=new Om,u=new sne;j.useEffect(()=>{const d=t.levelProgress[t.currentLevel],p=l.calculateProgress(t.currentLevel,d);o(p)},[t]);const c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,staggerChildren:.1}}},f={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return E.jsxs(ie.div,{variants:c,initial:"hidden",animate:"visible",className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[E.jsx(ie.header,{variants:f,className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 sticky top-0 z-40",children:E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"flex justify-between items-center h-16",children:[E.jsx("div",{className:"flex items-center space-x-4",children:E.jsxs(ie.div,{whileHover:{scale:1.05},className:"flex items-center space-x-2",children:[E.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:E.jsx("span",{className:"text-white font-bold text-sm",children:"EM"})}),E.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"English Master"})]})}),E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsxs(ie.div,{whileHover:{scale:1.02},className:"text-right",children:[E.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[t.email.split("@")[0]," 👋"]}),E.jsxs("p",{className:"text-xs text-gray-500",children:["Nivel ",t.currentLevel," • ",t.currentStreak," días seguidos"]})]}),E.jsx(ie.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors",children:E.jsx(pF,{className:"w-5 h-5 text-gray-600"})})]})]})})}),E.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:E.jsxs("div",{className:"space-y-8",children:[E.jsxs(ie.div,{variants:f,className:`
              relative overflow-hidden rounded-2xl p-6 border-2 transition-all duration-500
              ${i!=null&&i.canLevelUp?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-300 shadow-green-100":"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-300 shadow-blue-100"} shadow-xl
            `,children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsxs("div",{children:[E.jsxs(ie.h2,{className:`text-3xl font-bold mb-2 ${i!=null&&i.canLevelUp?"text-green-800":"text-blue-800"}`,children:["📈 Nivel ",t.currentLevel," → ",i==null?void 0:i.nextLevel]}),E.jsx("p",{className:`text-sm ${i!=null&&i.canLevelUp?"text-green-700":"text-blue-700"}`,children:i!=null&&i.canLevelUp?"🎉 ¡Listo para subir de nivel!":i==null?void 0:i.requirements.description})]}),E.jsx(ie.div,{animate:{scale:i!=null&&i.canLevelUp?[1,1.1,1]:1,rotate:i!=null&&i.canLevelUp?[0,5,-5,0]:0},transition:{duration:2,repeat:i!=null&&i.canLevelUp?1/0:0},className:"text-center",children:E.jsxs("div",{className:`
                  inline-flex items-center justify-center w-20 h-20 rounded-full text-3xl font-bold
                  ${i!=null&&i.canLevelUp?"bg-green-500 text-white shadow-lg shadow-green-200":"bg-white text-blue-600 shadow-lg"}
                `,children:[(i==null?void 0:i.progressPercentage)||0,"%"]})})]}),E.jsx("div",{className:"mb-4",children:E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:E.jsx(ie.div,{initial:{width:0},animate:{width:`${(i==null?void 0:i.progressPercentage)||0}%`},transition:{duration:1.5,ease:"easeOut"},className:`h-full rounded-full ${i!=null&&i.canLevelUp?"bg-gradient-to-r from-green-400 to-emerald-500":"bg-gradient-to-r from-blue-400 to-purple-500"}`})})}),i&&!i.canLevelUp&&E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",children:i.blockedBy.map((d,p)=>E.jsx(ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:p*.1},className:"bg-white/50 rounded-lg p-2 text-center",children:E.jsx("span",{className:"text-gray-600",children:d})},p))}),(i==null?void 0:i.canLevelUp)&&E.jsx(ie.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-shadow",onClick:()=>s(!0),children:"🎉 ¡SUBIR DE NIVEL!"})]}),E.jsxs(ie.div,{variants:f,className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[E.jsx(Ld,{title:"XP Total",value:t.totalXP.toLocaleString(),icon:E.jsx(mF,{className:"w-6 h-6"}),color:"yellow",subtitle:"+50 hoy"}),E.jsx(Ld,{title:"Precisión",value:`${Math.round(t.overallAccuracy*100)}%`,icon:E.jsx(Tf,{className:"w-6 h-6"}),color:"blue",subtitle:"Meta: 85%"}),E.jsx(Ld,{title:"Racha",value:`${t.currentStreak} días`,icon:E.jsx(Dc,{className:"w-6 h-6"}),color:"orange",subtitle:`Récord: ${t.longestStreak}`}),E.jsx(Ld,{title:"Tiempo Total",value:`${Math.round(t.totalTimeSpent/60)}h`,icon:E.jsx(fF,{className:"w-6 h-6"}),color:"green",subtitle:"Esta semana"})]}),E.jsxs(ie.div,{variants:f,className:"bg-white rounded-2xl p-6 shadow-xl border border-gray-200/50",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Tu Camino de Aprendizaje"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:["A1","A2","B1","B2"].map((d,p)=>{const m=t.levelProgress[d],g=t.currentLevel===d,v=m.isCompleted,w=m.isUnlocked;return E.jsx(une,{level:d,stats:m,isCurrent:g,isCompleted:v,isUnlocked:w,index:p},d)})})]}),E.jsxs(ie.div,{variants:f,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsx(ie.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300",children:E.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[E.jsx(kte,{className:"w-8 h-8"}),E.jsxs("div",{className:"text-left",children:[E.jsx("h3",{className:"text-xl font-bold",children:"Comenzar Sesión"}),E.jsx("p",{className:"text-blue-100",children:"8 ejercicios únicos y personalizados"})]})]})}),E.jsx(ie.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,className:"bg-white border-2 border-gray-200 text-gray-900 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:E.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[E.jsx(cF,{className:"w-8 h-8 text-blue-600"}),E.jsxs("div",{className:"text-left",children:[E.jsx("h3",{className:"text-xl font-bold",children:"Ver Progreso"}),E.jsx("p",{className:"text-gray-600",children:"Análisis detallado"})]})]})})]}),E.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-2xl p-4",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-yellow-800",children:"¿Ves preguntas repetidas?"}),E.jsx("p",{className:"text-sm text-yellow-700",children:"Limpia el historial para obtener ejercicios completamente nuevos"})]}),E.jsx(ie.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{try{await u.cleanAllUserHistory(t.userId),alert("🎉 ¡Historial limpiado! Las próximas sesiones tendrán ejercicios completamente nuevos.")}catch{alert("❌ Error limpiando historial. Inténtalo de nuevo.")}},className:"bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"🧹 Limpiar Historial"})]})})]})]})}),E.jsx(dm,{children:a&&E.jsx(cne,{newLevel:(i==null?void 0:i.nextLevel)||"A2",onClose:()=>s(!1)})})]})},Ld=({title:t,value:e,icon:n,color:r,subtitle:i})=>{const o={yellow:"from-yellow-400 to-orange-500 text-yellow-600",blue:"from-blue-400 to-blue-600 text-blue-600",orange:"from-orange-400 to-red-500 text-orange-600",green:"from-green-400 to-emerald-500 text-green-600"};return E.jsxs(ie.div,{whileHover:{y:-4},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200/50 hover:shadow-xl transition-all duration-300",children:[E.jsx("div",{className:"flex items-center justify-between mb-4",children:E.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${o[r]}`,children:E.jsx("div",{className:"text-white",children:n})})}),E.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:e}),E.jsx("p",{className:"text-sm text-gray-600 mb-1",children:t}),E.jsx("p",{className:"text-xs text-gray-500",children:i})]})},une=({level:t,stats:e,isCurrent:n,isCompleted:r,isUnlocked:i,index:o})=>E.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:`
        p-4 rounded-xl border-2 text-center transition-all duration-300 cursor-pointer
        ${n?"border-blue-500 bg-blue-50 shadow-lg shadow-blue-100":r?"border-green-500 bg-green-50 shadow-lg shadow-green-100":i?"border-gray-300 bg-gray-50 hover:border-gray-400":"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed"}
      `,whileHover:i?{scale:1.02}:{},children:[E.jsx("div",{className:"text-3xl mb-2",children:r?"🏆":n?"🎯":i?"🔓":"🔒"}),E.jsx("div",{className:"font-bold text-lg mb-1",children:t}),E.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[e.exercisesCompleted," ejercicios"]}),r&&e.completedAt&&E.jsxs("div",{className:"text-xs text-green-600",children:["Completado ",new Date(e.completedAt).toLocaleDateString()]}),n&&E.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:[Math.round(e.accuracy*100),"% precisión"]})]}),cne=({newLevel:t,onClose:e})=>E.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e,children:E.jsxs(ie.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{type:"spring",duration:.8},className:"bg-white p-8 rounded-2xl text-center shadow-2xl max-w-md mx-4",onClick:n=>n.stopPropagation(),children:[E.jsx(ie.div,{animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},className:"text-6xl mb-4",children:"🎉"}),E.jsx("h2",{className:"text-3xl font-bold text-yellow-500 mb-2",children:"¡LEVEL UP!"}),E.jsxs("p",{className:"text-xl text-gray-800 mb-4",children:["¡Ahora eres nivel ",E.jsx("span",{className:"font-bold text-blue-600",children:t}),"!"]}),E.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl mb-6",children:E.jsx("p",{className:"text-sm text-gray-600",children:"Has desbloqueado nuevos ejercicios y desafíos más avanzados"})}),E.jsx(ie.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-3 rounded-xl font-bold shadow-lg",children:"¡Continuar Aprendiendo!"})]})}),fne=({userProgress:t,apiKey:e,onComplete:n,onExit:r})=>{const[i,o]=j.useState([]),[a,s]=j.useState(0),[l,u]=j.useState(null),[c,f]=j.useState(!1),[d,p]=j.useState(!0),[m]=j.useState(new Date),[g,v]=j.useState(0),[w,_]=j.useState(0),[y,I]=j.useState([]),[S,P]=j.useState([]),T=new bF(e),x=i[a],O=a===i.length-1;j.useEffect(()=>{const V=setInterval(()=>{_(Math.floor((Date.now()-m.getTime())/1e3/60))},6e4);return()=>clearInterval(V)},[m]),j.useEffect(()=>{C()},[]);const C=async()=>{try{p(!0);const V=t.levelProgress[t.currentLevel],F=await T.generateExercises({userId:t.userId,level:t.currentLevel,weakAreas:V.weakAreas,completedExercises:V.exercisesCompleted,sessionNumber:V.sessionsCompleted+1});o(F),p(!1),console.log(`🎯 Sesión generada: ${F.length} ejercicios nivel ${t.currentLevel}`)}catch(V){console.error("❌ Error generando sesión:",V),p(!1)}},k=V=>{if(c)return;u(V),f(!0),V===x.correct_answer?v(q=>q+1):P(q=>[...q,x.skill_focus]),I(q=>Array.from(new Set([...q,x.skill_focus])))},N=()=>{O?R():(s(V=>V+1),u(null),f(!1))},R=()=>{const V={userId:t.userId,sessionId:`session_${Date.now()}`,level:t.currentLevel,exercisesCompleted:i.length,correctAnswers:g,totalAnswers:i.length,accuracy:g/i.length,xpEarned:g*10+i.length*5,timeSpent:w,skillsFocused:Array.from(new Set(y)),weakAreasIdentified:Array.from(new Set(S)),startTime:m,endTime:new Date};n(V)},B=V=>{if("speechSynthesis"in window){const F=new SpeechSynthesisUtterance(V);F.lang="en-US",F.rate=.8,speechSynthesis.speak(F)}};return d?E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:E.jsxs(ie.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center",children:[E.jsx(ie.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),E.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Generando tu sesión personalizada..."}),E.jsxs("p",{className:"text-gray-600",children:["Creando ejercicios específicos para tu nivel ",t.currentLevel]})]})}):i.length?E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[E.jsx("header",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 sticky top-0 z-40",children:E.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("button",{onClick:r,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[E.jsx(eT,{className:"w-5 h-5"}),E.jsx("span",{children:"Salir"})]}),E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[E.jsx(Tf,{className:"w-4 h-4"}),E.jsxs("span",{children:[g,"/",i.length]})]}),E.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[E.jsx(fF,{className:"w-4 h-4"}),E.jsxs("span",{children:[w," min"]})]})]})]}),E.jsxs("div",{className:"mt-4",children:[E.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[E.jsx("span",{children:"Progreso"}),E.jsxs("span",{children:[a+1," de ",i.length]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:E.jsx(ie.div,{initial:{width:0},animate:{width:`${(a+1)/i.length*100}%`},transition:{duration:.3},className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full"})})]})]})}),E.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:E.jsx(dm,{mode:"wait",children:E.jsx(ie.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"space-y-6",children:E.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-gray-200/50",children:[x.situation&&E.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-blue-50 rounded-xl p-4 mb-6",children:[E.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Situación:"}),E.jsx("p",{className:"text-blue-700",children:x.situation})]}),E.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:x.question}),E.jsx("button",{onClick:()=>B(x.question),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:E.jsx(gF,{className:"w-5 h-5"})})]}),E.jsx("p",{className:"text-gray-600",children:"Selecciona la respuesta correcta:"})]}),E.jsx("div",{className:"space-y-3 mb-8",children:x.options.map((V,F)=>{const q=l===F,L=F===x.correct_answer,z=c;let G="w-full p-4 text-left rounded-xl border-2 transition-all duration-300 ";return z?L?G+="border-green-500 bg-green-50 text-green-800":q&&!L?G+="border-red-500 bg-red-50 text-red-800":G+="border-gray-200 bg-gray-100 text-gray-600":G+=q?"border-blue-500 bg-blue-50 text-blue-800":"border-gray-200 bg-gray-50 hover:border-gray-300 hover:bg-gray-100",E.jsx(ie.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+F*.1},onClick:()=>k(F),disabled:c,className:G,whileHover:c?{}:{scale:1.01},whileTap:c?{}:{scale:.99},children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsxs("span",{className:"text-lg font-bold",children:[String.fromCharCode(65+F),")"]}),E.jsx("span",{className:"text-lg",children:V})]}),z&&E.jsxs("div",{children:[L&&E.jsx(Cm,{className:"w-6 h-6 text-green-500"}),q&&!L&&E.jsx(lC,{className:"w-6 h-6 text-red-500"})]})]})},F)})}),E.jsx(dm,{children:c&&E.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`rounded-xl p-6 mb-6 ${l===x.correct_answer?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:E.jsxs("div",{className:"flex items-start space-x-3",children:[E.jsx("div",{className:"mt-1",children:l===x.correct_answer?E.jsx(Cm,{className:"w-6 h-6 text-green-500"}):E.jsx(lC,{className:"w-6 h-6 text-red-500"})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("h3",{className:`font-bold mb-2 ${l===x.correct_answer?"text-green-800":"text-red-800"}`,children:l===x.correct_answer?"🎉 ¡Correcto! +10 XP":"❌ Incorrecto, pero +3 XP por intentar"}),E.jsxs("div",{className:"flex items-start space-x-2",children:[E.jsx(dF,{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0"}),E.jsxs("p",{className:"text-gray-700",children:[E.jsx("strong",{children:"Explicación:"})," ",x.explanation]})]})]})]})})}),c&&E.jsx(ie.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:N,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.01},whileTap:{scale:.99},children:E.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[E.jsx("span",{children:O?"Completar Sesión":"Siguiente Pregunta"}),E.jsx(xte,{className:"w-5 h-5"})]})})]})},a)})})]}):E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center",children:E.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-md mx-4",children:[E.jsx("div",{className:"text-6xl mb-4",children:"😕"}),E.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"No se pudieron generar ejercicios"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Verifica tu conexión y API key, luego intenta de nuevo."}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("button",{onClick:C,className:"w-full bg-blue-500 text-white py-3 rounded-xl font-medium hover:bg-blue-600 transition-colors",children:[E.jsx(Rte,{className:"w-5 h-5 inline mr-2"}),"Intentar de nuevo"]}),E.jsx("button",{onClick:r,className:"w-full bg-gray-200 text-gray-800 py-3 rounded-xl font-medium hover:bg-gray-300 transition-colors",children:"Volver al Dashboard"})]})]})})};function wF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=wF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ie(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=wF(t))&&(r&&(r+=" "),r+=e);return r}var hne=Array.isArray,Nn=hne,dne=typeof ud=="object"&&ud&&ud.Object===Object&&ud,xF=dne,pne=xF,mne=typeof self=="object"&&self&&self.Object===Object&&self,gne=pne||mne||Function("return this")(),ni=gne,yne=ni,vne=yne.Symbol,Lh=vne,yC=Lh,EF=Object.prototype,_ne=EF.hasOwnProperty,bne=EF.toString,Ku=yC?yC.toStringTag:void 0;function wne(t){var e=_ne.call(t,Ku),n=t[Ku];try{t[Ku]=void 0;var r=!0}catch{}var i=bne.call(t);return r&&(e?t[Ku]=n:delete t[Ku]),i}var xne=wne,Ene=Object.prototype,Tne=Ene.toString;function Sne(t){return Tne.call(t)}var Ane=Sne,vC=Lh,Pne=xne,Ine=Ane,One="[object Null]",Cne="[object Undefined]",_C=vC?vC.toStringTag:void 0;function kne(t){return t==null?t===void 0?Cne:One:_C&&_C in Object(t)?Pne(t):Ine(t)}var Gi=kne;function Rne(t){return t!=null&&typeof t=="object"}var Ki=Rne,Nne=Gi,Mne=Ki,jne="[object Symbol]";function Dne(t){return typeof t=="symbol"||Mne(t)&&Nne(t)==jne}var cu=Dne,$ne=Nn,Lne=cu,Vne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fne=/^\w*$/;function Bne(t,e){if($ne(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Lne(t)?!0:Fne.test(t)||!Vne.test(t)||e!=null&&t in Object(e)}var iT=Bne;function Une(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Zo=Une;const fu=ze(Zo);var zne=Gi,qne=Zo,Wne="[object AsyncFunction]",Hne="[object Function]",Gne="[object GeneratorFunction]",Kne="[object Proxy]";function Xne(t){if(!qne(t))return!1;var e=zne(t);return e==Hne||e==Gne||e==Wne||e==Kne}var oT=Xne;const ye=ze(oT);var Yne=ni,Qne=Yne["__core-js_shared__"],Jne=Qne,U0=Jne,bC=function(){var t=/[^.]+$/.exec(U0&&U0.keys&&U0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Zne(t){return!!bC&&bC in t}var ere=Zne,tre=Function.prototype,nre=tre.toString;function rre(t){if(t!=null){try{return nre.call(t)}catch{}try{return t+""}catch{}}return""}var TF=rre,ire=oT,ore=ere,are=Zo,sre=TF,lre=/[\\^$.*+?()[\]{}|]/g,ure=/^\[object .+?Constructor\]$/,cre=Function.prototype,fre=Object.prototype,hre=cre.toString,dre=fre.hasOwnProperty,pre=RegExp("^"+hre.call(dre).replace(lre,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mre(t){if(!are(t)||ore(t))return!1;var e=ire(t)?pre:ure;return e.test(sre(t))}var gre=mre;function yre(t,e){return t==null?void 0:t[e]}var vre=yre,_re=gre,bre=vre;function wre(t,e){var n=bre(t,e);return _re(n)?n:void 0}var hs=wre,xre=hs,Ere=xre(Object,"create"),My=Ere,wC=My;function Tre(){this.__data__=wC?wC(null):{},this.size=0}var Sre=Tre;function Are(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Pre=Are,Ire=My,Ore="__lodash_hash_undefined__",Cre=Object.prototype,kre=Cre.hasOwnProperty;function Rre(t){var e=this.__data__;if(Ire){var n=e[t];return n===Ore?void 0:n}return kre.call(e,t)?e[t]:void 0}var Nre=Rre,Mre=My,jre=Object.prototype,Dre=jre.hasOwnProperty;function $re(t){var e=this.__data__;return Mre?e[t]!==void 0:Dre.call(e,t)}var Lre=$re,Vre=My,Fre="__lodash_hash_undefined__";function Bre(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Vre&&e===void 0?Fre:e,this}var Ure=Bre,zre=Sre,qre=Pre,Wre=Nre,Hre=Lre,Gre=Ure;function hu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hu.prototype.clear=zre;hu.prototype.delete=qre;hu.prototype.get=Wre;hu.prototype.has=Hre;hu.prototype.set=Gre;var Kre=hu;function Xre(){this.__data__=[],this.size=0}var Yre=Xre;function Qre(t,e){return t===e||t!==t&&e!==e}var aT=Qre,Jre=aT;function Zre(t,e){for(var n=t.length;n--;)if(Jre(t[n][0],e))return n;return-1}var jy=Zre,eie=jy,tie=Array.prototype,nie=tie.splice;function rie(t){var e=this.__data__,n=eie(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():nie.call(e,n,1),--this.size,!0}var iie=rie,oie=jy;function aie(t){var e=this.__data__,n=oie(e,t);return n<0?void 0:e[n][1]}var sie=aie,lie=jy;function uie(t){return lie(this.__data__,t)>-1}var cie=uie,fie=jy;function hie(t,e){var n=this.__data__,r=fie(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var die=hie,pie=Yre,mie=iie,gie=sie,yie=cie,vie=die;function du(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}du.prototype.clear=pie;du.prototype.delete=mie;du.prototype.get=gie;du.prototype.has=yie;du.prototype.set=vie;var Dy=du,_ie=hs,bie=ni,wie=_ie(bie,"Map"),sT=wie,xC=Kre,xie=Dy,Eie=sT;function Tie(){this.size=0,this.__data__={hash:new xC,map:new(Eie||xie),string:new xC}}var Sie=Tie;function Aie(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Pie=Aie,Iie=Pie;function Oie(t,e){var n=t.__data__;return Iie(e)?n[typeof e=="string"?"string":"hash"]:n.map}var $y=Oie,Cie=$y;function kie(t){var e=Cie(this,t).delete(t);return this.size-=e?1:0,e}var Rie=kie,Nie=$y;function Mie(t){return Nie(this,t).get(t)}var jie=Mie,Die=$y;function $ie(t){return Die(this,t).has(t)}var Lie=$ie,Vie=$y;function Fie(t,e){var n=Vie(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Bie=Fie,Uie=Sie,zie=Rie,qie=jie,Wie=Lie,Hie=Bie;function pu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pu.prototype.clear=Uie;pu.prototype.delete=zie;pu.prototype.get=qie;pu.prototype.has=Wie;pu.prototype.set=Hie;var lT=pu,SF=lT,Gie="Expected a function";function uT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Gie);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(uT.Cache||SF),n}uT.Cache=SF;var AF=uT;const Kie=ze(AF);var Xie=AF,Yie=500;function Qie(t){var e=Xie(t,function(r){return n.size===Yie&&n.clear(),r}),n=e.cache;return e}var Jie=Qie,Zie=Jie,eoe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,toe=/\\(\\)?/g,noe=Zie(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(eoe,function(n,r,i,o){e.push(i?o.replace(toe,"$1"):r||n)}),e}),roe=noe;function ioe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var cT=ioe,EC=Lh,ooe=cT,aoe=Nn,soe=cu,TC=EC?EC.prototype:void 0,SC=TC?TC.toString:void 0;function PF(t){if(typeof t=="string")return t;if(aoe(t))return ooe(t,PF)+"";if(soe(t))return SC?SC.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var loe=PF,uoe=loe;function coe(t){return t==null?"":uoe(t)}var IF=coe,foe=Nn,hoe=iT,doe=roe,poe=IF;function moe(t,e){return foe(t)?t:hoe(t,e)?[t]:doe(poe(t))}var OF=moe,goe=cu;function yoe(t){if(typeof t=="string"||goe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ly=yoe,voe=OF,_oe=Ly;function boe(t,e){e=voe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[_oe(e[n++])];return n&&n==r?t:void 0}var fT=boe,woe=fT;function xoe(t,e,n){var r=t==null?void 0:woe(t,e);return r===void 0?n:r}var CF=xoe;const sr=ze(CF);function Eoe(t){return t==null}var Toe=Eoe;const be=ze(Toe);var Soe=Gi,Aoe=Nn,Poe=Ki,Ioe="[object String]";function Ooe(t){return typeof t=="string"||!Aoe(t)&&Poe(t)&&Soe(t)==Ioe}var Coe=Ooe;const es=ze(Coe);var kF={exports:{}},$e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT=Symbol.for("react.element"),dT=Symbol.for("react.portal"),Vy=Symbol.for("react.fragment"),Fy=Symbol.for("react.strict_mode"),By=Symbol.for("react.profiler"),Uy=Symbol.for("react.provider"),zy=Symbol.for("react.context"),koe=Symbol.for("react.server_context"),qy=Symbol.for("react.forward_ref"),Wy=Symbol.for("react.suspense"),Hy=Symbol.for("react.suspense_list"),Gy=Symbol.for("react.memo"),Ky=Symbol.for("react.lazy"),Roe=Symbol.for("react.offscreen"),RF;RF=Symbol.for("react.module.reference");function pr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case hT:switch(t=t.type,t){case Vy:case By:case Fy:case Wy:case Hy:return t;default:switch(t=t&&t.$$typeof,t){case koe:case zy:case qy:case Ky:case Gy:case Uy:return t;default:return e}}case dT:return e}}}$e.ContextConsumer=zy;$e.ContextProvider=Uy;$e.Element=hT;$e.ForwardRef=qy;$e.Fragment=Vy;$e.Lazy=Ky;$e.Memo=Gy;$e.Portal=dT;$e.Profiler=By;$e.StrictMode=Fy;$e.Suspense=Wy;$e.SuspenseList=Hy;$e.isAsyncMode=function(){return!1};$e.isConcurrentMode=function(){return!1};$e.isContextConsumer=function(t){return pr(t)===zy};$e.isContextProvider=function(t){return pr(t)===Uy};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===hT};$e.isForwardRef=function(t){return pr(t)===qy};$e.isFragment=function(t){return pr(t)===Vy};$e.isLazy=function(t){return pr(t)===Ky};$e.isMemo=function(t){return pr(t)===Gy};$e.isPortal=function(t){return pr(t)===dT};$e.isProfiler=function(t){return pr(t)===By};$e.isStrictMode=function(t){return pr(t)===Fy};$e.isSuspense=function(t){return pr(t)===Wy};$e.isSuspenseList=function(t){return pr(t)===Hy};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Vy||t===By||t===Fy||t===Wy||t===Hy||t===Roe||typeof t=="object"&&t!==null&&(t.$$typeof===Ky||t.$$typeof===Gy||t.$$typeof===Uy||t.$$typeof===zy||t.$$typeof===qy||t.$$typeof===RF||t.getModuleId!==void 0)};$e.typeOf=pr;kF.exports=$e;var Noe=kF.exports,Moe=Gi,joe=Ki,Doe="[object Number]";function $oe(t){return typeof t=="number"||joe(t)&&Moe(t)==Doe}var NF=$oe;const Loe=ze(NF);var Voe=NF;function Foe(t){return Voe(t)&&t!=+t}var Boe=Foe;const Vh=ze(Boe);var Or=function(e){return e===0?0:e>0?1:-1},Ia=function(e){return es(e)&&e.indexOf("%")===e.length-1},ee=function(e){return Loe(e)&&!Vh(e)},Uoe=function(e){return be(e)},Ot=function(e){return ee(e)||es(e)},zoe=0,Fh=function(e){var n=++zoe;return"".concat(e||"").concat(n)},ts=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(e)&&!es(e))return r;var o;if(Ia(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Vh(o)&&(o=r),i&&o>n&&(o=n),o},go=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},qoe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ar=function(e,n){return ee(e)&&ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function Nm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):sr(r,e))===n})}var Woe=function(e,n){return ee(e)&&ee(n)?e-n:es(e)&&es(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ul(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function tw(t){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tw(t)}var Hoe=["viewBox","children"],Goe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],AC=["points","pathLength"],z0={svg:Hoe,polygon:AC,polyline:AC},pT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Mm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!fu(r))return null;var i={};return Object.keys(r).forEach(function(o){pT.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Koe=function(e,n,r){return function(i){return e(n,r,i),null}},jm=function(e,n,r){if(!fu(e)||tw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];pT.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Koe(a,n,r))}),i},Xoe=["children"],Yoe=["children"];function PC(t,e){if(t==null)return{};var n=Qoe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nw(t){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nw(t)}var IC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Si=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},OC=null,q0=null,mT=function t(e){if(e===OC&&Array.isArray(q0))return q0;var n=[];return j.Children.forEach(e,function(r){be(r)||(Noe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),q0=n,OC=e,n};function lr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Si(i)}):r=[Si(e)],mT(t).forEach(function(i){var o=sr(i,"type.displayName")||sr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Ln(t,e){var n=lr(t,e);return n&&n[0]}var CC=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ee(r)||r<=0||!ee(i)||i<=0)},Joe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Zoe=function(e){return e&&e.type&&es(e.type)&&Joe.indexOf(e.type)>=0},eae=function(e){return e&&nw(e)==="object"&&"clipDot"in e},tae=function(e,n,r,i){var o,a=(o=z0==null?void 0:z0[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ye(e)&&(i&&a.includes(n)||Goe.includes(n))||r&&pT.includes(n)},Te=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!fu(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;tae((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},rw=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return kC(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!kC(o,a))return!1}return!0},kC=function(e,n){if(be(e)&&be(n))return!0;if(!be(e)&&!be(n)){var r=e.props||{},i=r.children,o=PC(r,Xoe),a=n.props||{},s=a.children,l=PC(a,Yoe);return i&&s?ul(o,l)&&rw(i,s):!i&&!s?ul(o,l):!1}return!1},RC=function(e,n){var r=[],i={};return mT(e).forEach(function(o,a){if(Zoe(o))r.push(o);else if(o){var s=Si(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},nae=function(e){var n=e&&e.type;return n&&IC[n]?IC[n]:null},rae=function(e,n){return mT(n).indexOf(e)},iae=["children","width","height","viewBox","className","style","title","desc"];function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}function oae(t,e){if(t==null)return{};var n=aae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ow(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=oae(t,iae),c=i||{width:n,height:r,x:0,y:0},f=Ie("recharts-surface",o);return D.createElement("svg",iw({},Te(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),e)}var sae=["children","className"];function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function lae(t,e){if(t==null)return{};var n=uae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mt=D.forwardRef(function(t,e){var n=t.children,r=t.className,i=lae(t,sae),o=Ie("recharts-layer",r);return D.createElement("g",aw({className:o},Te(i,!0),{ref:e}),n)}),Ai=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function cae(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var fae=cae,hae=fae;function dae(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:hae(t,e,n)}var pae=dae,mae="\\ud800-\\udfff",gae="\\u0300-\\u036f",yae="\\ufe20-\\ufe2f",vae="\\u20d0-\\u20ff",_ae=gae+yae+vae,bae="\\ufe0e\\ufe0f",wae="\\u200d",xae=RegExp("["+wae+mae+_ae+bae+"]");function Eae(t){return xae.test(t)}var MF=Eae;function Tae(t){return t.split("")}var Sae=Tae,jF="\\ud800-\\udfff",Aae="\\u0300-\\u036f",Pae="\\ufe20-\\ufe2f",Iae="\\u20d0-\\u20ff",Oae=Aae+Pae+Iae,Cae="\\ufe0e\\ufe0f",kae="["+jF+"]",sw="["+Oae+"]",lw="\\ud83c[\\udffb-\\udfff]",Rae="(?:"+sw+"|"+lw+")",DF="[^"+jF+"]",$F="(?:\\ud83c[\\udde6-\\uddff]){2}",LF="[\\ud800-\\udbff][\\udc00-\\udfff]",Nae="\\u200d",VF=Rae+"?",FF="["+Cae+"]?",Mae="(?:"+Nae+"(?:"+[DF,$F,LF].join("|")+")"+FF+VF+")*",jae=FF+VF+Mae,Dae="(?:"+[DF+sw+"?",sw,$F,LF,kae].join("|")+")",$ae=RegExp(lw+"(?="+lw+")|"+Dae+jae,"g");function Lae(t){return t.match($ae)||[]}var Vae=Lae,Fae=Sae,Bae=MF,Uae=Vae;function zae(t){return Bae(t)?Uae(t):Fae(t)}var qae=zae,Wae=pae,Hae=MF,Gae=qae,Kae=IF;function Xae(t){return function(e){e=Kae(e);var n=Hae(e)?Gae(e):void 0,r=n?n[0]:e.charAt(0),i=n?Wae(n,1).join(""):e.slice(1);return r[t]()+i}}var Yae=Xae,Qae=Yae,Jae=Qae("toUpperCase"),Zae=Jae;const Xy=ze(Zae);function We(t){return function(){return t}}const BF=Math.cos,Dm=Math.sin,$r=Math.sqrt,$m=Math.PI,Yy=2*$m,uw=Math.PI,cw=2*uw,ya=1e-6,ese=cw-ya;function UF(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function tse(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return UF;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class nse{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?UF:tse(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>ya)if(!(Math.abs(f*l-u*c)>ya)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=i-s,g=l*l+u*u,v=p*p+m*m,w=Math.sqrt(g),_=Math.sqrt(d),y=o*Math.tan((uw-Math.acos((g+d-v)/(2*w*_)))/2),I=y/_,S=y/w;Math.abs(I-1)>ya&&this._append`L${e+I*c},${n+I*f}`,this._append`A${o},${o},0,0,${+(f*p>c*m)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ya||Math.abs(this._y1-c)>ya)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%cw+cw),d>ese?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>ya&&this._append`A${r},${r},0,${+(d>=uw)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function gT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new nse(e)}function yT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zF(t){this._context=t}zF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qy(t){return new zF(t)}function qF(t){return t[0]}function WF(t){return t[1]}function HF(t,e){var n=We(!0),r=null,i=Qy,o=null,a=gT(s);t=typeof t=="function"?t:t===void 0?qF:We(t),e=typeof e=="function"?e:e===void 0?WF:We(e);function s(l){var u,c=(l=yT(l)).length,f,d=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:We(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:We(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:We(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Vd(t,e,n){var r=null,i=We(!0),o=null,a=Qy,s=null,l=gT(u);t=typeof t=="function"?t:t===void 0?qF:We(+t),e=typeof e=="function"?e:We(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?WF:We(+n);function u(f){var d,p,m,g=(f=yT(f)).length,v,w=!1,_,y=new Array(g),I=new Array(g);for(o==null&&(s=a(_=l())),d=0;d<=g;++d){if(!(d<g&&i(v=f[d],d,f))===w)if(w=!w)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=p;--m)s.point(y[m],I[m]);s.lineEnd(),s.areaEnd()}w&&(y[d]=+t(v,d,f),I[d]=+e(v,d,f),s.point(r?+r(v,d,f):y[d],n?+n(v,d,f):I[d]))}if(_)return s=null,_+""||null}function c(){return HF().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:We(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:We(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:We(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:We(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:We(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:We(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:We(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class GF{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function rse(t){return new GF(t,!0)}function ise(t){return new GF(t,!1)}const vT={draw(t,e){const n=$r(e/$m);t.moveTo(n,0),t.arc(0,0,n,0,Yy)}},ose={draw(t,e){const n=$r(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},KF=$r(1/3),ase=KF*2,sse={draw(t,e){const n=$r(e/ase),r=n*KF;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},lse={draw(t,e){const n=$r(e),r=-n/2;t.rect(r,r,n,n)}},use=.8908130915292852,XF=Dm($m/10)/Dm(7*$m/10),cse=Dm(Yy/10)*XF,fse=-BF(Yy/10)*XF,hse={draw(t,e){const n=$r(e*use),r=cse*n,i=fse*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Yy*o/5,s=BF(a),l=Dm(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},W0=$r(3),dse={draw(t,e){const n=-$r(e/(W0*3));t.moveTo(0,n*2),t.lineTo(-W0*n,-n),t.lineTo(W0*n,-n),t.closePath()}},Jn=-.5,Zn=$r(3)/2,fw=1/$r(12),pse=(fw/2+1)*3,mse={draw(t,e){const n=$r(e/pse),r=n/2,i=n*fw,o=r,a=n*fw+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Jn*r-Zn*i,Zn*r+Jn*i),t.lineTo(Jn*o-Zn*a,Zn*o+Jn*a),t.lineTo(Jn*s-Zn*l,Zn*s+Jn*l),t.lineTo(Jn*r+Zn*i,Jn*i-Zn*r),t.lineTo(Jn*o+Zn*a,Jn*a-Zn*o),t.lineTo(Jn*s+Zn*l,Jn*l-Zn*s),t.closePath()}};function gse(t,e){let n=null,r=gT(i);t=typeof t=="function"?t:We(t||vT),e=typeof e=="function"?e:We(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:We(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:We(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Lm(){}function Vm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function YF(t){this._context=t}YF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yse(t){return new YF(t)}function QF(t){this._context=t}QF.prototype={areaStart:Lm,areaEnd:Lm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vse(t){return new QF(t)}function JF(t){this._context=t}JF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _se(t){return new JF(t)}function ZF(t){this._context=t}ZF.prototype={areaStart:Lm,areaEnd:Lm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function bse(t){return new ZF(t)}function NC(t){return t<0?-1:1}function MC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(NC(o)+NC(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function jC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function H0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Fm(t){this._context=t}Fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:H0(this,this._t0,jC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,H0(this,jC(this,n=MC(this,t,e)),n);break;default:H0(this,this._t0,n=MC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function eB(t){this._context=new tB(t)}(eB.prototype=Object.create(Fm.prototype)).point=function(t,e){Fm.prototype.point.call(this,e,t)};function tB(t){this._context=t}tB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function wse(t){return new Fm(t)}function xse(t){return new eB(t)}function nB(t){this._context=t}nB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=DC(t),i=DC(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function DC(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Ese(t){return new nB(t)}function Jy(t,e){this._context=t,this._t=e}Jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Tse(t){return new Jy(t,.5)}function Sse(t){return new Jy(t,0)}function Ase(t){return new Jy(t,1)}function Il(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function hw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Pse(t,e){return t[e]}function Ise(t){const e=[];return e.key=t,e}function Ose(){var t=We([]),e=hw,n=Il,r=Pse;function i(o){var a=Array.from(t.apply(this,arguments),Ise),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=yT(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:We(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:We(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?hw:typeof o=="function"?o:We(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Il,i):n},i}function Cse(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Il(t,e)}}function kse(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Il(t,e)}}function Rse(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,m=0;m<s;++m){var g=t[e[m]],v=g[r][1]||0,w=g[r-1][1]||0;p+=v-w}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Il(t,e)}}function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}var Nse=["type","size","sizeType"];function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(this,arguments)}function $C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(n),!0).forEach(function(r){Mse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mse(t,e,n){return e=jse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jse(t){var e=Dse(t,"string");return Pf(e)=="symbol"?e:e+""}function Dse(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $se(t,e){if(t==null)return{};var n=Lse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rB={symbolCircle:vT,symbolCross:ose,symbolDiamond:sse,symbolSquare:lse,symbolStar:hse,symbolTriangle:dse,symbolWye:mse},Vse=Math.PI/180,Fse=function(e){var n="symbol".concat(Xy(e));return rB[n]||vT},Bse=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Vse;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Use=function(e,n){rB["symbol".concat(Xy(e))]=n},_T=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=$se(e,Nse),u=LC(LC({},l),{},{type:r,size:o,sizeType:s}),c=function(){var v=Fse(r),w=gse().type(v).size(Bse(o,s,r));return w()},f=u.className,d=u.cx,p=u.cy,m=Te(u,!0);return d===+d&&p===+p&&o===+o?D.createElement("path",dw({},m,{className:Ie("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};_T.registerSymbol=Use;function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pw.apply(this,arguments)}function VC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(n),!0).forEach(function(r){If(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oB(r.key),r)}}function Hse(t,e,n){return e&&Wse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gse(t,e,n){return e=Bm(e),Kse(t,iB()?Reflect.construct(e,n||[],Bm(t).constructor):e.apply(t,n))}function Kse(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xse(t)}function Xse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iB=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bm(t)}function Yse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mw(t,e)}function mw(t,e){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mw(t,e)}function If(t,e,n){return e=oB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oB(t){var e=Qse(t,"string");return Ol(e)=="symbol"?e:e+""}function Qse(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var er=32,bT=function(t){function e(){return qse(this,e),Gse(this,e,arguments)}return Yse(e,t),Hse(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=er/2,a=er/6,s=er/3,l=r.inactive?i:r.color;if(r.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:er,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(er,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(er/8,"h").concat(er,"v").concat(er*3/4,"h").concat(-er,"z"),className:"recharts-legend-icon"});if(D.isValidElement(r.legendIcon)){var u=zse({},r);return delete u.legendIcon,D.cloneElement(r.legendIcon,u)}return D.createElement(_T,{fill:l,cx:o,cy:o,size:er,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:er,height:er},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var g=p.formatter||l,v=Ie(If(If({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=ye(p.value)?null:p.value;Ai(!ye(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?u:p.color;return D.createElement("li",pw({className:v,style:f,key:"legend-item-".concat(m)},jm(r.props,p,m)),D.createElement(ow,{width:a,height:a,viewBox:c,style:d},r.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},g?g(w,p,m):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(j.PureComponent);If(bT,"displayName","Legend");If(bT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Jse=Dy;function Zse(){this.__data__=new Jse,this.size=0}var ele=Zse;function tle(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var nle=tle;function rle(t){return this.__data__.get(t)}var ile=rle;function ole(t){return this.__data__.has(t)}var ale=ole,sle=Dy,lle=sT,ule=lT,cle=200;function fle(t,e){var n=this.__data__;if(n instanceof sle){var r=n.__data__;if(!lle||r.length<cle-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ule(r)}return n.set(t,e),this.size=n.size,this}var hle=fle,dle=Dy,ple=ele,mle=nle,gle=ile,yle=ale,vle=hle;function mu(t){var e=this.__data__=new dle(t);this.size=e.size}mu.prototype.clear=ple;mu.prototype.delete=mle;mu.prototype.get=gle;mu.prototype.has=yle;mu.prototype.set=vle;var aB=mu,_le="__lodash_hash_undefined__";function ble(t){return this.__data__.set(t,_le),this}var wle=ble;function xle(t){return this.__data__.has(t)}var Ele=xle,Tle=lT,Sle=wle,Ale=Ele;function Um(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Tle;++e<n;)this.add(t[e])}Um.prototype.add=Um.prototype.push=Sle;Um.prototype.has=Ale;var sB=Um;function Ple(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var lB=Ple;function Ile(t,e){return t.has(e)}var uB=Ile,Ole=sB,Cle=lB,kle=uB,Rle=1,Nle=2;function Mle(t,e,n,r,i,o){var a=n&Rle,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&Nle?new Ole:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var m=t[f],g=e[f];if(r)var v=a?r(g,m,f,e,t,o):r(m,g,f,t,e,o);if(v!==void 0){if(v)continue;d=!1;break}if(p){if(!Cle(e,function(w,_){if(!kle(p,_)&&(m===w||i(m,w,n,r,o)))return p.push(_)})){d=!1;break}}else if(!(m===g||i(m,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var cB=Mle,jle=ni,Dle=jle.Uint8Array,$le=Dle;function Lle(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Vle=Lle;function Fle(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var wT=Fle,FC=Lh,BC=$le,Ble=aT,Ule=cB,zle=Vle,qle=wT,Wle=1,Hle=2,Gle="[object Boolean]",Kle="[object Date]",Xle="[object Error]",Yle="[object Map]",Qle="[object Number]",Jle="[object RegExp]",Zle="[object Set]",eue="[object String]",tue="[object Symbol]",nue="[object ArrayBuffer]",rue="[object DataView]",UC=FC?FC.prototype:void 0,G0=UC?UC.valueOf:void 0;function iue(t,e,n,r,i,o,a){switch(n){case rue:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case nue:return!(t.byteLength!=e.byteLength||!o(new BC(t),new BC(e)));case Gle:case Kle:case Qle:return Ble(+t,+e);case Xle:return t.name==e.name&&t.message==e.message;case Jle:case eue:return t==e+"";case Yle:var s=zle;case Zle:var l=r&Wle;if(s||(s=qle),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=Hle,a.set(t,e);var c=Ule(s(t),s(e),r,i,o,a);return a.delete(t),c;case tue:if(G0)return G0.call(t)==G0.call(e)}return!1}var oue=iue;function aue(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var fB=aue,sue=fB,lue=Nn;function uue(t,e,n){var r=e(t);return lue(t)?r:sue(r,n(t))}var cue=uue;function fue(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var hue=fue;function due(){return[]}var pue=due,mue=hue,gue=pue,yue=Object.prototype,vue=yue.propertyIsEnumerable,zC=Object.getOwnPropertySymbols,_ue=zC?function(t){return t==null?[]:(t=Object(t),mue(zC(t),function(e){return vue.call(t,e)}))}:gue,bue=_ue;function wue(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var xue=wue,Eue=Gi,Tue=Ki,Sue="[object Arguments]";function Aue(t){return Tue(t)&&Eue(t)==Sue}var Pue=Aue,qC=Pue,Iue=Ki,hB=Object.prototype,Oue=hB.hasOwnProperty,Cue=hB.propertyIsEnumerable,kue=qC(function(){return arguments}())?qC:function(t){return Iue(t)&&Oue.call(t,"callee")&&!Cue.call(t,"callee")},xT=kue,zm={exports:{}};function Rue(){return!1}var Nue=Rue;zm.exports;(function(t,e){var n=ni,r=Nue,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(zm,zm.exports);var dB=zm.exports,Mue=9007199254740991,jue=/^(?:0|[1-9]\d*)$/;function Due(t,e){var n=typeof t;return e=e??Mue,!!e&&(n=="number"||n!="symbol"&&jue.test(t))&&t>-1&&t%1==0&&t<e}var ET=Due,$ue=9007199254740991;function Lue(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=$ue}var TT=Lue,Vue=Gi,Fue=TT,Bue=Ki,Uue="[object Arguments]",zue="[object Array]",que="[object Boolean]",Wue="[object Date]",Hue="[object Error]",Gue="[object Function]",Kue="[object Map]",Xue="[object Number]",Yue="[object Object]",Que="[object RegExp]",Jue="[object Set]",Zue="[object String]",ece="[object WeakMap]",tce="[object ArrayBuffer]",nce="[object DataView]",rce="[object Float32Array]",ice="[object Float64Array]",oce="[object Int8Array]",ace="[object Int16Array]",sce="[object Int32Array]",lce="[object Uint8Array]",uce="[object Uint8ClampedArray]",cce="[object Uint16Array]",fce="[object Uint32Array]",Ye={};Ye[rce]=Ye[ice]=Ye[oce]=Ye[ace]=Ye[sce]=Ye[lce]=Ye[uce]=Ye[cce]=Ye[fce]=!0;Ye[Uue]=Ye[zue]=Ye[tce]=Ye[que]=Ye[nce]=Ye[Wue]=Ye[Hue]=Ye[Gue]=Ye[Kue]=Ye[Xue]=Ye[Yue]=Ye[Que]=Ye[Jue]=Ye[Zue]=Ye[ece]=!1;function hce(t){return Bue(t)&&Fue(t.length)&&!!Ye[Vue(t)]}var dce=hce;function pce(t){return function(e){return t(e)}}var pB=pce,qm={exports:{}};qm.exports;(function(t,e){var n=xF,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(qm,qm.exports);var mce=qm.exports,gce=dce,yce=pB,WC=mce,HC=WC&&WC.isTypedArray,vce=HC?yce(HC):gce,mB=vce,_ce=xue,bce=xT,wce=Nn,xce=dB,Ece=ET,Tce=mB,Sce=Object.prototype,Ace=Sce.hasOwnProperty;function Pce(t,e){var n=wce(t),r=!n&&bce(t),i=!n&&!r&&xce(t),o=!n&&!r&&!i&&Tce(t),a=n||r||i||o,s=a?_ce(t.length,String):[],l=s.length;for(var u in t)(e||Ace.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ece(u,l)))&&s.push(u);return s}var Ice=Pce,Oce=Object.prototype;function Cce(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Oce;return t===n}var kce=Cce;function Rce(t,e){return function(n){return t(e(n))}}var gB=Rce,Nce=gB,Mce=Nce(Object.keys,Object),jce=Mce,Dce=kce,$ce=jce,Lce=Object.prototype,Vce=Lce.hasOwnProperty;function Fce(t){if(!Dce(t))return $ce(t);var e=[];for(var n in Object(t))Vce.call(t,n)&&n!="constructor"&&e.push(n);return e}var Bce=Fce,Uce=oT,zce=TT;function qce(t){return t!=null&&zce(t.length)&&!Uce(t)}var Bh=qce,Wce=Ice,Hce=Bce,Gce=Bh;function Kce(t){return Gce(t)?Wce(t):Hce(t)}var Zy=Kce,Xce=cue,Yce=bue,Qce=Zy;function Jce(t){return Xce(t,Qce,Yce)}var Zce=Jce,GC=Zce,efe=1,tfe=Object.prototype,nfe=tfe.hasOwnProperty;function rfe(t,e,n,r,i,o){var a=n&efe,s=GC(t),l=s.length,u=GC(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:nfe.call(e,d)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=a;++f<l;){d=s[f];var w=t[d],_=e[d];if(r)var y=a?r(_,w,d,e,t,o):r(w,_,d,t,e,o);if(!(y===void 0?w===_||i(w,_,n,r,o):y)){g=!1;break}v||(v=d=="constructor")}if(g&&!v){var I=t.constructor,S=e.constructor;I!=S&&"constructor"in t&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(t),o.delete(e),g}var ife=rfe,ofe=hs,afe=ni,sfe=ofe(afe,"DataView"),lfe=sfe,ufe=hs,cfe=ni,ffe=ufe(cfe,"Promise"),hfe=ffe,dfe=hs,pfe=ni,mfe=dfe(pfe,"Set"),yB=mfe,gfe=hs,yfe=ni,vfe=gfe(yfe,"WeakMap"),_fe=vfe,gw=lfe,yw=sT,vw=hfe,_w=yB,bw=_fe,vB=Gi,gu=TF,KC="[object Map]",bfe="[object Object]",XC="[object Promise]",YC="[object Set]",QC="[object WeakMap]",JC="[object DataView]",wfe=gu(gw),xfe=gu(yw),Efe=gu(vw),Tfe=gu(_w),Sfe=gu(bw),va=vB;(gw&&va(new gw(new ArrayBuffer(1)))!=JC||yw&&va(new yw)!=KC||vw&&va(vw.resolve())!=XC||_w&&va(new _w)!=YC||bw&&va(new bw)!=QC)&&(va=function(t){var e=vB(t),n=e==bfe?t.constructor:void 0,r=n?gu(n):"";if(r)switch(r){case wfe:return JC;case xfe:return KC;case Efe:return XC;case Tfe:return YC;case Sfe:return QC}return e});var Afe=va,K0=aB,Pfe=cB,Ife=oue,Ofe=ife,ZC=Afe,ek=Nn,tk=dB,Cfe=mB,kfe=1,nk="[object Arguments]",rk="[object Array]",Fd="[object Object]",Rfe=Object.prototype,ik=Rfe.hasOwnProperty;function Nfe(t,e,n,r,i,o){var a=ek(t),s=ek(e),l=a?rk:ZC(t),u=s?rk:ZC(e);l=l==nk?Fd:l,u=u==nk?Fd:u;var c=l==Fd,f=u==Fd,d=l==u;if(d&&tk(t)){if(!tk(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new K0),a||Cfe(t)?Pfe(t,e,n,r,i,o):Ife(t,e,l,n,r,i,o);if(!(n&kfe)){var p=c&&ik.call(t,"__wrapped__"),m=f&&ik.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return o||(o=new K0),i(g,v,n,r,o)}}return d?(o||(o=new K0),Ofe(t,e,n,r,i,o)):!1}var Mfe=Nfe,jfe=Mfe,ok=Ki;function _B(t,e,n,r,i){return t===e?!0:t==null||e==null||!ok(t)&&!ok(e)?t!==t&&e!==e:jfe(t,e,n,r,_B,i)}var ST=_B,Dfe=aB,$fe=ST,Lfe=1,Vfe=2;function Ffe(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Dfe;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?$fe(c,u,Lfe|Vfe,r,f):d))return!1}}return!0}var Bfe=Ffe,Ufe=Zo;function zfe(t){return t===t&&!Ufe(t)}var bB=zfe,qfe=bB,Wfe=Zy;function Hfe(t){for(var e=Wfe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,qfe(i)]}return e}var Gfe=Hfe;function Kfe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var wB=Kfe,Xfe=Bfe,Yfe=Gfe,Qfe=wB;function Jfe(t){var e=Yfe(t);return e.length==1&&e[0][2]?Qfe(e[0][0],e[0][1]):function(n){return n===t||Xfe(n,t,e)}}var Zfe=Jfe;function ehe(t,e){return t!=null&&e in Object(t)}var the=ehe,nhe=OF,rhe=xT,ihe=Nn,ohe=ET,ahe=TT,she=Ly;function lhe(t,e,n){e=nhe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=she(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&ahe(i)&&ohe(a,i)&&(ihe(t)||rhe(t)))}var uhe=lhe,che=the,fhe=uhe;function hhe(t,e){return t!=null&&fhe(t,e,che)}var dhe=hhe,phe=ST,mhe=CF,ghe=dhe,yhe=iT,vhe=bB,_he=wB,bhe=Ly,whe=1,xhe=2;function Ehe(t,e){return yhe(t)&&vhe(e)?_he(bhe(t),e):function(n){var r=mhe(n,t);return r===void 0&&r===e?ghe(n,t):phe(e,r,whe|xhe)}}var The=Ehe;function She(t){return t}var yu=She;function Ahe(t){return function(e){return e==null?void 0:e[t]}}var Phe=Ahe,Ihe=fT;function Ohe(t){return function(e){return Ihe(e,t)}}var Che=Ohe,khe=Phe,Rhe=Che,Nhe=iT,Mhe=Ly;function jhe(t){return Nhe(t)?khe(Mhe(t)):Rhe(t)}var Dhe=jhe,$he=Zfe,Lhe=The,Vhe=yu,Fhe=Nn,Bhe=Dhe;function Uhe(t){return typeof t=="function"?t:t==null?Vhe:typeof t=="object"?Fhe(t)?Lhe(t[0],t[1]):$he(t):Bhe(t)}var ea=Uhe;function zhe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var xB=zhe;function qhe(t){return t!==t}var Whe=qhe;function Hhe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Ghe=Hhe,Khe=xB,Xhe=Whe,Yhe=Ghe;function Qhe(t,e,n){return e===e?Yhe(t,e,n):Khe(t,Xhe,n)}var Jhe=Qhe,Zhe=Jhe;function ede(t,e){var n=t==null?0:t.length;return!!n&&Zhe(t,e,0)>-1}var tde=ede;function nde(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var rde=nde;function ide(){}var ode=ide,X0=yB,ade=ode,sde=wT,lde=1/0,ude=X0&&1/sde(new X0([,-0]))[1]==lde?function(t){return new X0(t)}:ade,cde=ude,fde=sB,hde=tde,dde=rde,pde=uB,mde=cde,gde=wT,yde=200;function vde(t,e,n){var r=-1,i=hde,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=dde;else if(o>=yde){var u=e?null:mde(t);if(u)return gde(u);a=!1,i=pde,l=new fde}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var _de=vde,bde=ea,wde=_de;function xde(t,e){return t&&t.length?wde(t,bde(e)):[]}var Ede=xde;const ak=ze(Ede);function EB(t,e,n){return e===!0?ak(t,n):ye(e)?ak(t,e):t}function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}var Tde=["ref"];function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){ev(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SB(r.key),r)}}function Ade(t,e,n){return e&&lk(t.prototype,e),n&&lk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pde(t,e,n){return e=Wm(e),Ide(t,TB()?Reflect.construct(e,n||[],Wm(t).constructor):e.apply(t,n))}function Ide(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ode(t)}function Ode(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TB=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(t)}function Cde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ww(t,e)}function ww(t,e){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ww(t,e)}function ev(t,e,n){return e=SB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SB(t){var e=kde(t,"string");return Cl(e)=="symbol"?e:e+""}function kde(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rde(t,e){if(t==null)return{};var n=Nde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mde(t){return t.value}function jde(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var n=Rde(e,Tde);return D.createElement(bT,n)}var uk=1,cl=function(t){function e(){var n;Sde(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Pde(this,e,[].concat(i)),ev(n,"lastBoundingBox",{width:-1,height:-1}),n}return Cde(e,t),Ade(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>uk||Math.abs(i.height-this.lastBoundingBox.height)>uk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?li({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();d={top:((c||0)-m.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return li(li({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=li(li({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},jde(o,li(li({},this.props),{},{payload:EB(c,u,Mde)})))}}],[{key:"getWithHeight",value:function(r,i){var o=li(li({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ee(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(j.PureComponent);ev(cl,"displayName","Legend");ev(cl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ck=Lh,Dde=xT,$de=Nn,fk=ck?ck.isConcatSpreadable:void 0;function Lde(t){return $de(t)||Dde(t)||!!(fk&&t&&t[fk])}var Vde=Lde,Fde=fB,Bde=Vde;function AB(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Bde),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?AB(s,e-1,n,r,i):Fde(i,s):r||(i[i.length]=s)}return i}var PB=AB;function Ude(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var zde=Ude,qde=zde,Wde=qde(),Hde=Wde,Gde=Hde,Kde=Zy;function Xde(t,e){return t&&Gde(t,e,Kde)}var IB=Xde,Yde=Bh;function Qde(t,e){return function(n,r){if(n==null)return n;if(!Yde(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var Jde=Qde,Zde=IB,epe=Jde,tpe=epe(Zde),AT=tpe,npe=AT,rpe=Bh;function ipe(t,e){var n=-1,r=rpe(t)?Array(t.length):[];return npe(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var OB=ipe;function ope(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ape=ope,hk=cu;function spe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=hk(t),a=e!==void 0,s=e===null,l=e===e,u=hk(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var lpe=spe,upe=lpe;function cpe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=upe(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var fpe=cpe,Y0=cT,hpe=fT,dpe=ea,ppe=OB,mpe=ape,gpe=pB,ype=fpe,vpe=yu,_pe=Nn;function bpe(t,e,n){e.length?e=Y0(e,function(o){return _pe(o)?function(a){return hpe(a,o.length===1?o[0]:o)}:o}):e=[vpe];var r=-1;e=Y0(e,gpe(dpe));var i=ppe(t,function(o,a,s){var l=Y0(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return mpe(i,function(o,a){return ype(o,a,n)})}var wpe=bpe;function xpe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Epe=xpe,Tpe=Epe,dk=Math.max;function Spe(t,e,n){return e=dk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=dk(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Tpe(t,this,s)}}var Ape=Spe;function Ppe(t){return function(){return t}}var Ipe=Ppe,Ope=hs,Cpe=function(){try{var t=Ope(Object,"defineProperty");return t({},"",{}),t}catch{}}(),CB=Cpe,kpe=Ipe,pk=CB,Rpe=yu,Npe=pk?function(t,e){return pk(t,"toString",{configurable:!0,enumerable:!1,value:kpe(e),writable:!0})}:Rpe,Mpe=Npe,jpe=800,Dpe=16,$pe=Date.now;function Lpe(t){var e=0,n=0;return function(){var r=$pe(),i=Dpe-(r-n);if(n=r,i>0){if(++e>=jpe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Vpe=Lpe,Fpe=Mpe,Bpe=Vpe,Upe=Bpe(Fpe),zpe=Upe,qpe=yu,Wpe=Ape,Hpe=zpe;function Gpe(t,e){return Hpe(Wpe(t,e,qpe),t+"")}var Kpe=Gpe,Xpe=aT,Ype=Bh,Qpe=ET,Jpe=Zo;function Zpe(t,e,n){if(!Jpe(n))return!1;var r=typeof e;return(r=="number"?Ype(n)&&Qpe(e,n.length):r=="string"&&e in n)?Xpe(n[e],t):!1}var tv=Zpe,eme=PB,tme=wpe,nme=Kpe,mk=tv,rme=nme(function(t,e){if(t==null)return[];var n=e.length;return n>1&&mk(t,e[0],e[1])?e=[]:n>2&&mk(e[0],e[1],e[2])&&(e=[e[0]]),tme(t,eme(e,1),[])}),ime=rme;const PT=ze(ime);function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xw.apply(this,arguments)}function ome(t,e){return ume(t)||lme(t,e)||sme(t,e)||ame()}function ame(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sme(t,e){if(t){if(typeof t=="string")return gk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gk(t,e)}}function gk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ume(t){if(Array.isArray(t))return t}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){cme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cme(t,e,n){return e=fme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fme(t){var e=hme(t,"string");return Of(e)=="symbol"?e:e+""}function hme(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dme(t){return Array.isArray(t)&&Ot(t[0])&&Ot(t[1])?t.join(" ~ "):t}var pme=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,w=e.accessibilityLayer,_=w===void 0?!1:w,y=function(){if(c&&c.length){var N={padding:0,margin:0},R=(d?PT(c,d):c).map(function(B,V){if(B.type==="none")return null;var F=Q0({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},s),q=B.formatter||f||dme,L=B.value,z=B.name,G=L,Q=z;if(q&&G!=null&&Q!=null){var K=q(L,z,B,V,c);if(Array.isArray(K)){var re=ome(K,2);G=re[0],Q=re[1]}else G=K}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:F},Ot(Q)?D.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Ot(Q)?D.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,D.createElement("span",{className:"recharts-tooltip-item-value"},G),D.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:N},R)}return null},I=Q0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Q0({margin:0},u),P=!be(g),T=P?g:"",x=Ie("recharts-default-tooltip",p),O=Ie("recharts-tooltip-label",m);P&&v&&c!==void 0&&c!==null&&(T=v(g,c));var C=_?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",xw({className:x,style:I},C),D.createElement("p",{className:O,style:S},D.isValidElement(T)?T:"".concat(T)),y())};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Bd(t,e,n){return e=mme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mme(t){var e=gme(t,"string");return Cf(e)=="symbol"?e:e+""}function gme(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xu="recharts-tooltip-wrapper",yme={visibility:"hidden"};function vme(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ie(Xu,Bd(Bd(Bd(Bd({},"".concat(Xu,"-right"),ee(n)&&e&&ee(e.x)&&n>=e.x),"".concat(Xu,"-left"),ee(n)&&e&&ee(e.x)&&n<e.x),"".concat(Xu,"-bottom"),ee(r)&&e&&ee(e.y)&&r>=e.y),"".concat(Xu,"-top"),ee(r)&&e&&ee(e.y)&&r<e.y))}function vk(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ee(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var d=c,p=l[r];return d<p?Math.max(f,l[r]):Math.max(c,l[r])}var m=f+s,g=l[r]+u;return m>g?Math.max(c,l[r]):Math.max(f,l[r])}function _me(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function bme(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=vk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=vk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=_me({translateX:c,translateY:f,useTranslate3d:s})):u=yme,{cssProperties:u,cssClasses:vme({translateX:c,translateY:f,coordinate:n})}}function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function _k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(n),!0).forEach(function(r){Tw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RB(r.key),r)}}function Eme(t,e,n){return e&&xme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tme(t,e,n){return e=Hm(e),Sme(t,kB()?Reflect.construct(e,n||[],Hm(t).constructor):e.apply(t,n))}function Sme(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ame(t)}function Ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kB=function(){return!!t})()}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hm(t)}function Pme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ew(t,e)}function Ew(t,e){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ew(t,e)}function Tw(t,e,n){return e=RB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RB(t){var e=Ime(t,"string");return kl(e)=="symbol"?e:e+""}function Ime(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wk=1,Ome=function(t){function e(){var n;wme(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Tme(this,e,[].concat(i)),Tw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Tw(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Pme(e,t),Eme(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>wk||Math.abs(r.height-this.state.lastBoundingBox.height)>wk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,y=bme({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:w}),I=y.cssClasses,S=y.cssProperties,P=bk(bk({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return D.createElement("div",{tabIndex:-1,className:I,style:P,ref:function(x){r.wrapperNode=x}},u)}}])}(j.PureComponent),Cme=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},vu={isSsr:Cme()};function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){IT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MB(r.key),r)}}function Nme(t,e,n){return e&&Rme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mme(t,e,n){return e=Gm(e),jme(t,NB()?Reflect.construct(e,n||[],Gm(t).constructor):e.apply(t,n))}function jme(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dme(t)}function Dme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NB=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gm(t)}function $me(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sw(t,e)}function Sw(t,e){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sw(t,e)}function IT(t,e,n){return e=MB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MB(t){var e=Lme(t,"string");return Rl(e)=="symbol"?e:e+""}function Lme(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Vme(t){return t.dataKey}function Fme(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(pme,e)}var xr=function(t){function e(){return kme(this,e),Mme(this,e,arguments)}return $me(e,t),Nme(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,w=i.reverseDirection,_=i.useTranslate3d,y=i.viewBox,I=i.wrapperStyle,S=m??[];f&&S.length&&(S=EB(m.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),g,Vme));var P=S.length>0;return D.createElement(Ome,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:P,offset:p,position:v,reverseDirection:w,useTranslate3d:_,viewBox:y,wrapperStyle:I},Fme(u,Ek(Ek({},this.props),{},{payload:S})))}}])}(j.PureComponent);IT(xr,"displayName","Tooltip");IT(xr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!vu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Bme=ni,Ume=function(){return Bme.Date.now()},zme=Ume,qme=/\s/;function Wme(t){for(var e=t.length;e--&&qme.test(t.charAt(e)););return e}var Hme=Wme,Gme=Hme,Kme=/^\s+/;function Xme(t){return t&&t.slice(0,Gme(t)+1).replace(Kme,"")}var Yme=Xme,Qme=Yme,Tk=Zo,Jme=cu,Sk=NaN,Zme=/^[-+]0x[0-9a-f]+$/i,ege=/^0b[01]+$/i,tge=/^0o[0-7]+$/i,nge=parseInt;function rge(t){if(typeof t=="number")return t;if(Jme(t))return Sk;if(Tk(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Tk(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Qme(t);var n=ege.test(t);return n||tge.test(t)?nge(t.slice(2),n?2:8):Zme.test(t)?Sk:+t}var jB=rge,ige=Zo,J0=zme,Ak=jB,oge="Expected a function",age=Math.max,sge=Math.min;function lge(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(oge);e=Ak(e)||0,ige(n)&&(c=!!n.leading,f="maxWait"in n,o=f?age(Ak(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(P){var T=r,x=i;return r=i=void 0,u=P,a=t.apply(x,T),a}function m(P){return u=P,s=setTimeout(w,e),c?p(P):a}function g(P){var T=P-l,x=P-u,O=e-T;return f?sge(O,o-x):O}function v(P){var T=P-l,x=P-u;return l===void 0||T>=e||T<0||f&&x>=o}function w(){var P=J0();if(v(P))return _(P);s=setTimeout(w,g(P))}function _(P){return s=void 0,d&&r?p(P):(r=i=void 0,a)}function y(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function I(){return s===void 0?a:_(J0())}function S(){var P=J0(),T=v(P);if(r=arguments,i=this,l=P,T){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(w,e),p(l)}return s===void 0&&(s=setTimeout(w,e)),a}return S.cancel=y,S.flush=I,S}var uge=lge,cge=uge,fge=Zo,hge="Expected a function";function dge(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(hge);return fge(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),cge(t,e,{leading:r,maxWait:e,trailing:i})}var pge=dge;const DB=ze(pge);function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){mge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mge(t,e,n){return e=gge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gge(t){var e=yge(t,"string");return kf(e)=="symbol"?e:e+""}function yge(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vge(t,e){return xge(t)||wge(t,e)||bge(t,e)||_ge()}function _ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bge(t,e){if(t){if(typeof t=="string")return Ik(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ik(t,e)}}function Ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function xge(t){if(Array.isArray(t))return t}var Ok=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,w=t.className,_=t.onResize,y=t.style,I=y===void 0?{}:y,S=j.useRef(null),P=j.useRef();P.current=_,j.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var T=j.useState({containerWidth:i.width,containerHeight:i.height}),x=vge(T,2),O=x[0],C=x[1],k=j.useCallback(function(R,B){C(function(V){var F=Math.round(R),q=Math.round(B);return V.containerWidth===F&&V.containerHeight===q?V:{containerWidth:F,containerHeight:q}})},[]);j.useEffect(function(){var R=function(z){var G,Q=z[0].contentRect,K=Q.width,re=Q.height;k(K,re),(G=P.current)===null||G===void 0||G.call(P,K,re)};g>0&&(R=DB(R,g,{trailing:!0,leading:!1}));var B=new ResizeObserver(R),V=S.current.getBoundingClientRect(),F=V.width,q=V.height;return k(F,q),B.observe(S.current),function(){B.disconnect()}},[k,g]);var N=j.useMemo(function(){var R=O.containerWidth,B=O.containerHeight;if(R<0||B<0)return null;Ai(Ia(a)||Ia(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Ai(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=Ia(a)?R:a,F=Ia(l)?B:l;n&&n>0&&(V?F=V/n:F&&(V=F*n),d&&F>d&&(F=d)),Ai(V>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,F,a,l,c,f,n);var q=!Array.isArray(p)&&Si(p.type).endsWith("Chart");return D.Children.map(p,function(L){return D.isValidElement(L)?j.cloneElement(L,Ud({width:V,height:F},q?{style:Ud({height:"100%",width:"100%",maxHeight:F,maxWidth:V},L.props.style)}:{})):L})},[n,p,l,d,f,c,O,a]);return D.createElement("div",{id:v?"".concat(v):void 0,className:Ie("recharts-responsive-container",w),style:Ud(Ud({},I),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:S},N)}),$B=function(e){return null};$B.displayName="Cell";function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){Ege(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ege(t,e,n){return e=Tge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tge(t){var e=Sge(t,"string");return Rf(e)=="symbol"?e:e+""}function Sge(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Es={widthCache:{},cacheCount:0},Age=2e3,Pge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kk="recharts_measurement_span";function Ige(t){var e=Aw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Lc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||vu.isSsr)return{width:0,height:0};var r=Ige(n),i=JSON.stringify({text:e,copyStyle:r});if(Es.widthCache[i])return Es.widthCache[i];try{var o=document.getElementById(kk);o||(o=document.createElement("span"),o.setAttribute("id",kk),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Aw(Aw({},Pge),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Es.widthCache[i]=l,++Es.cacheCount>Age&&(Es.cacheCount=0,Es.widthCache={}),l}catch{return{width:0,height:0}}},Oge=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function Km(t,e){return Nge(t)||Rge(t,e)||kge(t,e)||Cge()}function Cge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kge(t,e){if(t){if(typeof t=="string")return Rk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rk(t,e)}}function Rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Nge(t){if(Array.isArray(t))return t}function Mge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dge(r.key),r)}}function jge(t,e,n){return e&&Nk(t.prototype,e),n&&Nk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dge(t){var e=$ge(t,"string");return Nf(e)=="symbol"?e:e+""}function $ge(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Fge=Object.keys(LB),Xs="NaN";function Bge(t,e){return t*LB[e]}var zd=function(){function t(e,n){Mge(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Lge.test(n)&&(this.num=NaN,this.unit=""),Fge.includes(n)&&(this.num=Bge(e,n),this.unit="px")}return jge(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Vge.exec(n))!==null&&r!==void 0?r:[],o=Km(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function VB(t){if(t.includes(Xs))return Xs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Mk.exec(e))!==null&&n!==void 0?n:[],i=Km(r,4),o=i[1],a=i[2],s=i[3],l=zd.parse(o??""),u=zd.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Xs;e=e.replace(Mk,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=jk.exec(e))!==null&&f!==void 0?f:[],p=Km(d,4),m=p[1],g=p[2],v=p[3],w=zd.parse(m??""),_=zd.parse(v??""),y=g==="+"?w.add(_):w.subtract(_);if(y.isNaN())return Xs;e=e.replace(jk,y.toString())}return e}var Dk=/\(([^()]*)\)/;function Uge(t){for(var e=t;e.includes("(");){var n=Dk.exec(e),r=Km(n,2),i=r[1];e=e.replace(Dk,VB(i))}return e}function zge(t){var e=t.replace(/\s+/g,"");return e=Uge(e),e=VB(e),e}function qge(t){try{return zge(t)}catch{return Xs}}function Z0(t){var e=qge(t.slice(5,-1));return e===Xs?"":e}var Wge=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hge=["dx","dy","angle","className","breakAll"];function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(this,arguments)}function $k(t,e){if(t==null)return{};var n=Gge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lk(t,e){return Qge(t)||Yge(t,e)||Xge(t,e)||Kge()}function Kge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xge(t,e){if(t){if(typeof t=="string")return Vk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vk(t,e)}}function Vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Qge(t){if(Array.isArray(t))return t}var FB=/[ \f\n\r\t\v\u2028\u2029]+/,BB=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];be(n)||(r?o=n.toString().split(""):o=n.toString().split(FB));var a=o.map(function(l){return{word:l,width:Lc(l,i).width}}),s=r?0:Lc(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Jge=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=ee(a),f=s,d=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(F,q){var L=q.word,z=q.width,G=F[F.length-1];if(G&&(i==null||o||G.width+z+r<Number(i)))G.words.push(L),G.width+=z+r;else{var Q={words:[L],width:z};F.push(Q)}return F},[])},p=d(n),m=function(V){return V.reduce(function(F,q){return F.width>q.width?F:q})};if(!c)return p;for(var g="…",v=function(V){var F=f.slice(0,V),q=BB({breakAll:u,style:l,children:F+g}).wordsWithComputedWidth,L=d(q),z=L.length>a||m(L).width>Number(i);return[z,L]},w=0,_=f.length-1,y=0,I;w<=_&&y<=f.length-1;){var S=Math.floor((w+_)/2),P=S-1,T=v(P),x=Lk(T,2),O=x[0],C=x[1],k=v(S),N=Lk(k,1),R=N[0];if(!O&&!R&&(w=S+1),O&&R&&(_=S-1),!O&&R){I=C;break}y++}return I||p},Fk=function(e){var n=be(e)?[]:e.toString().split(FB);return[{words:n}]},Zge=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!vu.isSsr){var l,u,c=BB({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return Fk(i);return Jge({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return Fk(i)},Bk="#808080",Xm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,w=v===void 0?Bk:v,_=$k(e,Wge),y=j.useMemo(function(){return Zge({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),I=_.dx,S=_.dy,P=_.angle,T=_.className,x=_.breakAll,O=$k(_,Hge);if(!Ot(r)||!Ot(o))return null;var C=r+(ee(I)?I:0),k=o+(ee(S)?S:0),N;switch(g){case"start":N=Z0("calc(".concat(u,")"));break;case"middle":N=Z0("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:N=Z0("calc(".concat(y.length-1," * -").concat(s,")"));break}var R=[];if(f){var B=y[0].width,V=_.width;R.push("scale(".concat((ee(V)?V/B:1)/B,")"))}return P&&R.push("rotate(".concat(P,", ").concat(C,", ").concat(k,")")),R.length&&(O.transform=R.join(" ")),D.createElement("text",Pw({},Te(O,!0),{x:C,y:k,className:Ie("recharts-text",T),textAnchor:p,fill:w.includes("url")?Bk:w}),y.map(function(F,q){var L=F.words.join(x?"":" ");return D.createElement("tspan",{x:C,dy:q===0?N:s,key:"".concat(L,"-").concat(q)},L)}))};function jo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eye(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function OT(t){let e,n,r;t.length!==2?(e=jo,n=(s,l)=>jo(t(s),l),r=(s,l)=>t(s)-l):(e=t===jo||t===eye?t:tye,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function tye(){return 0}function UB(t){return t===null?NaN:+t}function*nye(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const rye=OT(jo),Uh=rye.right;OT(UB).center;class Uk extends Map{constructor(e,n=aye){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(zk(this,e))}has(e){return super.has(zk(this,e))}set(e,n){return super.set(iye(this,e),n)}delete(e){return super.delete(oye(this,e))}}function zk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function iye({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function oye({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function aye(t){return t!==null&&typeof t=="object"?t.valueOf():t}function sye(t=jo){if(t===jo)return zB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function zB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const lye=Math.sqrt(50),uye=Math.sqrt(10),cye=Math.sqrt(2);function Ym(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=lye?10:o>=uye?5:o>=cye?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Ym(t,e,n*2):[s,l,u]}function Iw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Ym(e,t,n):Ym(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Ow(t,e,n){return e=+e,t=+t,n=+n,Ym(t,e,n)[2]}function Cw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ow(e,t,n):Ow(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function qk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Wk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function qB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?zB:sye(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+d)),m=Math.min(r,Math.floor(e+(l-u)*f/l+d));qB(t,e,p,m,i)}const o=t[e];let a=n,s=r;for(Yu(t,n,e),i(t[r],o)>0&&Yu(t,n,r);a<s;){for(Yu(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Yu(t,n,s):(++s,Yu(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Yu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function fye(t,e,n){if(t=Float64Array.from(nye(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Wk(t);if(e>=1)return qk(t);var r,i=(r-1)*e,o=Math.floor(i),a=qk(qB(t,o).subarray(0,o+1)),s=Wk(t.subarray(o+1));return a+(s-a)*(i-o)}}function hye(t,e,n=UB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function dye(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function mr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const kw=Symbol("implicit");function CT(){var t=new Uk,e=[],n=[],r=kw;function i(o){let a=t.get(o);if(a===void 0){if(r!==kw)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Uk;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return CT(e,n).unknown(r)},mr.apply(i,arguments),i}function Mf(){var t=CT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),m+=(g-m-o*(d-l))*c,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var v=dye(d).map(function(w){return m+o*w});return n(p?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return Mf(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},mr.apply(f(),arguments)}function WB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return WB(e())},t}function Vc(){return WB(Mf.apply(null,arguments).paddingInner(1))}function kT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function HB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function zh(){}var jf=.7,Qm=1/jf,fl="\\s*([+-]?\\d+)\\s*",Df="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pye=/^#([0-9a-f]{3,8})$/,mye=new RegExp(`^rgb\\(${fl},${fl},${fl}\\)$`),gye=new RegExp(`^rgb\\(${Qr},${Qr},${Qr}\\)$`),yye=new RegExp(`^rgba\\(${fl},${fl},${fl},${Df}\\)$`),vye=new RegExp(`^rgba\\(${Qr},${Qr},${Qr},${Df}\\)$`),_ye=new RegExp(`^hsl\\(${Df},${Qr},${Qr}\\)$`),bye=new RegExp(`^hsla\\(${Df},${Qr},${Qr},${Df}\\)$`),Hk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kT(zh,$f,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Gk,formatHex:Gk,formatHex8:wye,formatHsl:xye,formatRgb:Kk,toString:Kk});function Gk(){return this.rgb().formatHex()}function wye(){return this.rgb().formatHex8()}function xye(){return GB(this).formatHsl()}function Kk(){return this.rgb().formatRgb()}function $f(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pye.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Xk(e):n===3?new An(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=mye.exec(t))?new An(e[1],e[2],e[3],1):(e=gye.exec(t))?new An(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yye.exec(t))?qd(e[1],e[2],e[3],e[4]):(e=vye.exec(t))?qd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_ye.exec(t))?Jk(e[1],e[2]/100,e[3]/100,1):(e=bye.exec(t))?Jk(e[1],e[2]/100,e[3]/100,e[4]):Hk.hasOwnProperty(t)?Xk(Hk[t]):t==="transparent"?new An(NaN,NaN,NaN,0):null}function Xk(t){return new An(t>>16&255,t>>8&255,t&255,1)}function qd(t,e,n,r){return r<=0&&(t=e=n=NaN),new An(t,e,n,r)}function Eye(t){return t instanceof zh||(t=$f(t)),t?(t=t.rgb(),new An(t.r,t.g,t.b,t.opacity)):new An}function Rw(t,e,n,r){return arguments.length===1?Eye(t):new An(t,e,n,r??1)}function An(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}kT(An,Rw,HB(zh,{brighter(t){return t=t==null?Qm:Math.pow(Qm,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jf:Math.pow(jf,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new An(La(this.r),La(this.g),La(this.b),Jm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yk,formatHex:Yk,formatHex8:Tye,formatRgb:Qk,toString:Qk}));function Yk(){return`#${Oa(this.r)}${Oa(this.g)}${Oa(this.b)}`}function Tye(){return`#${Oa(this.r)}${Oa(this.g)}${Oa(this.b)}${Oa((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qk(){const t=Jm(this.opacity);return`${t===1?"rgb(":"rgba("}${La(this.r)}, ${La(this.g)}, ${La(this.b)}${t===1?")":`, ${t})`}`}function Jm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function La(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Oa(t){return t=La(t),(t<16?"0":"")+t.toString(16)}function Jk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Pr(t,e,n,r)}function GB(t){if(t instanceof Pr)return new Pr(t.h,t.s,t.l,t.opacity);if(t instanceof zh||(t=$f(t)),!t)return new Pr;if(t instanceof Pr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Pr(a,s,l,t.opacity)}function Sye(t,e,n,r){return arguments.length===1?GB(t):new Pr(t,e,n,r??1)}function Pr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}kT(Pr,Sye,HB(zh,{brighter(t){return t=t==null?Qm:Math.pow(Qm,t),new Pr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jf:Math.pow(jf,t),new Pr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new An(e_(t>=240?t-240:t+120,i,r),e_(t,i,r),e_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Pr(Zk(this.h),Wd(this.s),Wd(this.l),Jm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jm(this.opacity);return`${t===1?"hsl(":"hsla("}${Zk(this.h)}, ${Wd(this.s)*100}%, ${Wd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Zk(t){return t=(t||0)%360,t<0?t+360:t}function Wd(t){return Math.max(0,Math.min(1,t||0))}function e_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const RT=t=>()=>t;function Aye(t,e){return function(n){return t+n*e}}function Pye(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Iye(t){return(t=+t)==1?KB:function(e,n){return n-e?Pye(e,n,t):RT(isNaN(e)?n:e)}}function KB(t,e){var n=e-t;return n?Aye(t,n):RT(isNaN(t)?e:t)}const eR=function t(e){var n=Iye(e);function r(i,o){var a=n((i=Rw(i)).r,(o=Rw(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=KB(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Oye(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Cye(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kye(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=_u(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Rye(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Zm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Nye(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=_u(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Nw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,t_=new RegExp(Nw.source,"g");function Mye(t){return function(){return t}}function jye(t){return function(e){return t(e)+""}}function Dye(t,e){var n=Nw.lastIndex=t_.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Nw.exec(t))&&(i=t_.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Zm(r,i)})),n=t_.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?jye(l[0].x):Mye(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function _u(t,e){var n=typeof e,r;return e==null||n==="boolean"?RT(e):(n==="number"?Zm:n==="string"?(r=$f(e))?(e=r,eR):Dye:e instanceof $f?eR:e instanceof Date?Rye:Cye(e)?Oye:Array.isArray(e)?kye:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Nye:Zm)(t,e)}function NT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $ye(t,e){e===void 0&&(e=t,t=_u);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Lye(t){return function(){return t}}function eg(t){return+t}var tR=[0,1];function _n(t){return t}function Mw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Lye(isNaN(e)?NaN:.5)}function Vye(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Fye(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Mw(i,r),o=n(a,o)):(r=Mw(r,i),o=n(o,a)),function(s){return o(r(s))}}function Bye(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Mw(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Uh(t,s,1,r)-1;return o[l](i[l](s))}}function qh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function nv(){var t=tR,e=tR,n=_u,r,i,o,a=_n,s,l,u;function c(){var d=Math.min(t.length,e.length);return a!==_n&&(a=Vye(t[0],t[d-1])),s=d>2?Bye:Fye,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(e,t.map(r),Zm)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,eg),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=NT,c()},f.clamp=function(d){return arguments.length?(a=d?!0:_n,c()):a!==_n},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,c()}}function MT(){return nv()(_n,_n)}function Uye(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nl(t){return t=tg(Math.abs(t)),t?t[1]:NaN}function zye(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function qye(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Wye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lf(t){if(!(e=Wye.exec(t)))throw new Error("invalid format: "+t);var e;return new jT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lf.prototype=jT.prototype;function jT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}jT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hye(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var XB;function Gye(t,e){var n=tg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(XB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+tg(t,Math.max(0,e+o-1))[0]}function nR(t,e){var n=tg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const rR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Uye,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nR(t*100,e),r:nR,s:Gye,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function iR(t){return t}var oR=Array.prototype.map,aR=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Kye(t){var e=t.grouping===void 0||t.thousands===void 0?iR:zye(oR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?iR:qye(oR.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Lf(f);var d=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,w=f.width,_=f.comma,y=f.precision,I=f.trim,S=f.type;S==="n"?(_=!0,S="g"):rR[S]||(y===void 0&&(y=12),I=!0,S="g"),(v||d==="0"&&p==="=")&&(v=!0,d="0",p="=");var P=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",T=g==="$"?r:/[%p]/.test(S)?a:"",x=rR[S],O=/[defgprs%]/.test(S);y=y===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function C(k){var N=P,R=T,B,V,F;if(S==="c")R=x(k)+R,k="";else{k=+k;var q=k<0||1/k<0;if(k=isNaN(k)?l:x(Math.abs(k),y),I&&(k=Hye(k)),q&&+k==0&&m!=="+"&&(q=!1),N=(q?m==="("?m:s:m==="-"||m==="("?"":m)+N,R=(S==="s"?aR[8+XB/3]:"")+R+(q&&m==="("?")":""),O){for(B=-1,V=k.length;++B<V;)if(F=k.charCodeAt(B),48>F||F>57){R=(F===46?i+k.slice(B+1):k.slice(B))+R,k=k.slice(0,B);break}}}_&&!v&&(k=e(k,1/0));var L=N.length+k.length+R.length,z=L<w?new Array(w-L+1).join(d):"";switch(_&&v&&(k=e(z+k,z.length?w-R.length:1/0),z=""),p){case"<":k=N+k+R+z;break;case"=":k=N+z+k+R;break;case"^":k=z.slice(0,L=z.length>>1)+N+k+R+z.slice(L);break;default:k=z+N+k+R;break}return o(k)}return C.toString=function(){return f+""},C}function c(f,d){var p=u((f=Lf(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Nl(d)/3)))*3,g=Math.pow(10,-m),v=aR[8+m/3];return function(w){return p(g*w)+v}}return{format:u,formatPrefix:c}}var Hd,DT,YB;Xye({thousands:",",grouping:[3],currency:["$",""]});function Xye(t){return Hd=Kye(t),DT=Hd.format,YB=Hd.formatPrefix,Hd}function Yye(t){return Math.max(0,-Nl(Math.abs(t)))}function Qye(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nl(e)/3)))*3-Nl(Math.abs(t)))}function Jye(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nl(e)-Nl(t))+1}function QB(t,e,n,r){var i=Cw(t,e,n),o;switch(r=Lf(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Qye(i,a))&&(r.precision=o),YB(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Jye(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Yye(i))&&(r.precision=o-(r.type==="%")*2);break}}return DT(r)}function ta(t){var e=t.domain;return t.ticks=function(n){var r=e();return Iw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return QB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Ow(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function ng(){var t=MT();return t.copy=function(){return qh(t,ng())},mr.apply(t,arguments),ta(t)}function JB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,eg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return JB(t).unknown(e)},t=arguments.length?Array.from(t,eg):[0,1],ta(n)}function ZB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function sR(t){return Math.log(t)}function lR(t){return Math.exp(t)}function Zye(t){return-Math.log(-t)}function eve(t){return-Math.exp(-t)}function tve(t){return isFinite(t)?+("1e"+t):t<0?0:t}function nve(t){return t===10?tve:t===Math.E?Math.exp:e=>Math.pow(t,e)}function rve(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function uR(t){return(e,n)=>-t(-e,n)}function $T(t){const e=t(sR,lR),n=e.domain;let r=10,i,o;function a(){return i=rve(r),o=nve(r),n()[0]<0?(i=uR(i),o=uR(o),t(Zye,eve)):t(sR,lR),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),m,g;const v=s==null?10:+s;let w=[];if(!(r%1)&&p-d<v){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(g=d<0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;w.push(g)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;w.push(g)}w.length*2<v&&(w=Iw(u,c,v))}else w=Iw(d,p,Math.min(p-d,v)).map(o);return f?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Lf(l)).precision==null&&(l.trim=!0),l=DT(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(ZB(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function eU(){const t=$T(nv()).domain([1,10]);return t.copy=()=>qh(t,eU()).base(t.base()),mr.apply(t,arguments),t}function cR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function fR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function LT(t){var e=1,n=t(cR(e),fR(e));return n.constant=function(r){return arguments.length?t(cR(e=+r),fR(e)):e},ta(n)}function tU(){var t=LT(nv());return t.copy=function(){return qh(t,tU()).constant(t.constant())},mr.apply(t,arguments)}function hR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ive(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ove(t){return t<0?-t*t:t*t}function VT(t){var e=t(_n,_n),n=1;function r(){return n===1?t(_n,_n):n===.5?t(ive,ove):t(hR(n),hR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ta(e)}function FT(){var t=VT(nv());return t.copy=function(){return qh(t,FT()).exponent(t.exponent())},mr.apply(t,arguments),t}function ave(){return FT.apply(null,arguments).exponent(.5)}function dR(t){return Math.sign(t)*t*t}function sve(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function nU(){var t=MT(),e=[0,1],n=!1,r;function i(o){var a=sve(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(dR(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,eg)).map(dR)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return nU(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},mr.apply(i,arguments),ta(i)}function rU(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=hye(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Uh(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(jo),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return rU().domain(t).range(e).unknown(r)},mr.apply(o,arguments)}function iU(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Uh(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return iU().domain([t,e]).range(i).unknown(o)},mr.apply(ta(a),arguments)}function oU(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Uh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return oU().domain(t).range(e).unknown(n)},mr.apply(i,arguments)}const n_=new Date,r_=new Date;function Ct(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Ct(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(n_.setTime(+o),r_.setTime(+a),t(n_),t(r_),Math.floor(n(n_,r_))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const rg=Ct(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);rg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ct(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):rg);rg.range;const vi=1e3,or=vi*60,_i=or*60,Vi=_i*24,BT=Vi*7,pR=Vi*30,i_=Vi*365,Ca=Ct(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getUTCSeconds());Ca.range;const UT=Ct(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vi)},(t,e)=>{t.setTime(+t+e*or)},(t,e)=>(e-t)/or,t=>t.getMinutes());UT.range;const zT=Ct(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*or)},(t,e)=>(e-t)/or,t=>t.getUTCMinutes());zT.range;const qT=Ct(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vi-t.getMinutes()*or)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getHours());qT.range;const WT=Ct(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCHours());WT.range;const Wh=Ct(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*or)/Vi,t=>t.getDate()-1);Wh.range;const rv=Ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vi,t=>t.getUTCDate()-1);rv.range;const aU=Ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vi,t=>Math.floor(t/Vi));aU.range;function ds(t){return Ct(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*or)/BT)}const iv=ds(0),ig=ds(1),lve=ds(2),uve=ds(3),Ml=ds(4),cve=ds(5),fve=ds(6);iv.range;ig.range;lve.range;uve.range;Ml.range;cve.range;fve.range;function ps(t){return Ct(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/BT)}const ov=ps(0),og=ps(1),hve=ps(2),dve=ps(3),jl=ps(4),pve=ps(5),mve=ps(6);ov.range;og.range;hve.range;dve.range;jl.range;pve.range;mve.range;const HT=Ct(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());HT.range;const GT=Ct(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());GT.range;const Fi=Ct(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ct(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Fi.range;const Bi=Ct(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Bi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ct(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Bi.range;function sU(t,e,n,r,i,o){const a=[[Ca,1,vi],[Ca,5,5*vi],[Ca,15,15*vi],[Ca,30,30*vi],[o,1,or],[o,5,5*or],[o,15,15*or],[o,30,30*or],[i,1,_i],[i,3,3*_i],[i,6,6*_i],[i,12,12*_i],[r,1,Vi],[r,2,2*Vi],[n,1,BT],[e,1,pR],[e,3,3*pR],[t,1,i_]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),m=p?p.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,f){const d=Math.abs(c-u)/f,p=OT(([,,v])=>v).right(a,d);if(p===a.length)return t.every(Cw(u/i_,c/i_,f));if(p===0)return rg.every(Math.max(Cw(u,c,f),1));const[m,g]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return m.every(g)}return[s,l]}const[gve,yve]=sU(Bi,GT,ov,aU,WT,zT),[vve,_ve]=sU(Fi,HT,iv,Wh,qT,UT);function o_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function a_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function bve(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Ju(i),c=Zu(i),f=Ju(o),d=Zu(o),p=Ju(a),m=Zu(a),g=Ju(s),v=Zu(s),w=Ju(l),_=Zu(l),y={a:q,A:L,b:z,B:G,c:null,d:bR,e:bR,f:zve,g:Zve,G:t0e,H:Fve,I:Bve,j:Uve,L:lU,m:qve,M:Wve,p:Q,q:K,Q:ER,s:TR,S:Hve,u:Gve,U:Kve,V:Xve,w:Yve,W:Qve,x:null,X:null,y:Jve,Y:e0e,Z:n0e,"%":xR},I={a:re,A:ve,b:Ae,B:je,c:null,d:wR,e:wR,f:a0e,g:g0e,G:v0e,H:r0e,I:i0e,j:o0e,L:cU,m:s0e,M:l0e,p:gt,q:kt,Q:ER,s:TR,S:u0e,u:c0e,U:f0e,V:h0e,w:d0e,W:p0e,x:null,X:null,y:m0e,Y:y0e,Z:_0e,"%":xR},S={a:C,A:k,b:N,B:R,c:B,d:vR,e:vR,f:Dve,g:yR,G:gR,H:_R,I:_R,j:Rve,L:jve,m:kve,M:Nve,p:O,q:Cve,Q:Lve,s:Vve,S:Mve,u:Sve,U:Ave,V:Pve,w:Tve,W:Ive,x:V,X:F,y:yR,Y:gR,Z:Ove,"%":$ve};y.x=P(n,y),y.X=P(r,y),y.c=P(e,y),I.x=P(n,I),I.X=P(r,I),I.c=P(e,I);function P(te,ce){return function(ue){var X=[],qe=-1,_e=0,tt=te.length,lt,Yt,Lr;for(ue instanceof Date||(ue=new Date(+ue));++qe<tt;)te.charCodeAt(qe)===37&&(X.push(te.slice(_e,qe)),(Yt=mR[lt=te.charAt(++qe)])!=null?lt=te.charAt(++qe):Yt=lt==="e"?" ":"0",(Lr=ce[lt])&&(lt=Lr(ue,Yt)),X.push(lt),_e=qe+1);return X.push(te.slice(_e,qe)),X.join("")}}function T(te,ce){return function(ue){var X=Qu(1900,void 0,1),qe=x(X,te,ue+="",0),_e,tt;if(qe!=ue.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ce&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(_e=a_(Qu(X.y,0,1)),tt=_e.getUTCDay(),_e=tt>4||tt===0?og.ceil(_e):og(_e),_e=rv.offset(_e,(X.V-1)*7),X.y=_e.getUTCFullYear(),X.m=_e.getUTCMonth(),X.d=_e.getUTCDate()+(X.w+6)%7):(_e=o_(Qu(X.y,0,1)),tt=_e.getDay(),_e=tt>4||tt===0?ig.ceil(_e):ig(_e),_e=Wh.offset(_e,(X.V-1)*7),X.y=_e.getFullYear(),X.m=_e.getMonth(),X.d=_e.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),tt="Z"in X?a_(Qu(X.y,0,1)).getUTCDay():o_(Qu(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(tt+5)%7:X.w+X.U*7-(tt+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,a_(X)):o_(X)}}function x(te,ce,ue,X){for(var qe=0,_e=ce.length,tt=ue.length,lt,Yt;qe<_e;){if(X>=tt)return-1;if(lt=ce.charCodeAt(qe++),lt===37){if(lt=ce.charAt(qe++),Yt=S[lt in mR?ce.charAt(qe++):lt],!Yt||(X=Yt(te,ue,X))<0)return-1}else if(lt!=ue.charCodeAt(X++))return-1}return X}function O(te,ce,ue){var X=u.exec(ce.slice(ue));return X?(te.p=c.get(X[0].toLowerCase()),ue+X[0].length):-1}function C(te,ce,ue){var X=p.exec(ce.slice(ue));return X?(te.w=m.get(X[0].toLowerCase()),ue+X[0].length):-1}function k(te,ce,ue){var X=f.exec(ce.slice(ue));return X?(te.w=d.get(X[0].toLowerCase()),ue+X[0].length):-1}function N(te,ce,ue){var X=w.exec(ce.slice(ue));return X?(te.m=_.get(X[0].toLowerCase()),ue+X[0].length):-1}function R(te,ce,ue){var X=g.exec(ce.slice(ue));return X?(te.m=v.get(X[0].toLowerCase()),ue+X[0].length):-1}function B(te,ce,ue){return x(te,e,ce,ue)}function V(te,ce,ue){return x(te,n,ce,ue)}function F(te,ce,ue){return x(te,r,ce,ue)}function q(te){return a[te.getDay()]}function L(te){return o[te.getDay()]}function z(te){return l[te.getMonth()]}function G(te){return s[te.getMonth()]}function Q(te){return i[+(te.getHours()>=12)]}function K(te){return 1+~~(te.getMonth()/3)}function re(te){return a[te.getUTCDay()]}function ve(te){return o[te.getUTCDay()]}function Ae(te){return l[te.getUTCMonth()]}function je(te){return s[te.getUTCMonth()]}function gt(te){return i[+(te.getUTCHours()>=12)]}function kt(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var ce=P(te+="",y);return ce.toString=function(){return te},ce},parse:function(te){var ce=T(te+="",!1);return ce.toString=function(){return te},ce},utcFormat:function(te){var ce=P(te+="",I);return ce.toString=function(){return te},ce},utcParse:function(te){var ce=T(te+="",!0);return ce.toString=function(){return te},ce}}}var mR={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,wve=/^%/,xve=/[\\^$*+?|[\]().{}]/g;function Ne(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Eve(t){return t.replace(xve,"\\$&")}function Ju(t){return new RegExp("^(?:"+t.map(Eve).join("|")+")","i")}function Zu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Tve(t,e,n){var r=Lt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Sve(t,e,n){var r=Lt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ave(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Pve(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ive(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function gR(t,e,n){var r=Lt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function yR(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ove(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Cve(t,e,n){var r=Lt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function kve(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function vR(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Rve(t,e,n){var r=Lt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function _R(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Nve(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Mve(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function jve(t,e,n){var r=Lt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Dve(t,e,n){var r=Lt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $ve(t,e,n){var r=wve.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Lve(t,e,n){var r=Lt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Vve(t,e,n){var r=Lt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function bR(t,e){return Ne(t.getDate(),e,2)}function Fve(t,e){return Ne(t.getHours(),e,2)}function Bve(t,e){return Ne(t.getHours()%12||12,e,2)}function Uve(t,e){return Ne(1+Wh.count(Fi(t),t),e,3)}function lU(t,e){return Ne(t.getMilliseconds(),e,3)}function zve(t,e){return lU(t,e)+"000"}function qve(t,e){return Ne(t.getMonth()+1,e,2)}function Wve(t,e){return Ne(t.getMinutes(),e,2)}function Hve(t,e){return Ne(t.getSeconds(),e,2)}function Gve(t){var e=t.getDay();return e===0?7:e}function Kve(t,e){return Ne(iv.count(Fi(t)-1,t),e,2)}function uU(t){var e=t.getDay();return e>=4||e===0?Ml(t):Ml.ceil(t)}function Xve(t,e){return t=uU(t),Ne(Ml.count(Fi(t),t)+(Fi(t).getDay()===4),e,2)}function Yve(t){return t.getDay()}function Qve(t,e){return Ne(ig.count(Fi(t)-1,t),e,2)}function Jve(t,e){return Ne(t.getFullYear()%100,e,2)}function Zve(t,e){return t=uU(t),Ne(t.getFullYear()%100,e,2)}function e0e(t,e){return Ne(t.getFullYear()%1e4,e,4)}function t0e(t,e){var n=t.getDay();return t=n>=4||n===0?Ml(t):Ml.ceil(t),Ne(t.getFullYear()%1e4,e,4)}function n0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ne(e/60|0,"0",2)+Ne(e%60,"0",2)}function wR(t,e){return Ne(t.getUTCDate(),e,2)}function r0e(t,e){return Ne(t.getUTCHours(),e,2)}function i0e(t,e){return Ne(t.getUTCHours()%12||12,e,2)}function o0e(t,e){return Ne(1+rv.count(Bi(t),t),e,3)}function cU(t,e){return Ne(t.getUTCMilliseconds(),e,3)}function a0e(t,e){return cU(t,e)+"000"}function s0e(t,e){return Ne(t.getUTCMonth()+1,e,2)}function l0e(t,e){return Ne(t.getUTCMinutes(),e,2)}function u0e(t,e){return Ne(t.getUTCSeconds(),e,2)}function c0e(t){var e=t.getUTCDay();return e===0?7:e}function f0e(t,e){return Ne(ov.count(Bi(t)-1,t),e,2)}function fU(t){var e=t.getUTCDay();return e>=4||e===0?jl(t):jl.ceil(t)}function h0e(t,e){return t=fU(t),Ne(jl.count(Bi(t),t)+(Bi(t).getUTCDay()===4),e,2)}function d0e(t){return t.getUTCDay()}function p0e(t,e){return Ne(og.count(Bi(t)-1,t),e,2)}function m0e(t,e){return Ne(t.getUTCFullYear()%100,e,2)}function g0e(t,e){return t=fU(t),Ne(t.getUTCFullYear()%100,e,2)}function y0e(t,e){return Ne(t.getUTCFullYear()%1e4,e,4)}function v0e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?jl(t):jl.ceil(t),Ne(t.getUTCFullYear()%1e4,e,4)}function _0e(){return"+0000"}function xR(){return"%"}function ER(t){return+t}function TR(t){return Math.floor(+t/1e3)}var Ts,hU,dU;b0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function b0e(t){return Ts=bve(t),hU=Ts.format,Ts.parse,dU=Ts.utcFormat,Ts.utcParse,Ts}function w0e(t){return new Date(t)}function x0e(t){return t instanceof Date?+t:+new Date(+t)}function KT(t,e,n,r,i,o,a,s,l,u){var c=MT(),f=c.invert,d=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),_=u("%b %d"),y=u("%B"),I=u("%Y");function S(P){return(l(P)<P?p:s(P)<P?m:a(P)<P?g:o(P)<P?v:r(P)<P?i(P)<P?w:_:n(P)<P?y:I)(P)}return c.invert=function(P){return new Date(f(P))},c.domain=function(P){return arguments.length?d(Array.from(P,x0e)):d().map(w0e)},c.ticks=function(P){var T=d();return t(T[0],T[T.length-1],P??10)},c.tickFormat=function(P,T){return T==null?S:u(T)},c.nice=function(P){var T=d();return(!P||typeof P.range!="function")&&(P=e(T[0],T[T.length-1],P??10)),P?d(ZB(T,P)):c},c.copy=function(){return qh(c,KT(t,e,n,r,i,o,a,s,l,u))},c}function E0e(){return mr.apply(KT(vve,_ve,Fi,HT,iv,Wh,qT,UT,Ca,hU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function T0e(){return mr.apply(KT(gve,yve,Bi,GT,ov,rv,WT,zT,Ca,dU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function av(){var t=0,e=1,n,r,i,o,a=_n,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(d){var p,m;return arguments.length?([p,m]=d,a=f(p,m),u):[a(0),a(1)]}}return u.range=c(_u),u.rangeRound=c(NT),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function na(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function pU(){var t=ta(av()(_n));return t.copy=function(){return na(t,pU())},Xi.apply(t,arguments)}function mU(){var t=$T(av()).domain([1,10]);return t.copy=function(){return na(t,mU()).base(t.base())},Xi.apply(t,arguments)}function gU(){var t=LT(av());return t.copy=function(){return na(t,gU()).constant(t.constant())},Xi.apply(t,arguments)}function XT(){var t=VT(av());return t.copy=function(){return na(t,XT()).exponent(t.exponent())},Xi.apply(t,arguments)}function S0e(){return XT.apply(null,arguments).exponent(.5)}function yU(){var t=[],e=_n;function n(r){if(r!=null&&!isNaN(r=+r))return e((Uh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(jo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>fye(t,o/r))},n.copy=function(){return yU(e).domain(t)},Xi.apply(n,arguments)}function sv(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=_n,c,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var w,_,y;return arguments.length?([w,_,y]=v,u=$ye(g,[w,_,y]),p):[u(0),u(.5),u(1)]}}return p.range=m(_u),p.rangeRound=m(NT),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function vU(){var t=ta(sv()(_n));return t.copy=function(){return na(t,vU())},Xi.apply(t,arguments)}function _U(){var t=$T(sv()).domain([.1,1,10]);return t.copy=function(){return na(t,_U()).base(t.base())},Xi.apply(t,arguments)}function bU(){var t=LT(sv());return t.copy=function(){return na(t,bU()).constant(t.constant())},Xi.apply(t,arguments)}function YT(){var t=VT(sv());return t.copy=function(){return na(t,YT()).exponent(t.exponent())},Xi.apply(t,arguments)}function A0e(){return YT.apply(null,arguments).exponent(.5)}const SR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mf,scaleDiverging:vU,scaleDivergingLog:_U,scaleDivergingPow:YT,scaleDivergingSqrt:A0e,scaleDivergingSymlog:bU,scaleIdentity:JB,scaleImplicit:kw,scaleLinear:ng,scaleLog:eU,scaleOrdinal:CT,scalePoint:Vc,scalePow:FT,scaleQuantile:rU,scaleQuantize:iU,scaleRadial:nU,scaleSequential:pU,scaleSequentialLog:mU,scaleSequentialPow:XT,scaleSequentialQuantile:yU,scaleSequentialSqrt:S0e,scaleSequentialSymlog:gU,scaleSqrt:ave,scaleSymlog:tU,scaleThreshold:oU,scaleTime:E0e,scaleUtc:T0e,tickFormat:QB},Symbol.toStringTag,{value:"Module"}));var P0e=cu;function I0e(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!P0e(a):n(a,s)))var s=a,l=o}return l}var wU=I0e;function O0e(t,e){return t>e}var C0e=O0e,k0e=wU,R0e=C0e,N0e=yu;function M0e(t){return t&&t.length?k0e(t,N0e,R0e):void 0}var j0e=M0e;const lv=ze(j0e);function D0e(t,e){return t<e}var $0e=D0e,L0e=wU,V0e=$0e,F0e=yu;function B0e(t){return t&&t.length?L0e(t,F0e,V0e):void 0}var U0e=B0e;const uv=ze(U0e);var z0e=cT,q0e=ea,W0e=OB,H0e=Nn;function G0e(t,e){var n=H0e(t)?z0e:W0e;return n(t,q0e(e))}var K0e=G0e,X0e=PB,Y0e=K0e;function Q0e(t,e){return X0e(Y0e(t,e),1)}var J0e=Q0e;const Z0e=ze(J0e);var e_e=ST;function t_e(t,e){return e_e(t,e)}var n_e=t_e;const cv=ze(n_e);var bu=1e9,r_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},JT,et=!0,dr="[DecimalError] ",Va=dr+"Invalid argument: ",QT=dr+"Exponent out of range: ",wu=Math.floor,_a=Math.pow,i_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vn,Nt=1e7,Qe=7,xU=9007199254740991,ag=wu(xU/Qe),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Qe;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return Pi(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return Ue(Pi(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return Et(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Vn))throw Error(dr+"NaN");if(n.s<1)throw Error(dr+(n.s?"NaN":"-Infinity"));return n.eq(Vn)?new r(0):(et=!1,e=Pi(Vf(n,o),Vf(t,o),o),et=!0,Ue(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SU(e,t):EU(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(dr+"NaN");return n.s?(et=!1,e=Pi(n,t,0,1).times(t),et=!0,n.minus(e)):Ue(new r(n),i)};ae.naturalExponential=ae.exp=function(){return TU(this)};ae.naturalLogarithm=ae.ln=function(){return Vf(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?EU(e,t):SU(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Va+t);if(e=Et(i)+1,r=i.d.length-1,n=r*Qe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(dr+"NaN")}for(t=Et(s),et=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=qr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=wu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Pi(s,o,a+2)).times(.5),qr(o.d).slice(0,a)===(e=qr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ue(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return et=!0,Ue(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*d[i-r-1]+e,o[i--]=s%Nt|0,e=s/Nt|0;o[i]=(o[i]+e)%Nt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,et?Ue(t,f.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ti(t,0,bu),e===void 0?e=r.rounding:ti(e,0,8),Ue(n,t+Et(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ns(r,!0):(ti(t,0,bu),e===void 0?e=i.rounding:ti(e,0,8),r=Ue(new i(r),t+1,e),n=ns(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ns(i):(ti(t,0,bu),e===void 0?e=o.rounding:ti(e,0,8),r=Ue(new o(i),t+Et(i)+1,e),n=ns(r.abs(),!1,t+Et(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return Ue(new e(t),Et(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Vn);if(s=new l(s),!s.s){if(t.s<1)throw Error(dr+"Infinity");return s}if(s.eq(Vn))return s;if(r=l.precision,t.eq(Vn))return Ue(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=xU){for(i=new l(Vn),e=Math.ceil(r/Qe+4),et=!1;n%2&&(i=i.times(s),PR(i.d,e)),n=wu(n/2),n!==0;)s=s.times(s),PR(s.d,e);return et=!0,t.s<0?new l(Vn).div(i):Ue(i,r)}}else if(o<0)throw Error(dr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,et=!1,i=t.times(Vf(s,r+u)),et=!0,i=TU(i),i.s=o,i};ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Et(i),r=ns(i,n<=o.toExpNeg||n>=o.toExpPos)):(ti(t,1,bu),e===void 0?e=o.rounding:ti(e,0,8),i=Ue(new o(i),t,e),n=Et(i),r=ns(i,t<=n||n<=o.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ti(t,1,bu),e===void 0?e=r.rounding:ti(e,0,8)),Ue(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Et(t),n=t.constructor;return ns(t,e<=n.toExpNeg||e>=n.toExpPos)};function EU(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),et?Ue(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/Qe),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Nt|0,l[o]%=Nt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,et?Ue(e,f):e}function ti(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Va+t)}function qr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Qe-r.length,n&&(o+=so(n)),o+=r;a=t[e],r=a+"",n=Qe-r.length,n&&(o+=so(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Pi=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Nt|0,a=o/Nt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Nt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,d,p,m,g,v,w,_,y,I,S,P,T,x,O=r.constructor,C=r.s==i.s?1:-1,k=r.d,N=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(dr+"Division by zero");for(l=r.e-i.e,T=N.length,S=k.length,p=new O(C),m=p.d=[],u=0;N[u]==(k[u]||0);)++u;if(N[u]>(k[u]||0)&&--l,o==null?_=o=O.precision:a?_=o+(Et(r)-Et(i))+1:_=o,_<0)return new O(0);if(_=_/Qe+2|0,u=0,T==1)for(c=0,N=N[0],_++;(u<S||c)&&_--;u++)y=c*Nt+(k[u]||0),m[u]=y/N|0,c=y%N|0;else{for(c=Nt/(N[0]+1)|0,c>1&&(N=t(N,c),k=t(k,c),T=N.length,S=k.length),I=T,g=k.slice(0,T),v=g.length;v<T;)g[v++]=0;x=N.slice(),x.unshift(0),P=N[0],N[1]>=Nt/2&&++P;do c=0,s=e(N,g,T,v),s<0?(w=g[0],T!=v&&(w=w*Nt+(g[1]||0)),c=w/P|0,c>1?(c>=Nt&&(c=Nt-1),f=t(N,c),d=f.length,v=g.length,s=e(f,g,d,v),s==1&&(c--,n(f,T<d?x:N,d))):(c==0&&(s=c=1),f=N.slice()),d=f.length,d<v&&f.unshift(0),n(g,f,v),s==-1&&(v=g.length,s=e(N,g,T,v),s<1&&(c++,n(g,T<v?x:N,v))),v=g.length):s===0&&(c++,g=[0]),m[u++]=c,s&&g[0]?g[v++]=k[I]||0:(g=[k[I]],v=1);while((I++<S||g[0]!==void 0)&&_--)}return m[0]||m.shift(),p.e=l,Ue(p,a?o+Et(p)+1:o)}}();function TU(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(Et(t)>16)throw Error(QT+Et(t));if(!t.s)return new c(Vn);for(et=!1,s=f,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(_a(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Vn),c.precision=s;;){if(i=Ue(i.times(t),s),n=n.times(++l),a=o.plus(Pi(i,n,s)),qr(a.d).slice(0,s)===qr(o.d).slice(0,s)){for(;u--;)o=Ue(o.times(o),s);return c.precision=f,e==null?(et=!0,Ue(o,f)):o}o=a}}function Et(t){for(var e=t.e*Qe,n=t.d[0];n>=10;n/=10)e++;return e}function s_(t,e,n){if(e>t.LN10.sd())throw et=!0,n&&(t.precision=n),Error(dr+"LN10 precision limit exceeded");return Ue(new t(t.LN10),e)}function so(t){for(var e="";t--;)e+="0";return e}function Vf(t,e){var n,r,i,o,a,s,l,u,c,f=1,d=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(dr+(p.s?"NaN":"-Infinity"));if(p.eq(Vn))return new g(0);if(e==null?(et=!1,u=v):u=e,p.eq(10))return e==null&&(et=!0),s_(g,u);if(u+=d,g.precision=u,n=qr(m),r=n.charAt(0),o=Et(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=qr(p.d),r=n.charAt(0),f++;o=Et(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=s_(g,u+2,v).times(o+""),p=Vf(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=v,e==null?(et=!0,Ue(p,v)):p;for(s=a=p=Pi(p.minus(Vn),p.plus(Vn),u),c=Ue(p.times(p),u),i=3;;){if(a=Ue(a.times(c),u),l=s.plus(Pi(a,new g(i),u)),qr(l.d).slice(0,u)===qr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(s_(g,u+2,v).times(o+""))),s=Pi(s,new g(f),u),g.precision=v,e==null?(et=!0,Ue(s,v)):s;s=l,i+=2}}function AR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=wu(n/Qe),t.d=[],r=(n+1)%Qe,n<0&&(r+=Qe),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Qe;r<i;)t.d.push(+e.slice(r,r+=Qe));e=e.slice(r),r=Qe-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),et&&(t.e>ag||t.e<-ag))throw Error(QT+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ue(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Qe,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Qe),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=Qe,i=r-Qe+a}if(n!==void 0&&(o=_a(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/_a(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Et(t),f.length=1,e=e-o-1,f[0]=_a(10,(Qe-e%Qe)%Qe),t.e=wu(-e/Qe)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=_a(10,Qe-r),f[c]=i>0?(u/_a(10,a-i)%_a(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Nt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Nt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(et&&(t.e>ag||t.e<-ag))throw Error(QT+Et(t));return t}function SU(t,e){var n,r,i,o,a,s,l,u,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),et?Ue(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/Qe),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Nt-1;--l[o],l[i]+=Nt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,et?Ue(e,p):e):new d(0)}function ns(t,e,n){var r,i=Et(t),o=qr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+so(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+so(-i-1)+o,n&&(r=n-a)>0&&(o+=so(r))):i>=a?(o+=so(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+so(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=so(r))),t.s<0?"-"+o:o}function PR(t,e){if(t.length>e)return t.length=e,!0}function AU(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Va+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return AR(a,o.toString())}else if(typeof o!="string")throw Error(Va+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,i_e.test(o))AR(a,o);else throw Error(Va+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=AU,i.config=i.set=o_e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function o_e(t){if(!t||typeof t!="object")throw Error(dr+"Object expected");var e,n,r,i=["precision",1,bu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(wu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Va+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Va+n+": "+r);return this}var JT=AU(r_e);Vn=new JT(1);const Le=JT;function a_e(t){return c_e(t)||u_e(t)||l_e(t)||s_e()}function s_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l_e(t,e){if(t){if(typeof t=="string")return jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jw(t,e)}}function u_e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function c_e(t){if(Array.isArray(t))return jw(t)}function jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var f_e=function(e){return e},PU={},IU=function(e){return e===PU},IR=function(e){return function n(){return arguments.length===0||arguments.length===1&&IU(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},h_e=function t(e,n){return e===1?n:IR(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==PU}).length;return a>=e?n.apply(void 0,i):t(e-a,IR(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return IU(f)?l.shift():f});return n.apply(void 0,a_e(c).concat(l))}))})},fv=function(e){return h_e(e.length,e)},Dw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},d_e=fv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),p_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return f_e;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},$w=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},OU=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function m_e(t){var e;return t===0?e=1:e=Math.floor(new Le(t).abs().log(10).toNumber())+1,e}function g_e(t,e,n){for(var r=new Le(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var y_e=fv(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),v_e=fv(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),__e=fv(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const hv={rangeStep:g_e,getDigitCount:m_e,interpolateNumber:y_e,uninterpolateNumber:v_e,uninterpolateTruncation:__e};function Lw(t){return x_e(t)||w_e(t)||CU(t)||b_e()}function b_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w_e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function x_e(t){if(Array.isArray(t))return Vw(t)}function Ff(t,e){return S_e(t)||T_e(t,e)||CU(t,e)||E_e()}function E_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CU(t,e){if(t){if(typeof t=="string")return Vw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vw(t,e)}}function Vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T_e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function S_e(t){if(Array.isArray(t))return t}function kU(t){var e=Ff(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function RU(t,e,n){if(t.lte(0))return new Le(0);var r=hv.getDigitCount(t.toNumber()),i=new Le(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Le(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Le(Math.ceil(l))}function A_e(t,e,n){var r=1,i=new Le(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Le(10).pow(hv.getDigitCount(t)-1),i=new Le(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Le(Math.floor(t)))}else t===0?i=new Le(Math.floor((e-1)/2)):n||(i=new Le(Math.floor(t)));var a=Math.floor((e-1)/2),s=p_e(d_e(function(l){return i.add(new Le(l-a).mul(r)).toNumber()}),Dw);return s(0,e)}function NU(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Le(0),tickMin:new Le(0),tickMax:new Le(0)};var o=RU(new Le(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Le(0):(a=new Le(t).add(e).div(2),a=a.sub(new Le(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Le(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?NU(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Le(s).mul(o)),tickMax:a.add(new Le(l).mul(o))})}function P_e(t){var e=Ff(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=kU([n,r]),l=Ff(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Lw(Dw(0,i-1).map(function(){return 1/0}))):[].concat(Lw(Dw(0,i-1).map(function(){return-1/0})),[c]);return n>r?$w(f):f}if(u===c)return A_e(u,i,o);var d=NU(u,c,a,o),p=d.step,m=d.tickMin,g=d.tickMax,v=hv.rangeStep(m,g.add(new Le(.1).mul(p)),p);return n>r?$w(v):v}function I_e(t,e){var n=Ff(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=kU([r,i]),s=Ff(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=RU(new Le(u).sub(l).div(c-1),o,0),d=[].concat(Lw(hv.rangeStep(new Le(l),new Le(u).sub(new Le(.99).mul(f)),f)),[u]);return r>i?$w(d):d}var O_e=OU(P_e),C_e=OU(I_e),k_e="Invariant failed";function rs(t,e){throw new Error(k_e)}var R_e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function sg(){return sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sg.apply(this,arguments)}function N_e(t,e){return $_e(t)||D_e(t,e)||j_e(t,e)||M_e()}function M_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j_e(t,e){if(t){if(typeof t=="string")return OR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OR(t,e)}}function OR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function $_e(t){if(Array.isArray(t))return t}function L_e(t,e){if(t==null)return{};var n=V_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function F_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DU(r.key),r)}}function U_e(t,e,n){return e&&B_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z_e(t,e,n){return e=lg(e),q_e(t,MU()?Reflect.construct(e,n||[],lg(t).constructor):e.apply(t,n))}function q_e(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W_e(t)}function W_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MU=function(){return!!t})()}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lg(t)}function H_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fw(t,e)}function Fw(t,e){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fw(t,e)}function jU(t,e,n){return e=DU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DU(t){var e=G_e(t,"string");return Dl(e)=="symbol"?e:e+""}function G_e(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hh=function(t){function e(){return F_e(this,e),z_e(this,e,arguments)}return H_e(e,t),U_e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=L_e(r,R_e),p=Te(d,!1);this.props.direction==="x"&&c.type!=="number"&&rs();var m=l.map(function(g){var v=u(g,s),w=v.x,_=v.y,y=v.value,I=v.errorVal;if(!I)return null;var S=[],P,T;if(Array.isArray(I)){var x=N_e(I,2);P=x[0],T=x[1]}else P=T=I;if(o==="vertical"){var O=c.scale,C=_+i,k=C+a,N=C-a,R=O(y-P),B=O(y+T);S.push({x1:B,y1:k,x2:B,y2:N}),S.push({x1:R,y1:C,x2:B,y2:C}),S.push({x1:R,y1:k,x2:R,y2:N})}else if(o==="horizontal"){var V=f.scale,F=w+i,q=F-a,L=F+a,z=V(y-P),G=V(y+T);S.push({x1:q,y1:G,x2:L,y2:G}),S.push({x1:F,y1:z,x2:F,y2:G}),S.push({x1:q,y1:z,x2:L,y2:z})}return D.createElement(mt,sg({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},p),S.map(function(Q){return D.createElement("line",sg({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return D.createElement(mt,{className:"recharts-errorBars"},m)}}])}(D.Component);jU(Hh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});jU(Hh,"displayName","ErrorBar");function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){K_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K_e(t,e,n){return e=X_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X_e(t){var e=Y_e(t,"string");return Bf(e)=="symbol"?e:e+""}function Y_e(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $U=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Ln(n,cl);if(!a)return null;var s=cl.defaultProps,l=s!==void 0?ca(ca({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,p=f.props,m=p.sectors||p.data||[];return c.concat(m.map(function(g){return{type:a.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?ca(ca({},d),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,w=p.hide;return{inactive:w,dataKey:m,type:l.iconType||v||"square",color:ZT(f),value:g||m,payload:p}}),ca(ca(ca({},l),cl.getWithHeight(a,i)),{},{payload:u,item:a})};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function kR(t){return ebe(t)||Z_e(t)||J_e(t)||Q_e()}function Q_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J_e(t,e){if(t){if(typeof t=="string")return Bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bw(t,e)}}function Z_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ebe(t){if(Array.isArray(t))return Bw(t)}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){hl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hl(t,e,n){return e=tbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tbe(t){var e=nbe(t,"string");return Uf(e)=="symbol"?e:e+""}function nbe(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kn(t,e,n){return be(t)||be(e)?n:Ot(e)?sr(t,e,n):ye(e)?e(t):n}function Fc(t,e,n,r){var i=Z0e(t,function(s){return Kn(s,e)});if(n==="number"){var o=i.filter(function(s){return ee(s)||parseFloat(s)});return o.length?[uv(o),lv(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!be(s)}):i;return a.map(function(s){return Ot(s)||s instanceof Date?s:""})}var rbe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Or(f-c)!==Or(d-f)){var m=[];if(Or(d-f)===Or(l[1]-l[0])){p=d;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+c)/2),m[1]=Math.max(g,(g+c)/2)}else{p=c;var v=d+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){a=i[u].index;break}}else{var _=Math.min(c,d),y=Math.max(c,d);if(e>(_+f)/2&&e<=(y+f)/2){a=i[u].index;break}}}else for(var I=0;I<s;I++)if(I===0&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I>0&&I<s-1&&e>(r[I].coordinate+r[I-1].coordinate)/2&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I===s-1&&e>(r[I].coordinate+r[I-1].coordinate)/2){a=r[I].index;break}return a},ZT=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},ibe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var m=c[f[d]],g=m.items,v=m.cateAxisId,w=g.filter(function(T){return Si(T.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,y=_!==void 0?ft(ft({},_),w[0].props):w[0].props,I=y.barSize,S=y[v];a[S]||(a[S]=[]);var P=be(I)?n:I;a[S].push({item:w[0],stackList:w.slice(1),barSize:be(P)?void 0:ts(P,r,0)})}}return a},obe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=ts(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/l,m=a.reduce(function(I,S){return I+S.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(d=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-u,size:0};c=a.reduce(function(I,S){var P={item:S.item,position:{offset:v.offset+v.size+u,size:d?p:S.barSize}},T=[].concat(kR(I),[P]);return v=T[T.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(x){T.push({item:x,position:v})}),T},f)}else{var w=ts(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var _=(i-2*w-(l-1)*u)/l;_>1&&(_>>=0);var y=s===+s?Math.min(_,s):_;c=a.reduce(function(I,S,P){var T=[].concat(kR(I),[{item:S.item,position:{offset:w+(_+u)*P+(_-y)/2,size:y}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(x){T.push({item:x,position:T[T.length-1].position})}),T},f)}return c},abe=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=$U({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ee(e[p]))return ft(ft({},e),{},hl({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ee(e[m]))return ft(ft({},e),{},hl({},m,e[m]+(d||0)))}return e},sbe=function(e,n,r){return be(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},LU=function(e,n,r,i,o){var a=n.props.children,s=lr(a,Hh).filter(function(u){return sbe(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Kn(c,r);if(be(f))return u;var d=Array.isArray(f)?[uv(f),lv(f)]:[f,f],p=l.reduce(function(m,g){var v=Kn(c,g,0),w=d[0]-Math.abs(Array.isArray(v)?v[0]:v),_=d[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(w,m[0]),Math.max(_,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},lbe=function(e,n,r,i,o){var a=n.map(function(s){return LU(e,s,r,o,i)}).filter(function(s){return!be(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},VU=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&LU(e,l,u,i)||Fc(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},FU=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},BU=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},bi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Or(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!Vh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},l_=new WeakMap,Gd=function(e,n){if(typeof n!="function")return e;l_.has(e)||l_.set(e,new WeakMap);var r=l_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},ube=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Mf(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:ng(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Vc(),realScaleType:"point"}:o==="category"?{scale:Mf(),realScaleType:"band"}:{scale:ng(),realScaleType:"linear"};if(es(i)){var l="scale".concat(Xy(i));return{scale:(SR[l]||Vc)(),realScaleType:SR[l]?l:"point"}}return ye(i)?{scale:i}:{scale:Vc(),realScaleType:"point"}},NR=1e-4,cbe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-NR,a=Math.max(i[0],i[1])+NR,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},fbe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},hbe=function(e,n){if(!n||n.length!==2||!ee(n[0])||!ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ee(e[0])||e[0]<r)&&(o[0]=r),(!ee(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},dbe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Vh(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},pbe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Vh(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},mbe={sign:dbe,expand:Cse,none:Il,silhouette:kse,wiggle:Rse,positive:pbe},gbe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=mbe[r],a=Ose().keys(i).value(function(s,l){return+Kn(s,l,0)}).order(hw).offset(o);return a(e)},ybe=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?ft(ft({},d.type.defaultProps),d.props):d.props,g=m.stackId,v=m.hide;if(v)return f;var w=m[r],_=f[w]||{hasStack:!1,stackGroups:{}};if(Ot(g)){var y=_.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};y.items.push(d),_.hasStack=!0,_.stackGroups[g]=y}else _.stackGroups[Fh("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return ft(ft({},f),{},hl({},w,_))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var w=p.stackGroups[v];return ft(ft({},g),{},hl({},v,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:gbe(e,w.items,o)}))},m)}return ft(ft({},f),{},hl({},d,p))},c)},vbe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=O_e(u,o,s);return e.domain([uv(c),lv(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=C_e(f,o,s);return{niceTicks:d}}return null};function MR(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!be(i[e.dataKey])){var s=Nm(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Kn(i,be(a)?e.dataKey:a);return be(l)?null:e.scale(l)}var jR=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Kn(a,n.dataKey,n.domain[s]);return be(l)?null:n.scale(l)-o/2+i},_be=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},bbe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Ot(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},wbe=function(e){return e.reduce(function(n,r){return[uv(r.concat([n[0]]).filter(ee)),lv(r.concat([n[1]]).filter(ee))]},[1/0,-1/0])},UU=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=wbe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},DR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$R=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Uw=function(e,n,r){if(ye(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(DR.test(e[0])){var o=+DR.exec(e[0])[1];i[0]=n[0]-o}else ye(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if($R.test(e[1])){var a=+$R.exec(e[1])[1];i[1]=n[1]+a}else ye(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},ug=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=PT(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},LR=function(e,n,r){return!e||!e.length||cv(e,sr(r,"type.defaultProps.domain"))?n:e},zU=function(e,n){var r=e.type.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return ft(ft({},Te(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:ZT(e),value:Kn(n,i),type:l,payload:n,chartType:u,hide:c})};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){xbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xbe(t,e,n){return e=Ebe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ebe(t){var e=Tbe(t,"string");return zf(e)=="symbol"?e:e+""}function Tbe(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cg=Math.PI/180,Sbe=function(e){return e*180/Math.PI},Wt=function(e,n,r,i){return{x:e+Math.cos(-cg*i)*r,y:n+Math.sin(-cg*i)*r}},Abe=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Pbe=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Abe({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:Sbe(u),angleInRadian:u}},Ibe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Obe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},BR=function(e,n){var r=e.x,i=e.y,o=Pbe({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=Ibe(n),f=c.startAngle,d=c.endAngle,p=s,m;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}return m?FR(FR({},n),{},{radius:a,angle:Obe(p,n)}):null};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}var Cbe=["offset"];function kbe(t){return jbe(t)||Mbe(t)||Nbe(t)||Rbe()}function Rbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nbe(t,e){if(t){if(typeof t=="string")return zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zw(t,e)}}function Mbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jbe(t){if(Array.isArray(t))return zw(t)}function zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dbe(t,e){if(t==null)return{};var n=$be(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $be(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){Lbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lbe(t,e,n){return e=Vbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vbe(t){var e=Fbe(t,"string");return qf(e)=="symbol"?e:e+""}function Fbe(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wf.apply(this,arguments)}var Bbe=function(e){var n=e.value,r=e.formatter,i=be(e.children)?n:e.children;return ye(r)?r(i):i},Ube=function(e,n){var r=Or(n-e),i=Math.min(Math.abs(n-e),360);return r*i},zbe=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+d)/2,w=Ube(p,m),_=w>=0?1:-1,y,I;i==="insideStart"?(y=p+_*a,I=g):i==="insideEnd"?(y=m-_*a,I=!g):i==="end"&&(y=m+_*a,I=g),I=w<=0?I:!I;var S=Wt(u,c,v,y),P=Wt(u,c,v,y+(I?1:-1)*359),T="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(I?0:1,`,
    `).concat(P.x,",").concat(P.y),x=be(e.id)?Fh("recharts-radial-line-"):e.id;return D.createElement("text",Wf({},r,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:x,d:T})),D.createElement("textPath",{xlinkHref:"#".concat(x)},n))},qbe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var p=Wt(a,s,u+r,d),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,w=Wt(a,s,v,d),_=w.x,y=w.y;return{x:_,y,textAnchor:"middle",verticalAnchor:"middle"}},Wbe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,v=g*i,w=g>0?"end":"start",_=g>0?"start":"end";if(o==="top"){var y={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return St(St({},y),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var I={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:m};return St(St({},I),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-v,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return St(St({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var P={x:s+u+v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return St(St({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:c}:{})}var T=r?{width:u,height:c}:{};return o==="insideLeft"?St({x:s+v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},T):o==="insideRight"?St({x:s+u-v,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},T):o==="insideTop"?St({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:m},T):o==="insideBottom"?St({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},T):o==="insideTopLeft"?St({x:s+v,y:l+d,textAnchor:_,verticalAnchor:m},T):o==="insideTopRight"?St({x:s+u-v,y:l+d,textAnchor:w,verticalAnchor:m},T):o==="insideBottomLeft"?St({x:s+v,y:l+c-d,textAnchor:_,verticalAnchor:p},T):o==="insideBottomRight"?St({x:s+u-v,y:l+c-d,textAnchor:w,verticalAnchor:p},T):fu(o)&&(ee(o.x)||Ia(o.x))&&(ee(o.y)||Ia(o.y))?St({x:s+ts(o.x,u),y:l+ts(o.y,c),textAnchor:"end",verticalAnchor:"end"},T):St({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Hbe=function(e){return"cx"in e&&ee(e.cx)};function cn(t){var e=t.offset,n=e===void 0?5:e,r=Dbe(t,Cbe),i=St({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||be(s)&&be(l)&&!j.isValidElement(u)&&!ye(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var p;if(ye(u)){if(p=j.createElement(u,i),j.isValidElement(p))return p}else p=Bbe(i);var m=Hbe(o),g=Te(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return zbe(i,p,g);var v=m?qbe(i):Wbe(i);return D.createElement(Xm,Wf({className:Ie("recharts-label",f)},g,v,{breakAll:d}),p)}cn.displayName="Label";var qU=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,p=e.top,m=e.left,g=e.width,v=e.height,w=e.clockWise,_=e.labelViewBox;if(_)return _;if(ee(g)&&ee(v)){if(ee(f)&&ee(d))return{x:f,y:d,width:g,height:v};if(ee(p)&&ee(m))return{x:p,y:m,width:g,height:v}}return ee(f)&&ee(d)?{x:f,y:d,width:0,height:0}:ee(n)&&ee(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},Gbe=function(e,n){return e?e===!0?D.createElement(cn,{key:"label-implicit",viewBox:n}):Ot(e)?D.createElement(cn,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===cn?j.cloneElement(e,{key:"label-implicit",viewBox:n}):D.createElement(cn,{key:"label-implicit",content:e,viewBox:n}):ye(e)?D.createElement(cn,{key:"label-implicit",content:e,viewBox:n}):fu(e)?D.createElement(cn,Wf({viewBox:n},e,{key:"label-implicit"})):null:null},Kbe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=qU(e),a=lr(i,cn).map(function(l,u){return j.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Gbe(e.label,n||o);return[s].concat(kbe(a))};cn.parseViewBox=qU;cn.renderCallByParent=Kbe;function Xbe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Ybe=Xbe;const Qbe=ze(Ybe);function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}var Jbe=["valueAccessor"],Zbe=["data","dataKey","clockWise","id","textBreakAll"];function ewe(t){return iwe(t)||rwe(t)||nwe(t)||twe()}function twe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nwe(t,e){if(t){if(typeof t=="string")return qw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qw(t,e)}}function rwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iwe(t){if(Array.isArray(t))return qw(t)}function qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(this,arguments)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){owe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function owe(t,e,n){return e=awe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function awe(t){var e=swe(t,"string");return Hf(e)=="symbol"?e:e+""}function swe(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WR(t,e){if(t==null)return{};var n=lwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var uwe=function(e){return Array.isArray(e.value)?Qbe(e.value):e.value};function Do(t){var e=t.valueAccessor,n=e===void 0?uwe:e,r=WR(t,Jbe),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=WR(r,Zbe);return!i||!i.length?null:D.createElement(mt,{className:"recharts-label-list"},i.map(function(c,f){var d=be(o)?n(c,f):Kn(c&&c.payload,o),p=be(s)?{}:{id:"".concat(s,"-").concat(f)};return D.createElement(cn,fg({},Te(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:cn.parseViewBox(be(a)?c:qR(qR({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Do.displayName="LabelList";function cwe(t,e){return t?t===!0?D.createElement(Do,{key:"labelList-implicit",data:e}):D.isValidElement(t)||ye(t)?D.createElement(Do,{key:"labelList-implicit",data:e,content:t}):fu(t)?D.createElement(Do,fg({data:e},t,{key:"labelList-implicit"})):null:null}function fwe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=lr(r,Do).map(function(a,s){return j.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=cwe(t.label,e);return[o].concat(ewe(i))}Do.renderCallByParent=fwe;function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(this,arguments)}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){hwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hwe(t,e,n){return e=dwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dwe(t){var e=pwe(t,"string");return Gf(e)=="symbol"?e:e+""}function pwe(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mwe=function(e,n){var r=Or(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Kd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/cg,d=u?o:o+a*f,p=Wt(n,r,c,d),m=Wt(n,r,i,d),g=u?o-a*f:o,v=Wt(n,r,c*Math.cos(f*cg),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},WU=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=mwe(a,s),u=a+l,c=Wt(n,r,o,a),f=Wt(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Wt(n,r,i,a),m=Wt(n,r,i,u);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},gwe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Or(c-u),d=Kd({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=d.circleTangency,m=d.lineTangency,g=d.theta,v=Kd({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),w=v.circleTangency,_=v.lineTangency,y=v.theta,I=l?Math.abs(u-c):Math.abs(u-c)-g-y;if(I<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):WU({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(I>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var P=Kd({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),T=P.circleTangency,x=P.lineTangency,O=P.theta,C=Kd({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=C.circleTangency,N=C.lineTangency,R=C.theta,B=l?Math.abs(u-c):Math.abs(u-c)-O-R;if(B<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},ywe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HU=function(e){var n=GR(GR({},ywe),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(a<o||c===f)return null;var p=Ie("recharts-sector",d),m=a-o,g=ts(s,m,0,!0),v;return g>0&&Math.abs(c-f)<360?v=gwe({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):v=WU({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),D.createElement("path",Ww({},Te(n,!0),{className:p,d:v,role:"img"}))};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(this,arguments)}function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){vwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vwe(t,e,n){return e=_we(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _we(t){var e=bwe(t,"string");return Kf(e)=="symbol"?e:e+""}function bwe(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YR={curveBasisClosed:vse,curveBasisOpen:_se,curveBasis:yse,curveBumpX:rse,curveBumpY:ise,curveLinearClosed:bse,curveLinear:Qy,curveMonotoneX:wse,curveMonotoneY:xse,curveNatural:Ese,curveStep:Tse,curveStepAfter:Ase,curveStepBefore:Sse},Xd=function(e){return e.x===+e.x&&e.y===+e.y},ec=function(e){return e.x},tc=function(e){return e.y},wwe=function(e,n){if(ye(e))return e;var r="curve".concat(Xy(e));return(r==="curveMonotone"||r==="curveBump")&&n?YR["".concat(r).concat(n==="vertical"?"Y":"X")]:YR[r]||Qy},xwe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=wwe(r,s),f=u?o.filter(function(g){return Xd(g)}):o,d;if(Array.isArray(a)){var p=u?a.filter(function(g){return Xd(g)}):a,m=f.map(function(g,v){return XR(XR({},g),{},{base:p[v]})});return s==="vertical"?d=Vd().y(tc).x1(ec).x0(function(g){return g.base.x}):d=Vd().x(ec).y1(tc).y0(function(g){return g.base.y}),d.defined(Xd).curve(c),d(m)}return s==="vertical"&&ee(a)?d=Vd().y(tc).x1(ec).x0(a):ee(a)?d=Vd().x(ec).y1(tc).y0(a):d=HF().x(ec).y(tc),d.defined(Xd).curve(c),d(f)},Gw=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?xwe(e):i;return j.createElement("path",Hw({},Te(e,!1),Mm(e),{className:Ie("recharts-curve",n),d:a,ref:o}))},GU={exports:{}},Ewe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Twe=Ewe,Swe=Twe;function KU(){}function XU(){}XU.resetWarningCache=KU;var Awe=function(){function t(r,i,o,a,s,l){if(l!==Swe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:XU,resetWarningCache:KU};return n.PropTypes=n,n};GU.exports=Awe();var Pwe=GU.exports;const Me=ze(Pwe);var Iwe=Object.getOwnPropertyNames,Owe=Object.getOwnPropertySymbols,Cwe=Object.prototype.hasOwnProperty;function QR(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Yd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function JR(t){return Iwe(t).concat(Owe(t))}var kwe=Object.hasOwn||function(t,e){return Cwe.call(t,e)};function ms(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Rwe="__v",Nwe="__o",Mwe="_owner",ZR=Object.getOwnPropertyDescriptor,eN=Object.keys;function jwe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Dwe(t,e){return ms(t.getTime(),e.getTime())}function $we(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Lwe(t,e){return t===e}function tN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var d=a.value,p=s.value;if(n.equals(d[0],p[0],l,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Vwe=ms;function Fwe(t,e,n){var r=eN(t),i=r.length;if(eN(e).length!==i)return!1;for(;i-- >0;)if(!YU(t,e,n,r[i]))return!1;return!0}function nc(t,e,n){var r=JR(t),i=r.length;if(JR(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!YU(t,e,n,o)||(a=ZR(t,o),s=ZR(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Bwe(t,e){return ms(t.valueOf(),e.valueOf())}function Uwe(t,e){return t.source===e.source&&t.flags===e.flags}function nN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function zwe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function qwe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function YU(t,e,n,r){return(r===Mwe||r===Nwe||r===Rwe)&&(t.$$typeof||e.$$typeof)?!0:kwe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Wwe="[object Arguments]",Hwe="[object Boolean]",Gwe="[object Date]",Kwe="[object Error]",Xwe="[object Map]",Ywe="[object Number]",Qwe="[object Object]",Jwe="[object RegExp]",Zwe="[object Set]",exe="[object String]",txe="[object URL]",nxe=Array.isArray,rN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,iN=Object.assign,rxe=Object.prototype.toString.call.bind(Object.prototype.toString);function ixe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var w=typeof m;if(w!==typeof g)return!1;if(w!=="object")return w==="number"?a(m,g,v):w==="function"?i(m,g,v):!1;var _=m.constructor;if(_!==g.constructor)return!1;if(_===Object)return s(m,g,v);if(nxe(m))return e(m,g,v);if(rN!=null&&rN(m))return f(m,g,v);if(_===Date)return n(m,g,v);if(_===RegExp)return u(m,g,v);if(_===Map)return o(m,g,v);if(_===Set)return c(m,g,v);var y=rxe(m);return y===Gwe?n(m,g,v):y===Jwe?u(m,g,v):y===Xwe?o(m,g,v):y===Zwe?c(m,g,v):y===Qwe?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,v):y===txe?d(m,g,v):y===Kwe?r(m,g,v):y===Wwe?s(m,g,v):y===Hwe||y===Ywe||y===exe?l(m,g,v):!1}}function oxe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?nc:jwe,areDatesEqual:Dwe,areErrorsEqual:$we,areFunctionsEqual:Lwe,areMapsEqual:r?QR(tN,nc):tN,areNumbersEqual:Vwe,areObjectsEqual:r?nc:Fwe,arePrimitiveWrappersEqual:Bwe,areRegExpsEqual:Uwe,areSetsEqual:r?QR(nN,nc):nN,areTypedArraysEqual:r?nc:zwe,areUrlsEqual:qwe};if(n&&(i=iN({},i,n(i))),e){var o=Yd(i.areArraysEqual),a=Yd(i.areMapsEqual),s=Yd(i.areObjectsEqual),l=Yd(i.areSetsEqual);i=iN({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function axe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function sxe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,d=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var lxe=ra();ra({strict:!0});ra({circular:!0});ra({circular:!0,strict:!0});ra({createInternalComparator:function(){return ms}});ra({strict:!0,createInternalComparator:function(){return ms}});ra({circular:!0,createInternalComparator:function(){return ms}});ra({circular:!0,createInternalComparator:function(){return ms},strict:!0});function ra(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=oxe(t),l=ixe(s),u=r?r(l):axe(l);return sxe({circular:n,comparator:l,createState:i,equals:u,strict:a})}function uxe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function oN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):uxe(i)};requestAnimationFrame(r)}function Kw(t){"@babel/helpers - typeof";return Kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kw(t)}function cxe(t){return pxe(t)||dxe(t)||hxe(t)||fxe()}function fxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hxe(t,e){if(t){if(typeof t=="string")return aN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aN(t,e)}}function aN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pxe(t){if(Array.isArray(t))return t}function mxe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=cxe(a),l=s[0],u=s.slice(1);if(typeof l=="number"){oN(i.bind(null,u),l);return}i(l),oN(i.bind(null,u));return}Kw(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){QU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QU(t,e,n){return e=gxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gxe(t){var e=yxe(t,"string");return Xf(e)==="symbol"?e:String(e)}function yxe(t,e){if(Xf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vxe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},_xe=function(e){return e},bxe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Bc=function(e,n){return Object.keys(n).reduce(function(r,i){return lN(lN({},r),{},QU({},i,e(i,n[i])))},{})},uN=function(e,n,r){return e.map(function(i){return"".concat(bxe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function wxe(t,e){return Txe(t)||Exe(t,e)||JU(t,e)||xxe()}function xxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Exe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Txe(t){if(Array.isArray(t))return t}function Sxe(t){return Ixe(t)||Pxe(t)||JU(t)||Axe()}function Axe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JU(t,e){if(t){if(typeof t=="string")return Xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xw(t,e)}}function Pxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ixe(t){if(Array.isArray(t))return Xw(t)}function Xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hg=1e-4,ZU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},e3=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},cN=function(e,n){return function(r){var i=ZU(e,n);return e3(i,r)}},Oxe=function(e,n){return function(r){var i=ZU(e,n),o=[].concat(Sxe(i.map(function(a,s){return a*s}).slice(1)),[0]);return e3(o,r)}},fN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=wxe(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=cN(i,a),d=cN(o,s),p=Oxe(i,a),m=function(w){return w>1?1:w<0?0:w},g=function(w){for(var _=w>1?1:w,y=_,I=0;I<8;++I){var S=f(y)-_,P=p(y);if(Math.abs(S-_)<hg||P<hg)return d(y);y=m(y-S/P)}return d(y)};return g.isStepper=!1,g},Cxe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,d){var p=-(c-f)*r,m=d*o,g=d+(p-m)*s/1e3,v=d*s/1e3+c;return Math.abs(v-f)<hg&&Math.abs(g)<hg?[f,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},kxe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fN(i);case"spring":return Cxe();default:if(i.split("(")[0]==="cubic-bezier")return fN(i)}return typeof i=="function"?i:null};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function hN(t){return Mxe(t)||Nxe(t)||t3(t)||Rxe()}function Rxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mxe(t){if(Array.isArray(t))return Qw(t)}function dN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(n),!0).forEach(function(r){Yw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yw(t,e,n){return e=jxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jxe(t){var e=Dxe(t,"string");return Yf(e)==="symbol"?e:String(e)}function Dxe(t,e){if(Yf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $xe(t,e){return Fxe(t)||Vxe(t,e)||t3(t,e)||Lxe()}function Lxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t3(t,e){if(t){if(typeof t=="string")return Qw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qw(t,e)}}function Qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Fxe(t){if(Array.isArray(t))return t}var dg=function(e,n,r){return e+(n-e)*r},Jw=function(e){var n=e.from,r=e.to;return n!==r},Bxe=function t(e,n,r){var i=Bc(function(o,a){if(Jw(a)){var s=e(a.from,a.to,a.velocity),l=$xe(s,2),u=l[0],c=l[1];return Ft(Ft({},a),{},{from:u,velocity:c})}return a},n);return r<1?Bc(function(o,a){return Jw(a)?Ft(Ft({},a),{},{velocity:dg(a.velocity,i[o].velocity,r),from:dg(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Uxe=function(t,e,n,r,i){var o=vxe(t,e),a=o.reduce(function(v,w){return Ft(Ft({},v),{},Yw({},w,[t[w],e[w]]))},{}),s=o.reduce(function(v,w){return Ft(Ft({},v),{},Yw({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return Bc(function(w,_){return _.from},s)},p=function(){return!Object.values(s).filter(Jw).length},m=function(w){u||(u=w);var _=w-u,y=_/n.dt;s=Bxe(n,s,y),i(Ft(Ft(Ft({},t),e),d())),u=w,p()||(l=requestAnimationFrame(f))},g=function(w){c||(c=w);var _=(w-c)/r,y=Bc(function(S,P){return dg.apply(void 0,hN(P).concat([n(_)]))},a);if(i(Ft(Ft(Ft({},t),e),y)),_<1)l=requestAnimationFrame(f);else{var I=Bc(function(S,P){return dg.apply(void 0,hN(P).concat([n(1)]))},a);i(Ft(Ft(Ft({},t),e),I))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}var zxe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qxe(t,e){if(t==null)return{};var n=Wxe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wxe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function u_(t){return Xxe(t)||Kxe(t)||Gxe(t)||Hxe()}function Hxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gxe(t,e){if(t){if(typeof t=="string")return Zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zw(t,e)}}function Kxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xxe(t){if(Array.isArray(t))return Zw(t)}function Zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(n),!0).forEach(function(r){mc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mc(t,e,n){return e=n3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n3(r.key),r)}}function Jxe(t,e,n){return e&&Qxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n3(t){var e=Zxe(t,"string");return $l(e)==="symbol"?e:String(e)}function Zxe(t,e){if($l(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ex(t,e)}function tEe(t){var e=nEe();return function(){var r=pg(t),i;if(e){var o=pg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return tx(this,i)}}function tx(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nx(t)}function nx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pg(t)}var Ui=function(t){eEe(n,t);var e=tEe(n);function n(r,i){var o;Yxe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,d=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(nx(o)),o.changeStyle=o.changeStyle.bind(nx(o)),!s||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),tx(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},tx(o);o.state={style:l?mc({},l,u):u}}else o.state={style:{}};return o}return Jxe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(s){if(!a){var p={style:l?mc({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(lxe(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&d){var v={style:l?mc({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(v)}this.runAnimation(_r(_r({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=Uxe(a,s,kxe(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([d,c,m,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(g,v,w){if(w===0)return g;var _=v.duration,y=v.easing,I=y===void 0?"ease":y,S=v.style,P=v.properties,T=v.onAnimationEnd,x=w>0?a[w-1]:v,O=P||Object.keys(S);if(typeof I=="function"||I==="spring")return[].concat(u_(g),[o.runJSAnimation.bind(o,{from:x.style,to:S,duration:_,easing:I}),_]);var C=uN(O,_,I),k=_r(_r(_r({},x.style),S),{},{transition:C});return[].concat(u_(g),[k,_,T]).filter(_xe)};return this.manager.start([l].concat(u_(a.reduce(p,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=mxe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?mc({},s,l):l,v=uN(Object.keys(g),a,u);m.start([c,o,_r(_r({},g),{},{transition:v}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=qxe(i,zxe),u=j.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,w=m.className,_=j.cloneElement(p,_r(_r({},l),{},{style:_r(_r({},v),c),className:w}));return _};return u===1?f(j.Children.only(o)):D.createElement("div",null,j.Children.map(o,function(d){return f(d)}))}}]),n}(j.PureComponent);Ui.displayName="Animate";Ui.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ui.propTypes={from:Me.oneOfType([Me.object,Me.string]),to:Me.oneOfType([Me.object,Me.string]),attributeName:Me.string,duration:Me.number,begin:Me.number,easing:Me.oneOfType([Me.string,Me.func]),steps:Me.arrayOf(Me.shape({duration:Me.number.isRequired,style:Me.object.isRequired,easing:Me.oneOfType([Me.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Me.func]),properties:Me.arrayOf("string"),onAnimationEnd:Me.func})),children:Me.oneOfType([Me.node,Me.func]),isActive:Me.bool,canBegin:Me.bool,onAnimationEnd:Me.func,shouldReAnimate:Me.bool,onAnimationStart:Me.func,onAnimationReStart:Me.func};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mg.apply(this,arguments)}function rEe(t,e){return sEe(t)||aEe(t,e)||oEe(t,e)||iEe()}function iEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oEe(t,e){if(t){if(typeof t=="string")return mN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mN(t,e)}}function mN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function sEe(t){if(Array.isArray(t))return t}function gN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(n),!0).forEach(function(r){lEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lEe(t,e,n){return e=uEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uEe(t){var e=cEe(t,"string");return Qf(e)=="symbol"?e:e+""}function cEe(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vN=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=o[d]>a?a:o[d];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);c="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},fEe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),d=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},hEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eS=function(e){var n=yN(yN({},hEe),e),r=j.useRef(),i=j.useState(-1),o=rEe(i,2),a=o[0],s=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&s(I)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,w=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var y=Ie("recharts-rectangle",p);return _?D.createElement(Ui,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:_},function(I){var S=I.width,P=I.height,T=I.x,x=I.y;return D.createElement(Ui,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:w,easing:m},D.createElement("path",mg({},Te(n,!0),{className:y,d:vN(T,x,S,P,d),ref:r})))}):D.createElement("path",mg({},Te(n,!0),{className:y,d:vN(l,u,c,f,d)}))};function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(this,arguments)}var tS=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Ie("recharts-dot",o);return n===+n&&r===+r&&i===+i?j.createElement("circle",rx({},Te(e,!1),Mm(e),{className:a,cx:n,cy:r,r:i})):null};function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}var dEe=["x","y","top","left","width","height","className"];function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(this,arguments)}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){mEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mEe(t,e,n){return e=gEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gEe(t){var e=yEe(t,"string");return Jf(e)=="symbol"?e:e+""}function yEe(t,e){if(Jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vEe(t,e){if(t==null)return{};var n=_Ee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Ee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bEe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},wEe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,p=d===void 0?0:d,m=e.className,g=vEe(e,dEe),v=pEe({x:r,y:o,top:s,left:u,width:f,height:p},g);return!ee(r)||!ee(o)||!ee(f)||!ee(p)||!ee(s)||!ee(u)?null:D.createElement("path",ix({},Te(v,!0),{className:Ie("recharts-cross",m),d:bEe(r,o,f,p,s,u)}))},xEe=gB,EEe=xEe(Object.getPrototypeOf,Object),TEe=EEe,SEe=Gi,AEe=TEe,PEe=Ki,IEe="[object Object]",OEe=Function.prototype,CEe=Object.prototype,r3=OEe.toString,kEe=CEe.hasOwnProperty,REe=r3.call(Object);function NEe(t){if(!PEe(t)||SEe(t)!=IEe)return!1;var e=AEe(t);if(e===null)return!0;var n=kEe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&r3.call(n)==REe}var MEe=NEe;const jEe=ze(MEe);var DEe=Gi,$Ee=Ki,LEe="[object Boolean]";function VEe(t){return t===!0||t===!1||$Ee(t)&&DEe(t)==LEe}var FEe=VEe;const BEe=ze(FEe);function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function gg(){return gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gg.apply(this,arguments)}function UEe(t,e){return HEe(t)||WEe(t,e)||qEe(t,e)||zEe()}function zEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qEe(t,e){if(t){if(typeof t=="string")return bN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bN(t,e)}}function bN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function HEe(t){if(Array.isArray(t))return t}function wN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wN(Object(n),!0).forEach(function(r){GEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GEe(t,e,n){return e=KEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KEe(t){var e=XEe(t,"string");return Zf(e)=="symbol"?e:e+""}function XEe(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EN=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},YEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QEe=function(e){var n=xN(xN({},YEe),e),r=j.useRef(),i=j.useState(-1),o=UEe(i,2),a=o[0],s=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&s(y)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var _=Ie("recharts-trapezoid",p);return w?D.createElement(Ui,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:g,animationEasing:m,isActive:w},function(y){var I=y.upperWidth,S=y.lowerWidth,P=y.height,T=y.x,x=y.y;return D.createElement(Ui,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},D.createElement("path",gg({},Te(n,!0),{className:_,d:EN(T,x,I,S,P),ref:r})))}):D.createElement("g",null,D.createElement("path",gg({},Te(n,!0),{className:_,d:EN(l,u,c,f,d)})))},JEe=["option","shapeType","propTransformer","activeClassName","isActive"];function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function ZEe(t,e){if(t==null)return{};var n=e1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){t1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t1e(t,e,n){return e=n1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n1e(t){var e=r1e(t,"string");return eh(e)=="symbol"?e:e+""}function r1e(t,e){if(eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i1e(t,e){return yg(yg({},e),t)}function o1e(t,e){return t==="symbols"}function SN(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return D.createElement(eS,n);case"trapezoid":return D.createElement(QEe,n);case"sector":return D.createElement(HU,n);case"symbols":if(o1e(e))return D.createElement(_T,n);break;default:return null}}function a1e(t){return j.isValidElement(t)?t.props:t}function s1e(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?i1e:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=ZEe(t,JEe),u;if(j.isValidElement(e))u=j.cloneElement(e,yg(yg({},l),a1e(e)));else if(ye(e))u=e(l);else if(jEe(e)&&!BEe(e)){var c=i(e,l);u=D.createElement(SN,{shapeType:n,elementProps:c})}else{var f=l;u=D.createElement(SN,{shapeType:n,elementProps:f})}return s?D.createElement(mt,{className:a},u):u}function dv(t,e){return e!=null&&"trapezoids"in t.props}function pv(t,e){return e!=null&&"sectors"in t.props}function th(t,e){return e!=null&&"points"in t.props}function l1e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function u1e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function c1e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function f1e(t,e){var n;return dv(t,e)?n=l1e:pv(t,e)?n=u1e:th(t,e)&&(n=c1e),n}function h1e(t,e){var n;return dv(t,e)?n="trapezoids":pv(t,e)?n="sectors":th(t,e)&&(n="points"),n}function d1e(t,e){if(dv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(pv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return th(t,e)?e.payload:{}}function p1e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=h1e(n,e),o=d1e(n,e),a=r.filter(function(l,u){var c=cv(o,l),f=n.props[i].filter(function(m){var g=f1e(n,e);return g(m,e)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var m1e=Math.ceil,g1e=Math.max;function y1e(t,e,n,r){for(var i=-1,o=g1e(m1e((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var v1e=y1e,_1e=jB,AN=1/0,b1e=17976931348623157e292;function w1e(t){if(!t)return t===0?t:0;if(t=_1e(t),t===AN||t===-AN){var e=t<0?-1:1;return e*b1e}return t===t?t:0}var i3=w1e,x1e=v1e,E1e=tv,c_=i3;function T1e(t){return function(e,n,r){return r&&typeof r!="number"&&E1e(e,n,r)&&(n=r=void 0),e=c_(e),n===void 0?(n=e,e=0):n=c_(n),r=r===void 0?e<n?1:-1:c_(r),x1e(e,n,r,t)}}var S1e=T1e,A1e=S1e,P1e=A1e(),I1e=P1e;const vg=ze(I1e);function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(r){o3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o3(t,e,n){return e=O1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O1e(t){var e=C1e(t,"string");return nh(e)=="symbol"?e:e+""}function C1e(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k1e=["Webkit","Moz","O","ms"],R1e=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=k1e.reduce(function(o,a){return IN(IN({},o),{},o3({},a+r,n))},{});return i[e]=n,i};function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function _g(){return _g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_g.apply(this,arguments)}function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(n),!0).forEach(function(r){Dn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s3(r.key),r)}}function M1e(t,e,n){return e&&CN(t.prototype,e),n&&CN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function j1e(t,e,n){return e=bg(e),D1e(t,a3()?Reflect.construct(e,n||[],bg(t).constructor):e.apply(t,n))}function D1e(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $1e(t)}function $1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a3=function(){return!!t})()}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bg(t)}function L1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ox(t,e)}function ox(t,e){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ox(t,e)}function Dn(t,e,n){return e=s3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s3(t){var e=V1e(t,"string");return Ll(e)=="symbol"?e:e+""}function V1e(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var F1e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Vc().domain(vg(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},kN=function(e){return e.changedTouches&&!!e.changedTouches.length},Vl=function(t){function e(n){var r;return N1e(this,e),r=j1e(this,e,[n]),Dn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Dn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Dn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Dn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Dn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Dn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Dn(r,"handleSlideDragStart",function(i){var o=kN(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return L1e(e,t),M1e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(a,f),m=e.getIndexInRange(a,d);return{startIndex:p-p%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Kn(o[r],s,r);return ye(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+c-f-s,u+c-f-a):g<0&&(g=Math.max(g,u-a,u-s));var v=this.getIndex({startX:a+g,endX:s+g});(v.startIndex!==d||v.endIndex!==p)&&m&&m(v),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=kN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,m=c.onChange,g=c.gap,v=c.data,w={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+d-p-u):_<0&&(_=Math.max(_,f-u)),w[a]=u+_;var y=this.getIndex(w),I=y.startIndex,S=y.endIndex,P=function(){var x=v.length-1;return a==="startX"&&(s>l?I%g===0:S%g===0)||s<l&&S===x||a==="endX"&&(s>l?S%g===0:I%g===0)||s>l&&S===x};this.setState(Dn(Dn({},a,u+_),"brushMoveStartX",r.pageX),function(){m&&P()&&m(y)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Dn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=j.Children.only(u);return f?D.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,w=Math.max(r,this.props.x),_=f_(f_({},Te(this.props,!1)),{},{x:w,y:u,width:c,height:f}),y=p||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[v])===null||a===void 0?void 0:a.name);return D.createElement(mt,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,m={pointerEvents:"none",fill:u};return D.createElement(mt,{className:"recharts-brush-texts"},D.createElement(Xm,_g({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:a+s/2},m),this.getTextOfTick(i)),D.createElement(Xm,_g({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,g=d.isTextActive,v=d.isSlideMoving,w=d.isTravellerMoving,_=d.isTravellerFocused;if(!i||!i.length||!ee(s)||!ee(l)||!ee(u)||!ee(c)||u<=0||c<=0)return null;var y=Ie("recharts-brush",o),I=D.Children.count(a)===1,S=R1e("userSelect","none");return D.createElement(mt,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||w||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return D.isValidElement(r)?o=D.cloneElement(r,i):ye(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return f_({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?F1e({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(j.PureComponent);Dn(Vl,"displayName","Brush");Dn(Vl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var B1e=AT;function U1e(t,e){var n;return B1e(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var z1e=U1e,q1e=lB,W1e=ea,H1e=z1e,G1e=Nn,K1e=tv;function X1e(t,e,n){var r=G1e(t)?q1e:H1e;return n&&K1e(t,e,n)&&(e=void 0),r(t,W1e(e))}var Y1e=X1e;const Q1e=ze(Y1e);var Jr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},RN=CB;function J1e(t,e,n){e=="__proto__"&&RN?RN(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Z1e=J1e,eTe=Z1e,tTe=IB,nTe=ea;function rTe(t,e){var n={};return e=nTe(e),tTe(t,function(r,i,o){eTe(n,i,e(r,i,o))}),n}var iTe=rTe;const oTe=ze(iTe);function aTe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var sTe=aTe,lTe=AT;function uTe(t,e){var n=!0;return lTe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var cTe=uTe,fTe=sTe,hTe=cTe,dTe=ea,pTe=Nn,mTe=tv;function gTe(t,e,n){var r=pTe(t)?fTe:hTe;return n&&mTe(t,e,n)&&(e=void 0),r(t,dTe(e))}var yTe=gTe;const l3=ze(yTe);var vTe=["x","y"];function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(this,arguments)}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){_Te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Te(t,e,n){return e=bTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bTe(t){var e=wTe(t,"string");return rh(e)=="symbol"?e:e+""}function wTe(t,e){if(rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xTe(t,e){if(t==null)return{};var n=ETe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ETe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TTe(t,e){var n=t.x,r=t.y,i=xTe(t,vTe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return rc(rc(rc(rc(rc({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function MN(t){return D.createElement(s1e,ax({shapeType:"rectangle",propTransformer:TTe,activeClassName:"recharts-active-bar"},t))}var STe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ee(r)||Uoe(r);return o?e(r,i):(o||rs(),n)}},ATe=["value","background"],u3;function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function PTe(t,e){if(t==null)return{};var n=ITe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ITe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wg.apply(this,arguments)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){wo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f3(r.key),r)}}function CTe(t,e,n){return e&&DN(t.prototype,e),n&&DN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kTe(t,e,n){return e=xg(e),RTe(t,c3()?Reflect.construct(e,n||[],xg(t).constructor):e.apply(t,n))}function RTe(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NTe(t)}function NTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c3=function(){return!!t})()}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xg(t)}function MTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sx(t,e)}function sx(t,e){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sx(t,e)}function wo(t,e,n){return e=f3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f3(t){var e=jTe(t,"string");return Fl(e)=="symbol"?e:e+""}function jTe(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gs=function(t){function e(){var n;OTe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=kTe(this,e,[].concat(i)),wo(n,"state",{isAnimationFinished:!1}),wo(n,"id",Fh("recharts-bar-")),wo(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),wo(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return MTe(e,t),CTe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Te(this.props,!1);return r&&r.map(function(f,d){var p=d===l,m=p?u:a,g=_t(_t(_t({},c),f),{},{isActive:p,option:m,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(mt,wg({className:"recharts-bar-rectangle"},jm(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),D.createElement(MN,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return D.createElement(Ui,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=o.map(function(v,w){var _=d&&d[w];if(_){var y=Ar(_.x,v.x),I=Ar(_.y,v.y),S=Ar(_.width,v.width),P=Ar(_.height,v.height);return _t(_t({},v),{},{x:y(m),y:I(m),width:S(m),height:P(m)})}if(a==="horizontal"){var T=Ar(0,v.height),x=T(m);return _t(_t({},v),{},{y:v.y+v.height-x,height:x})}var O=Ar(0,v.width),C=O(m);return _t(_t({},v),{},{width:C})});return D.createElement(mt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!cv(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Te(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,d=PTe(u,ATe);if(!f)return null;var p=_t(_t(_t(_t(_t({},d),{},{fill:"#eee"},f),l),jm(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return D.createElement(MN,wg({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=lr(c,Hh);if(!f)return null;var d=u==="vertical"?a[0].height/2:a[0].width/2,p=function(v,w){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:Kn(v,w)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(mt,m,f.map(function(g){return D.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,w=Ie("recharts-bar",a),_=s&&s.allowDataOverflow,y=l&&l.allowDataOverflow,I=_||y,S=be(g)?this.id:g;return D.createElement(mt,{className:w},_||y?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(S)},D.createElement("rect",{x:_?u:u-f/2,y:y?c:c-d/2,width:_?f:f*2,height:y?d:d*2}))):null,D.createElement(mt,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,S),(!p||v)&&Do.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(j.PureComponent);u3=gs;wo(gs,"displayName","Bar");wo(gs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!vu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});wo(gs,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=fbe(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,v=g!==void 0?_t(_t({},g),n.props):n.props,w=v.dataKey,_=v.children,y=v.minPointSize,I=m==="horizontal"?a:o,S=u?I.scale.domain():null,P=_be({numericAxis:I}),T=lr(_,$B),x=f.map(function(O,C){var k,N,R,B,V,F;u?k=hbe(u[c+C],S):(k=Kn(O,w),Array.isArray(k)||(k=[P,k]));var q=STe(y,u3.defaultProps.minPointSize)(k[1],C);if(m==="horizontal"){var L,z=[a.scale(k[0]),a.scale(k[1])],G=z[0],Q=z[1];N=jR({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:O,index:C}),R=(L=Q??G)!==null&&L!==void 0?L:void 0,B=p.size;var K=G-Q;if(V=Number.isNaN(K)?0:K,F={x:N,y:a.y,width:B,height:a.height},Math.abs(q)>0&&Math.abs(V)<Math.abs(q)){var re=Or(V||q)*(Math.abs(q)-Math.abs(V));R-=re,V+=re}}else{var ve=[o.scale(k[0]),o.scale(k[1])],Ae=ve[0],je=ve[1];if(N=Ae,R=jR({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:O,index:C}),B=je-Ae,V=p.size,F={x:o.x,y:R,width:o.width,height:V},Math.abs(q)>0&&Math.abs(B)<Math.abs(q)){var gt=Or(B||q)*(Math.abs(q)-Math.abs(B));B+=gt}}return _t(_t(_t({},O),{},{x:N,y:R,width:B,height:V,value:u?k:k[1],payload:O,background:F},T&&T[C]&&T[C].props),{},{tooltipPayload:[zU(n,O)],tooltipPosition:{x:N+B/2,y:R+V/2}})});return _t({data:x,layout:m},d)});function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function DTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h3(r.key),r)}}function $Te(t,e,n){return e&&$N(t.prototype,e),n&&$N(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){mv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mv(t,e,n){return e=h3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h3(t){var e=LTe(t,"string");return ih(e)=="symbol"?e:e+""}function LTe(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d3=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!Ln(u,gs);return c.reduce(function(p,m){var g=n[m],v=g.orientation,w=g.domain,_=g.padding,y=_===void 0?{}:_,I=g.mirror,S=g.reversed,P="".concat(v).concat(I?"Mirror":""),T,x,O,C,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var N=w[1]-w[0],R=1/0,B=g.categoricalDomain.sort(Woe);if(B.forEach(function(ve,Ae){Ae>0&&(R=Math.min((ve||0)-(B[Ae-1]||0),R))}),Number.isFinite(R)){var V=R/N,F=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(T=V*F/2),g.padding==="no-gap"){var q=ts(e.barCategoryGap,V*F),L=V*F/2;T=L-q-(L-q)/F*q}}}i==="xAxis"?x=[r.left+(y.left||0)+(T||0),r.left+r.width-(y.right||0)-(T||0)]:i==="yAxis"?x=l==="horizontal"?[r.top+r.height-(y.bottom||0),r.top+(y.top||0)]:[r.top+(y.top||0)+(T||0),r.top+r.height-(y.bottom||0)-(T||0)]:x=g.range,S&&(x=[x[1],x[0]]);var z=ube(g,o,d),G=z.scale,Q=z.realScaleType;G.domain(w).range(x),cbe(G);var K=vbe(G,Er(Er({},g),{},{realScaleType:Q}));i==="xAxis"?(k=v==="top"&&!I||v==="bottom"&&I,O=r.left,C=f[P]-k*g.height):i==="yAxis"&&(k=v==="left"&&!I||v==="right"&&I,O=f[P]-k*g.width,C=r.top);var re=Er(Er(Er({},g),K),{},{realScaleType:Q,x:O,y:C,scale:G,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return re.bandSize=ug(re,K),!g.hide&&i==="xAxis"?f[P]+=(k?-1:1)*re.height:g.hide||(f[P]+=(k?-1:1)*re.width),Er(Er({},p),{},mv({},m,re))},{})},p3=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},VTe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return p3({x:n,y:r},{x:i,y:o})},m3=function(){function t(e){DTe(this,t),this.scale=e}return $Te(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();mv(m3,"EPS",1e-4);var nS=function(e){var n=Object.keys(e).reduce(function(r,i){return Er(Er({},r),{},mv({},i,m3.create(e[i])))},{});return Er(Er({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return oTe(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return l3(i,function(o,a){return n[a].isInRange(o)})}})};function FTe(t){return(t%180+180)%180}var BTe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=FTe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},UTe=ea,zTe=Bh,qTe=Zy;function WTe(t){return function(e,n,r){var i=Object(e);if(!zTe(e)){var o=UTe(n);e=qTe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var HTe=WTe,GTe=i3;function KTe(t){var e=GTe(t),n=e%1;return e===e?n?e-n:e:0}var XTe=KTe,YTe=xB,QTe=ea,JTe=XTe,ZTe=Math.max;function eSe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:JTe(n);return i<0&&(i=ZTe(r+i,0)),YTe(t,QTe(e),i)}var tSe=eSe,nSe=HTe,rSe=tSe,iSe=nSe(rSe),oSe=iSe;const aSe=ze(oSe);var sSe=Kie(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),rS=j.createContext(void 0),iS=j.createContext(void 0),g3=j.createContext(void 0),y3=j.createContext({}),v3=j.createContext(void 0),_3=j.createContext(0),b3=j.createContext(0),VN=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=sSe(o);return D.createElement(rS.Provider,{value:r},D.createElement(iS.Provider,{value:i},D.createElement(y3.Provider,{value:o},D.createElement(g3.Provider,{value:c},D.createElement(v3.Provider,{value:a},D.createElement(_3.Provider,{value:u},D.createElement(b3.Provider,{value:l},s)))))))},lSe=function(){return j.useContext(v3)},w3=function(e){var n=j.useContext(rS);n==null&&rs();var r=n[e];return r==null&&rs(),r},uSe=function(){var e=j.useContext(rS);return go(e)},cSe=function(){var e=j.useContext(iS),n=aSe(e,function(r){return l3(r.domain,Number.isFinite)});return n||go(e)},x3=function(e){var n=j.useContext(iS);n==null&&rs();var r=n[e];return r==null&&rs(),r},fSe=function(){var e=j.useContext(g3);return e},hSe=function(){return j.useContext(y3)},oS=function(){return j.useContext(b3)},aS=function(){return j.useContext(_3)};function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function dSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T3(r.key),r)}}function mSe(t,e,n){return e&&pSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gSe(t,e,n){return e=Eg(e),ySe(t,E3()?Reflect.construct(e,n||[],Eg(t).constructor):e.apply(t,n))}function ySe(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vSe(t)}function vSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E3=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eg(t)}function _Se(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lx(t,e)}function lx(t,e){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lx(t,e)}function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){sS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sS(t,e,n){return e=T3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T3(t){var e=bSe(t,"string");return Bl(e)=="symbol"?e:e+""}function bSe(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wSe(t,e){return SSe(t)||TSe(t,e)||ESe(t,e)||xSe()}function xSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ESe(t,e){if(t){if(typeof t=="string")return UN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UN(t,e)}}function UN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function SSe(t){if(Array.isArray(t))return t}function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ux.apply(this,arguments)}var ASe=function(e,n){var r;return D.isValidElement(e)?r=D.cloneElement(e,n):ye(e)?r=e(n):r=D.createElement("line",ux({},n,{className:"recharts-reference-line-line"})),r},PSe=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,d=o.width,p=o.height;if(r){var m=u.y,g=e.y.apply(m,{position:a});if(Jr(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:c+d,y:g},{x:c,y:g}];return l==="left"?v.reverse():v}if(n){var w=u.x,_=e.x.apply(w,{position:a});if(Jr(u,"discard")&&!e.x.isInRange(_))return null;var y=[{x:_,y:f+p},{x:_,y:f}];return s==="top"?y.reverse():y}if(i){var I=u.segment,S=I.map(function(P){return e.apply(P,{position:a})});return Jr(u,"discard")&&Q1e(S,function(P){return!e.isInRange(P)})?null:S}return null};function ISe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=lSe(),c=w3(i),f=x3(o),d=fSe();if(!u||!d)return null;Ai(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=nS({x:c.scale,y:f.scale}),m=Ot(e),g=Ot(n),v=r&&r.length===2,w=PSe(p,m,g,v,d,t.position,c.orientation,f.orientation,t);if(!w)return null;var _=wSe(w,2),y=_[0],I=y.x,S=y.y,P=_[1],T=P.x,x=P.y,O=Jr(t,"hidden")?"url(#".concat(u,")"):void 0,C=BN(BN({clipPath:O},Te(t,!0)),{},{x1:I,y1:S,x2:T,y2:x});return D.createElement(mt,{className:Ie("recharts-reference-line",s)},ASe(a,C),cn.renderCallByParent(t,VTe({x1:I,y1:S,x2:T,y2:x})))}var lS=function(t){function e(){return dSe(this,e),gSe(this,e,arguments)}return _Se(e,t),mSe(e,[{key:"render",value:function(){return D.createElement(ISe,this.props)}}])}(D.Component);sS(lS,"displayName","ReferenceLine");sS(lS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cx.apply(this,arguments)}function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){gv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A3(r.key),r)}}function kSe(t,e,n){return e&&CSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RSe(t,e,n){return e=Tg(e),NSe(t,S3()?Reflect.construct(e,n||[],Tg(t).constructor):e.apply(t,n))}function NSe(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MSe(t)}function MSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S3=function(){return!!t})()}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(t)}function jSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fx(t,e)}function fx(t,e){return fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fx(t,e)}function gv(t,e,n){return e=A3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A3(t){var e=DSe(t,"string");return Ul(e)=="symbol"?e:e+""}function DSe(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $Se=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=nS({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Jr(e,"discard")&&!a.isInRange(s)?null:s},yv=function(t){function e(){return OSe(this,e),RSe(this,e,arguments)}return jSe(e,t),kSe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Ot(i),c=Ot(o);if(Ai(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=$Se(this.props);if(!f)return null;var d=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,w=Jr(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=qN(qN({clipPath:w},Te(this.props,!0)),{},{cx:d,cy:p});return D.createElement(mt,{className:Ie("recharts-reference-dot",v)},e.renderDot(g,_),cn.renderCallByParent(this.props,{x:d-a,y:p-a,width:2*a,height:2*a}))}}])}(D.Component);gv(yv,"displayName","ReferenceDot");gv(yv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gv(yv,"renderDot",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):ye(t)?n=t(e):n=D.createElement(tS,cx({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function hx(){return hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hx.apply(this,arguments)}function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function WN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(n),!0).forEach(function(r){vv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I3(r.key),r)}}function FSe(t,e,n){return e&&VSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BSe(t,e,n){return e=Sg(e),USe(t,P3()?Reflect.construct(e,n||[],Sg(t).constructor):e.apply(t,n))}function USe(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zSe(t)}function zSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P3=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sg(t)}function qSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dx(t,e)}function dx(t,e){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dx(t,e)}function vv(t,e,n){return e=I3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I3(t){var e=WSe(t,"string");return zl(e)=="symbol"?e:e+""}function WSe(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HSe=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=nS({x:c.scale,y:f.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Jr(o,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:p3(p,m)},_v=function(t){function e(){return LSe(this,e),BSe(this,e,arguments)}return qSe(e,t),FSe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ai(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ot(i),d=Ot(o),p=Ot(a),m=Ot(s),g=this.props.shape;if(!f&&!d&&!p&&!m&&!g)return null;var v=HSe(f,d,p,m,this.props);if(!v&&!g)return null;var w=Jr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return D.createElement(mt,{className:Ie("recharts-reference-area",l)},e.renderRect(g,HN(HN({clipPath:w},Te(this.props,!0)),v)),cn.renderCallByParent(this.props,v))}}])}(D.Component);vv(_v,"displayName","ReferenceArea");vv(_v,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});vv(_v,"renderRect",function(t,e){var n;return D.isValidElement(t)?n=D.cloneElement(t,e):ye(t)?n=t(e):n=D.createElement(eS,hx({},e,{className:"recharts-reference-area-rect"})),n});function O3(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function GSe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return BTe(r,n)}function KSe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Ag(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function XSe(t,e){return O3(t,e+1)}function YSe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:O3(r,u)};var g=l,v,w=function(){return v===void 0&&(v=n(m,g)),v},_=m.coordinate,y=l===0||Ag(t,_,w,c,s);y||(l=0,c=a,u+=1),y&&(c=_+t*(w()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function GN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(n),!0).forEach(function(r){QSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QSe(t,e,n){return e=JSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JSe(t){var e=ZSe(t,"string");return oh(e)=="symbol"?e:e+""}function ZSe(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eAe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(d){var p=o[d],m,g=function(){return m===void 0&&(m=n(p,d)),m};if(d===a-1){var v=t*(p.coordinate+t*g()/2-l);o[d]=p=on(on({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else o[d]=p=on(on({},p),{},{tickCoord:p.coordinate});var w=Ag(t,p.tickCoord,g,s,l);w&&(l=p.tickCoord-t*(g()/2+i),o[d]=on(on({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function tAe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),d=t*(c.coordinate+t*f/2-u);a[s-1]=c=on(on({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Ag(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),a[s-1]=on(on({},c),{},{isShow:!0}))}for(var m=o?s-1:s,g=function(_){var y=a[_],I,S=function(){return I===void 0&&(I=n(y,_)),I};if(_===0){var P=t*(y.coordinate-t*S()/2-l);a[_]=y=on(on({},y),{},{tickCoord:P<0?y.coordinate-P*t:y.coordinate})}else a[_]=y=on(on({},y),{},{tickCoord:y.coordinate});var T=Ag(t,y.tickCoord,S,l,u);T&&(l=y.tickCoord+t*(S()/2+i),a[_]=on(on({},y),{},{isShow:!0}))},v=0;v<m;v++)g(v);return a}function uS(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ee(l)||vu.isSsr)return XSe(i,typeof l=="number"&&ee(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",m=c&&p==="width"?Lc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(y,I){var S=ye(u)?u(y.value,I):y.value;return p==="width"?GSe(Lc(S,{fontSize:e,letterSpacing:n}),m,f):Lc(S,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?Or(i[1].coordinate-i[0].coordinate):1,w=KSe(o,v,p);return l==="equidistantPreserveStart"?YSe(v,w,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=tAe(v,w,g,i,a,l==="preserveStartEnd"):d=eAe(v,w,g,i,a),d.filter(function(_){return _.isShow}))}var nAe=["viewBox"],rAe=["viewBox"],iAe=["ticks"];function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function Ys(){return Ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ys.apply(this,arguments)}function KN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(n),!0).forEach(function(r){cS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h_(t,e){if(t==null)return{};var n=oAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k3(r.key),r)}}function sAe(t,e,n){return e&&XN(t.prototype,e),n&&XN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lAe(t,e,n){return e=Pg(e),uAe(t,C3()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function uAe(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cAe(t)}function cAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C3=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function fAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&px(t,e)}function px(t,e){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},px(t,e)}function cS(t,e,n){return e=k3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k3(t){var e=hAe(t,"string");return ql(e)=="symbol"?e:e+""}function hAe(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xu=function(t){function e(n){var r;return aAe(this,e),r=lAe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return fAe(e,t),sAe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=h_(r,nAe),s=this.props,l=s.viewBox,u=h_(s,rAe);return!ul(o,l)||!ul(a,u)||!ul(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,m,g,v,w,_,y=f?-1:1,I=r.tickSize||c,S=ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,v=a+ +!f*l,g=v-y*I,_=g-y*d,w=S;break;case"left":g=v=r.coordinate,m=o+ +!f*s,p=m-y*I,w=p-y*d,_=S;break;case"right":g=v=r.coordinate,m=o+ +f*s,p=m+y*I,w=p+y*d,_=S;break;default:p=m=r.coordinate,v=a+ +f*l,g=v+y*I,_=g+y*d,w=S;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Tt(Tt(Tt({},Te(this.props,!1)),Te(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=Tt(Tt({},f),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Tt(Tt({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return D.createElement("line",Ys({},f,{className:Ie("recharts-cartesian-axis-line",sr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,d=s.unit,p=uS(Tt(Tt({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Te(this.props,!1),w=Te(c,!1),_=Tt(Tt({},v),{},{fill:"none"},Te(l,!1)),y=p.map(function(I,S){var P=a.getTickLineCoord(I),T=P.line,x=P.tick,O=Tt(Tt(Tt(Tt({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:u},w),x),{},{index:S,payload:I,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(mt,Ys({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},jm(a.props,I,S)),l&&D.createElement("line",Ys({},_,T,{className:Ie("recharts-cartesian-axis-tick-line",sr(l,"className"))})),c&&e.renderTickItem(c,O,"".concat(ye(f)?f(I.value,S):I.value).concat(d||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=h_(f,iAe),m=d;return ye(l)&&(m=d&&d.length>0?l(this.props):l(p)),a<=0||s<=0||!m||!m.length?null:D.createElement(mt,{className:Ie("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),cn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Ie(i.className,"recharts-cartesian-axis-tick-value");return D.isValidElement(r)?a=D.cloneElement(r,Tt(Tt({},i),{},{className:s})):ye(r)?a=r(Tt(Tt({},i),{},{className:s})):a=D.createElement(Xm,Ys({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(j.Component);cS(xu,"displayName","CartesianAxis");cS(xu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dAe=["x1","y1","x2","y2","key"],pAe=["offset"];function is(t){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(t)}function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(r){mAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mAe(t,e,n){return e=gAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gAe(t){var e=yAe(t,"string");return is(e)=="symbol"?e:e+""}function yAe(t,e){if(is(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ka(){return ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ka.apply(this,arguments)}function QN(t,e){if(t==null)return{};var n=vAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _Ae=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return D.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function R3(t,e){var n;if(D.isValidElement(t))n=D.cloneElement(t,e);else if(ye(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=QN(e,dAe),u=Te(l,!1);u.offset;var c=QN(u,pAe);n=D.createElement("line",ka({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function bAe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=fn(fn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return R3(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function wAe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=fn(fn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return R3(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function xAe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?i+a-d:c[p+1]-d;if(g<=0)return null;var v=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function EAe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?o+s-d:c[p+1]-d;if(g<=0)return null;var v=p%r.length;return D.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:g,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var TAe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return BU(uS(fn(fn(fn({},xu.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},SAe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return BU(uS(fn(fn(fn({},xu.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Ss={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function mx(t){var e,n,r,i,o,a,s=oS(),l=aS(),u=hSe(),c=fn(fn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ss.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ss.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ss.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ss.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ss.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ss.verticalFill,x:ee(t.x)?t.x:u.left,y:ee(t.y)?t.y:u.top,width:ee(t.width)?t.width:u.width,height:ee(t.height)?t.height:u.height}),f=c.x,d=c.y,p=c.width,m=c.height,g=c.syncWithTicks,v=c.horizontalValues,w=c.verticalValues,_=uSe(),y=cSe();if(!ee(p)||p<=0||!ee(m)||m<=0||!ee(f)||f!==+f||!ee(d)||d!==+d)return null;var I=c.verticalCoordinatesGenerator||TAe,S=c.horizontalCoordinatesGenerator||SAe,P=c.horizontalPoints,T=c.verticalPoints;if((!P||!P.length)&&ye(S)){var x=v&&v.length,O=S({yAxis:y?fn(fn({},y),{},{ticks:x?v:y.ticks}):void 0,width:s,height:l,offset:u},x?!0:g);Ai(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(is(O),"]")),Array.isArray(O)&&(P=O)}if((!T||!T.length)&&ye(I)){var C=w&&w.length,k=I({xAxis:_?fn(fn({},_),{},{ticks:C?w:_.ticks}):void 0,width:s,height:l,offset:u},C?!0:g);Ai(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(is(k),"]")),Array.isArray(k)&&(T=k)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(_Ae,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),D.createElement(bAe,ka({},c,{offset:u,horizontalPoints:P,xAxis:_,yAxis:y})),D.createElement(wAe,ka({},c,{offset:u,verticalPoints:T,xAxis:_,yAxis:y})),D.createElement(xAe,ka({},c,{horizontalPoints:P})),D.createElement(EAe,ka({},c,{verticalPoints:T})))}mx.displayName="CartesianGrid";var AAe=["type","layout","connectNulls","ref"],PAe=["key"];function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function JN(t,e){if(t==null)return{};var n=IAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uc.apply(this,arguments)}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){Tr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function As(t){return RAe(t)||kAe(t)||CAe(t)||OAe()}function OAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CAe(t,e){if(t){if(typeof t=="string")return gx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gx(t,e)}}function kAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RAe(t){if(Array.isArray(t))return gx(t)}function gx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M3(r.key),r)}}function MAe(t,e,n){return e&&e2(t.prototype,e),n&&e2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jAe(t,e,n){return e=Ig(e),DAe(t,N3()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function DAe(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ae(t)}function $Ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N3=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function LAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yx(t,e)}function yx(t,e){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yx(t,e)}function Tr(t,e,n){return e=M3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M3(t){var e=VAe(t,"string");return Wl(e)=="symbol"?e:e+""}function VAe(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hl=function(t){function e(){var n;NAe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=jAe(this,e,[].concat(i)),Tr(n,"state",{isAnimationFinished:!0,totalLength:0}),Tr(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Tr(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(w,_){return w+_});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),f=a%u,d=s-a,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(As(l.slice(0,m)),[f-g]);break}var v=p.length%2===0?[0,d]:[d];return[].concat(As(e.repeat(l,c)),As(p),v).map(function(w){return"".concat(w,"px")}).join(", ")}),Tr(n,"id",Fh("recharts-line-")),Tr(n,"pathRef",function(a){n.mainCurve=a}),Tr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Tr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return LAe(e,t),MAe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=lr(c,Hh);if(!f)return null;var d=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Kn(g.payload,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return D.createElement(mt,p,f.map(function(m){return D.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=Te(this.props,!1),d=Te(l,!0),p=u.map(function(g,v){var w=jn(jn(jn({key:"dot-".concat(v),r:3},f),d),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:c,payload:g.payload,points:u});return e.renderDotItem(l,w)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return D.createElement(mt,Uc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=JN(s,AAe),d=jn(jn(jn({},Te(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return D.createElement(Gw,Uc({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,d=a.animationEasing,p=a.animationId,m=a.animateNewValues,g=a.width,v=a.height,w=this.state,_=w.prevPoints,y=w.totalLength;return D.createElement(Ui,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var S=I.t;if(_){var P=_.length/s.length,T=s.map(function(N,R){var B=Math.floor(R*P);if(_[B]){var V=_[B],F=Ar(V.x,N.x),q=Ar(V.y,N.y);return jn(jn({},N),{},{x:F(S),y:q(S)})}if(m){var L=Ar(g*2,N.x),z=Ar(v/2,N.y);return jn(jn({},N),{},{x:L(S),y:z(S)})}return jn(jn({},N),{},{x:N.x,y:N.y})});return o.renderCurveStatically(T,r,i)}var x=Ar(0,y),O=x(S),C;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});C=o.getStrokeDasharray(O,y,k)}else C=o.generateSimpleStrokeDasharray(y,O);return o.renderCurveStatically(s,r,i,{strokeDasharray:C})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!cv(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,d=i.left,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(o||!s||!s.length)return null;var w=this.state.isAnimationFinished,_=s.length===1,y=Ie("recharts-line",l),I=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,P=I||S,T=be(v)?this.id:v,x=(r=Te(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=x.r,C=O===void 0?3:O,k=x.strokeWidth,N=k===void 0?2:k,R=eae(a)?a:{},B=R.clipDot,V=B===void 0?!0:B,F=C*2+N;return D.createElement(mt,{className:y},I||S?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(T)},D.createElement("rect",{x:I?d:d-p/2,y:S?f:f-m/2,width:I?p:p*2,height:S?m:m*2})),!V&&D.createElement("clipPath",{id:"clipPath-dots-".concat(T)},D.createElement("rect",{x:d-F/2,y:f-F/2,width:p+F,height:m+F}))):null,!_&&this.renderCurve(P,T),this.renderErrorBar(P,T),(_||a)&&this.renderDots(P,V,T),(!g||w)&&Do.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(As(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(As(a),As(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(D.isValidElement(r))o=D.cloneElement(r,i);else if(ye(r))o=r(i);else{var a=i.key,s=JN(i,PAe),l=Ie("recharts-line-dot",typeof r!="boolean"?r.className:"");o=D.createElement(tS,Uc({key:a},s,{className:l}))}return o}}])}(j.PureComponent);Tr(Hl,"displayName","Line");Tr(Hl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!vu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Tr(Hl,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(d,p){var m=Kn(d,a);return c==="horizontal"?{x:MR({axis:n,ticks:i,bandSize:s,entry:d,index:p}),y:be(m)?null:r.scale(m),value:m,payload:d}:{x:be(m)?null:n.scale(m),y:MR({axis:r,ticks:o,bandSize:s,entry:d,index:p}),value:m,payload:d}});return jn({points:f,layout:c},u)});function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function FAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$3(r.key),r)}}function UAe(t,e,n){return e&&BAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zAe(t,e,n){return e=Og(e),qAe(t,j3()?Reflect.construct(e,n||[],Og(t).constructor):e.apply(t,n))}function qAe(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WAe(t)}function WAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j3=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(t)}function HAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vx(t,e)}function vx(t,e){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vx(t,e)}function D3(t,e,n){return e=$3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $3(t){var e=GAe(t,"string");return Gl(e)=="symbol"?e:e+""}function GAe(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_x.apply(this,arguments)}function KAe(t){var e=t.xAxisId,n=oS(),r=aS(),i=w3(e);return i==null?null:j.createElement(xu,_x({},i,{className:Ie("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return bi(a,!0)}}))}var Kl=function(t){function e(){return FAe(this,e),zAe(this,e,arguments)}return HAe(e,t),UAe(e,[{key:"render",value:function(){return j.createElement(KAe,this.props)}}])}(j.Component);D3(Kl,"displayName","XAxis");D3(Kl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function XAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F3(r.key),r)}}function QAe(t,e,n){return e&&YAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JAe(t,e,n){return e=Cg(e),ZAe(t,L3()?Reflect.construct(e,n||[],Cg(t).constructor):e.apply(t,n))}function ZAe(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ePe(t)}function ePe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L3=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(t)}function tPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bx(t,e)}function bx(t,e){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bx(t,e)}function V3(t,e,n){return e=F3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F3(t){var e=nPe(t,"string");return Xl(e)=="symbol"?e:e+""}function nPe(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(this,arguments)}var rPe=function(e){var n=e.yAxisId,r=oS(),i=aS(),o=x3(n);return o==null?null:j.createElement(xu,wx({},o,{className:Ie("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return bi(s,!0)}}))},Yl=function(t){function e(){return XAe(this,e),JAe(this,e,arguments)}return tPe(e,t),QAe(e,[{key:"render",value:function(){return j.createElement(rPe,this.props)}}])}(j.Component);V3(Yl,"displayName","YAxis");V3(Yl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function t2(t){return sPe(t)||aPe(t)||oPe(t)||iPe()}function iPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oPe(t,e){if(t){if(typeof t=="string")return xx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xx(t,e)}}function aPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sPe(t){if(Array.isArray(t))return xx(t)}function xx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ex=function(e,n,r,i,o){var a=lr(e,lS),s=lr(e,yv),l=[].concat(t2(a),t2(s)),u=lr(e,_v),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(g,v){if(v.props[c]===r&&Jr(v.props,"extendDomain")&&ee(v.props[f])){var w=v.props[f];return[Math.min(g[0],w),Math.max(g[1],w)]}return g},d)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");d=u.reduce(function(g,v){if(v.props[c]===r&&Jr(v.props,"extendDomain")&&ee(v.props[p])&&ee(v.props[m])){var w=v.props[p],_=v.props[m];return[Math.min(g[0],w,_),Math.max(g[1],w,_)]}return g},d)}return o&&o.length&&(d=o.reduce(function(g,v){return ee(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},d)),d},B3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,m=new Array(p);d<p;d++)m[d]=f[d].fn;return m},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],w=arguments.length,_,y;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,f),!0;case 4:return v.fn.call(v.context,c,f,d),!0;case 5:return v.fn.call(v.context,c,f,d,p),!0;case 6:return v.fn.call(v.context,c,f,d,p,m),!0}for(y=1,_=new Array(w-1);y<w;y++)_[y-1]=arguments[y];v.fn.apply(v.context,_)}else{var I=v.length,S;for(y=0;y<I;y++)switch(v[y].once&&this.removeListener(u,v[y].fn,void 0,!0),w){case 1:v[y].fn.call(v[y].context);break;case 2:v[y].fn.call(v[y].context,c);break;case 3:v[y].fn.call(v[y].context,c,f);break;case 4:v[y].fn.call(v[y].context,c,f,d);break;default:if(!_)for(S=1,_=new Array(w-1);S<w;S++)_[S-1]=arguments[S];v[y].fn.apply(v[y].context,_)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!d||m.once)&&(!f||m.context===f)&&a(this,p);else{for(var g=0,v=[],w=m.length;g<w;g++)(m[g].fn!==c||d&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(B3);var lPe=B3.exports;const uPe=ze(lPe);var d_=new uPe,p_="recharts.syncMouseEvents";function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function cPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U3(r.key),r)}}function hPe(t,e,n){return e&&fPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m_(t,e,n){return e=U3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U3(t){var e=dPe(t,"string");return ah(e)=="symbol"?e:e+""}function dPe(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pPe=function(){function t(){cPe(this,t),m_(this,"activeIndex",0),m_(this,"coordinateList",[]),m_(this,"layout","horizontal")}return hPe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function mPe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ee(r)&&ee(i))return!0}return!1}function gPe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function z3(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Wt(e,n,r,i),s=Wt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function yPe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=Wt(s,l,u,f),p=Wt(s,l,c,f);r=d.x,i=d.y,o=p.x,a=p.y}else return z3(e);return[{x:r,y:i},{x:o,y:a}]}function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function n2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(n),!0).forEach(function(r){vPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vPe(t,e,n){return e=_Pe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Pe(t){var e=bPe(t,"string");return sh(e)=="symbol"?e:e+""}function bPe(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wPe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var m,g=Gw;if(d==="ScatterChart")m=a,g=wEe;else if(d==="BarChart")m=gPe(f,a,l,c),g=eS;else if(f==="radial"){var v=z3(a),w=v.cx,_=v.cy,y=v.radius,I=v.startAngle,S=v.endAngle;m={cx:w,cy:_,startAngle:I,endAngle:S,innerRadius:y,outerRadius:y},g=HU}else m={points:yPe(f,a,l)},g=Gw;var P=Qd(Qd(Qd(Qd({stroke:"#ccc",pointerEvents:"none"},l),m),Te(p,!1)),{},{payload:s,payloadIndex:u,className:Ie("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,P):j.createElement(g,P)}var xPe=["item"],EPe=["children","className","width","height","style","compact","title","desc"];function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function Qs(){return Qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qs.apply(this,arguments)}function r2(t,e){return APe(t)||SPe(t,e)||W3(t,e)||TPe()}function TPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function APe(t){if(Array.isArray(t))return t}function i2(t,e){if(t==null)return{};var n=PPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H3(r.key),r)}}function CPe(t,e,n){return e&&OPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kPe(t,e,n){return e=kg(e),RPe(t,q3()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function RPe(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NPe(t)}function NPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q3=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function MPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tx(t,e)}function Tx(t,e){return Tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tx(t,e)}function Jl(t){return $Pe(t)||DPe(t)||W3(t)||jPe()}function jPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W3(t,e){if(t){if(typeof t=="string")return Sx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sx(t,e)}}function DPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Pe(t){if(Array.isArray(t))return Sx(t)}function Sx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(n),!0).forEach(function(r){fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fe(t,e,n){return e=H3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H3(t){var e=LPe(t,"string");return Ql(e)=="symbol"?e:e+""}function LPe(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VPe={xAxis:["bottom","top"],yAxis:["left","right"]},FPe={width:"100%",height:"100%"},G3={x:0,y:0};function Jd(t){return t}var BPe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},UPe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return W(W(W({},i),Wt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return W(W(W({},i),Wt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return G3},bv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Jl(s),Jl(u)):s},[]);return a.length>0?a:e&&e.length&&ee(i)&&ee(o)?e.slice(i,o+1):[]};function K3(t){return t==="number"?[0,"auto"]:void 0}var Ax=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=bv(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;d=Nm(p,a.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(Jl(l),[zU(u,d)]):l},[])},a2=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=BPe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=rbe(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=Ax(e,n,c,f),p=UPe(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},zPe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,p=FU(c,o);return r.reduce(function(m,g){var v,w=g.type.defaultProps!==void 0?W(W({},g.type.defaultProps),g.props):g.props,_=w.type,y=w.dataKey,I=w.allowDataOverflow,S=w.allowDuplicatedCategory,P=w.scale,T=w.ticks,x=w.includeHidden,O=w[a];if(m[O])return m;var C=bv(e.data,{graphicalItems:i.filter(function(K){var re,ve=a in K.props?K.props[a]:(re=K.type.defaultProps)===null||re===void 0?void 0:re[a];return ve===O}),dataStartIndex:l,dataEndIndex:u}),k=C.length,N,R,B;mPe(w.domain,I,_)&&(N=Uw(w.domain,null,I),p&&(_==="number"||P!=="auto")&&(B=Fc(C,y,"category")));var V=K3(_);if(!N||N.length===0){var F,q=(F=w.domain)!==null&&F!==void 0?F:V;if(y){if(N=Fc(C,y,_),_==="category"&&p){var L=qoe(N);S&&L?(R=N,N=vg(0,k)):S||(N=LR(q,N,g).reduce(function(K,re){return K.indexOf(re)>=0?K:[].concat(Jl(K),[re])},[]))}else if(_==="category")S?N=N.filter(function(K){return K!==""&&!be(K)}):N=LR(q,N,g).reduce(function(K,re){return K.indexOf(re)>=0||re===""||be(re)?K:[].concat(Jl(K),[re])},[]);else if(_==="number"){var z=lbe(C,i.filter(function(K){var re,ve,Ae=a in K.props?K.props[a]:(re=K.type.defaultProps)===null||re===void 0?void 0:re[a],je="hide"in K.props?K.props.hide:(ve=K.type.defaultProps)===null||ve===void 0?void 0:ve.hide;return Ae===O&&(x||!je)}),y,o,c);z&&(N=z)}p&&(_==="number"||P!=="auto")&&(B=Fc(C,y,"category"))}else p?N=vg(0,k):s&&s[O]&&s[O].hasStack&&_==="number"?N=d==="expand"?[0,1]:UU(s[O].stackGroups,l,u):N=VU(C,i.filter(function(K){var re=a in K.props?K.props[a]:K.type.defaultProps[a],ve="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return re===O&&(x||!ve)}),_,c,!0);if(_==="number")N=Ex(f,N,O,o,T),q&&(N=Uw(q,N,I));else if(_==="category"&&q){var G=q,Q=N.every(function(K){return G.indexOf(K)>=0});Q&&(N=G)}}return W(W({},m),{},fe({},O,W(W({},w),{},{axisType:o,domain:N,categoricalDomain:B,duplicateDomain:R,originalDomain:(v=w.domain)!==null&&v!==void 0?v:V,isCategorical:p,layout:c})))},{})},qPe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=bv(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,m=FU(c,o),g=-1;return r.reduce(function(v,w){var _=w.type.defaultProps!==void 0?W(W({},w.type.defaultProps),w.props):w.props,y=_[a],I=K3("number");if(!v[y]){g++;var S;return m?S=vg(0,p):s&&s[y]&&s[y].hasStack?(S=UU(s[y].stackGroups,l,u),S=Ex(f,S,y,o)):(S=Uw(I,VU(d,r.filter(function(P){var T,x,O=a in P.props?P.props[a]:(T=P.type.defaultProps)===null||T===void 0?void 0:T[a],C="hide"in P.props?P.props.hide:(x=P.type.defaultProps)===null||x===void 0?void 0:x.hide;return O===y&&!C}),"number",c),i.defaultProps.allowDataOverflow),S=Ex(f,S,y,o)),W(W({},v),{},fe({},y,W(W({axisType:o},i.defaultProps),{},{hide:!0,orientation:sr(VPe,"".concat(o,".").concat(g%2),null),domain:S,originalDomain:I,isCategorical:m,layout:c})))}return v},{})},WPe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=lr(c,o),p={};return d&&d.length?p=zPe(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=qPe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},HPe=function(e){var n=go(e),r=bi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:PT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ug(n,r)}},s2=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ln(n,Vl),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},GPe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Si(n&&n.type);return r&&r.indexOf("Bar")>=0})},l2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},KPe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,d=r.margin||{},p=Ln(f,Vl),m=Ln(f,cl),g=Object.keys(l).reduce(function(S,P){var T=l[P],x=T.orientation;return!T.mirror&&!T.hide?W(W({},S),{},fe({},x,S[x]+T.width)):S},{left:d.left||0,right:d.right||0}),v=Object.keys(a).reduce(function(S,P){var T=a[P],x=T.orientation;return!T.mirror&&!T.hide?W(W({},S),{},fe({},x,sr(S,"".concat(x))+T.height)):S},{top:d.top||0,bottom:d.bottom||0}),w=W(W({},v),g),_=w.bottom;p&&(w.bottom+=p.props.height||Vl.defaultProps.height),m&&n&&(w=abe(w,i,r,n));var y=u-w.left-w.right,I=c-w.top-w.bottom;return W(W({brushBottom:_},w),{},{width:Math.max(y,0),height:Math.max(I,0)})},XPe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},X3=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(w,_){var y=_.graphicalItems,I=_.stackGroups,S=_.offset,P=_.updateId,T=_.dataStartIndex,x=_.dataEndIndex,O=w.barSize,C=w.layout,k=w.barGap,N=w.barCategoryGap,R=w.maxBarSize,B=l2(C),V=B.numericAxisName,F=B.cateAxisName,q=GPe(y),L=[];return y.forEach(function(z,G){var Q=bv(w.data,{graphicalItems:[z],dataStartIndex:T,dataEndIndex:x}),K=z.type.defaultProps!==void 0?W(W({},z.type.defaultProps),z.props):z.props,re=K.dataKey,ve=K.maxBarSize,Ae=K["".concat(V,"Id")],je=K["".concat(F,"Id")],gt={},kt=l.reduce(function(Vr,ii){var ia=_["".concat(ii.axisType,"Map")],ys=K["".concat(ii.axisType,"Id")];ia&&ia[ys]||ii.axisType==="zAxis"||rs();var Eu=ia[ys];return W(W({},Vr),{},fe(fe({},ii.axisType,Eu),"".concat(ii.axisType,"Ticks"),bi(Eu)))},gt),te=kt[F],ce=kt["".concat(F,"Ticks")],ue=I&&I[Ae]&&I[Ae].hasStack&&bbe(z,I[Ae].stackGroups),X=Si(z.type).indexOf("Bar")>=0,qe=ug(te,ce),_e=[],tt=q&&ibe({barSize:O,stackGroups:I,totalSize:XPe(kt,F)});if(X){var lt,Yt,Lr=be(ve)?R:ve,ri=(lt=(Yt=ug(te,ce,!0))!==null&&Yt!==void 0?Yt:Lr)!==null&&lt!==void 0?lt:0;_e=obe({barGap:k,barCategoryGap:N,bandSize:ri!==qe?ri:qe,sizeList:tt[je],maxBarSize:Lr}),ri!==qe&&(_e=_e.map(function(Vr){return W(W({},Vr),{},{position:W(W({},Vr.position),{},{offset:Vr.position.offset-ri/2})})}))}var Yi=z&&z.type&&z.type.getComposedData;Yi&&L.push({props:W(W({},Yi(W(W({},kt),{},{displayedData:Q,props:w,dataKey:re,item:z,bandSize:qe,barPosition:_e,offset:S,stackedData:ue,layout:C,dataStartIndex:T,dataEndIndex:x}))),{},fe(fe(fe({key:z.key||"item-".concat(G)},V,kt[V]),F,kt[F]),"animationId",P)),childIndex:rae(z,w.children),item:z})}),L},p=function(w,_){var y=w.props,I=w.dataStartIndex,S=w.dataEndIndex,P=w.updateId;if(!CC({props:y}))return null;var T=y.children,x=y.layout,O=y.stackOffset,C=y.data,k=y.reverseStackOrder,N=l2(x),R=N.numericAxisName,B=N.cateAxisName,V=lr(T,r),F=ybe(C,V,"".concat(R,"Id"),"".concat(B,"Id"),O,k),q=l.reduce(function(K,re){var ve="".concat(re.axisType,"Map");return W(W({},K),{},fe({},ve,WPe(y,W(W({},re),{},{graphicalItems:V,stackGroups:re.axisType===R&&F,dataStartIndex:I,dataEndIndex:S}))))},{}),L=KPe(W(W({},q),{},{props:y,graphicalItems:V}),_==null?void 0:_.legendBBox);Object.keys(q).forEach(function(K){q[K]=c(y,q[K],L,K.replace("Map",""),n)});var z=q["".concat(B,"Map")],G=HPe(z),Q=d(y,W(W({},q),{},{dataStartIndex:I,dataEndIndex:S,updateId:P,graphicalItems:V,stackGroups:F,offset:L}));return W(W({formattedGraphicalItems:Q,graphicalItems:V,offset:L,stackGroups:F},G),q)},m=function(v){function w(_){var y,I,S;return IPe(this,w),S=kPe(this,w,[_]),fe(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fe(S,"accessibilityManager",new pPe),fe(S,"handleLegendBBoxUpdate",function(P){if(P){var T=S.state,x=T.dataStartIndex,O=T.dataEndIndex,C=T.updateId;S.setState(W({legendBBox:P},p({props:S.props,dataStartIndex:x,dataEndIndex:O,updateId:C},W(W({},S.state),{},{legendBBox:P}))))}}),fe(S,"handleReceiveSyncEvent",function(P,T,x){if(S.props.syncId===P){if(x===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(T)}}),fe(S,"handleBrushChange",function(P){var T=P.startIndex,x=P.endIndex;if(T!==S.state.dataStartIndex||x!==S.state.dataEndIndex){var O=S.state.updateId;S.setState(function(){return W({dataStartIndex:T,dataEndIndex:x},p({props:S.props,dataStartIndex:T,dataEndIndex:x,updateId:O},S.state))}),S.triggerSyncEvent({dataStartIndex:T,dataEndIndex:x})}}),fe(S,"handleMouseEnter",function(P){var T=S.getMouseInfo(P);if(T){var x=W(W({},T),{},{isTooltipActive:!0});S.setState(x),S.triggerSyncEvent(x);var O=S.props.onMouseEnter;ye(O)&&O(x,P)}}),fe(S,"triggeredAfterMouseMove",function(P){var T=S.getMouseInfo(P),x=T?W(W({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(x),S.triggerSyncEvent(x);var O=S.props.onMouseMove;ye(O)&&O(x,P)}),fe(S,"handleItemMouseEnter",function(P){S.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),fe(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),fe(S,"handleMouseMove",function(P){P.persist(),S.throttleTriggeredAfterMouseMove(P)}),fe(S,"handleMouseLeave",function(P){S.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var x=S.props.onMouseLeave;ye(x)&&x(T,P)}),fe(S,"handleOuterEvent",function(P){var T=nae(P),x=sr(S.props,"".concat(T));if(T&&ye(x)){var O,C;/.*touch.*/i.test(T)?C=S.getMouseInfo(P.changedTouches[0]):C=S.getMouseInfo(P),x((O=C)!==null&&O!==void 0?O:{},P)}}),fe(S,"handleClick",function(P){var T=S.getMouseInfo(P);if(T){var x=W(W({},T),{},{isTooltipActive:!0});S.setState(x),S.triggerSyncEvent(x);var O=S.props.onClick;ye(O)&&O(x,P)}}),fe(S,"handleMouseDown",function(P){var T=S.props.onMouseDown;if(ye(T)){var x=S.getMouseInfo(P);T(x,P)}}),fe(S,"handleMouseUp",function(P){var T=S.props.onMouseUp;if(ye(T)){var x=S.getMouseInfo(P);T(x,P)}}),fe(S,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),fe(S,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.handleMouseDown(P.changedTouches[0])}),fe(S,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.handleMouseUp(P.changedTouches[0])}),fe(S,"handleDoubleClick",function(P){var T=S.props.onDoubleClick;if(ye(T)){var x=S.getMouseInfo(P);T(x,P)}}),fe(S,"handleContextMenu",function(P){var T=S.props.onContextMenu;if(ye(T)){var x=S.getMouseInfo(P);T(x,P)}}),fe(S,"triggerSyncEvent",function(P){S.props.syncId!==void 0&&d_.emit(p_,S.props.syncId,P,S.eventEmitterSymbol)}),fe(S,"applySyncEvent",function(P){var T=S.props,x=T.layout,O=T.syncMethod,C=S.state.updateId,k=P.dataStartIndex,N=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)S.setState(W({dataStartIndex:k,dataEndIndex:N},p({props:S.props,dataStartIndex:k,dataEndIndex:N,updateId:C},S.state)));else if(P.activeTooltipIndex!==void 0){var R=P.chartX,B=P.chartY,V=P.activeTooltipIndex,F=S.state,q=F.offset,L=F.tooltipTicks;if(!q)return;if(typeof O=="function")V=O(L,P);else if(O==="value"){V=-1;for(var z=0;z<L.length;z++)if(L[z].value===P.activeLabel){V=z;break}}var G=W(W({},q),{},{x:q.left,y:q.top}),Q=Math.min(R,G.x+G.width),K=Math.min(B,G.y+G.height),re=L[V]&&L[V].value,ve=Ax(S.state,S.props.data,V),Ae=L[V]?{x:x==="horizontal"?L[V].coordinate:Q,y:x==="horizontal"?K:L[V].coordinate}:G3;S.setState(W(W({},P),{},{activeLabel:re,activeCoordinate:Ae,activePayload:ve,activeTooltipIndex:V}))}else S.setState(P)}),fe(S,"renderCursor",function(P){var T,x=S.state,O=x.isTooltipActive,C=x.activeCoordinate,k=x.activePayload,N=x.offset,R=x.activeTooltipIndex,B=x.tooltipAxisBandSize,V=S.getTooltipEventType(),F=(T=P.props.active)!==null&&T!==void 0?T:O,q=S.props.layout,L=P.key||"_recharts-cursor";return D.createElement(wPe,{key:L,activeCoordinate:C,activePayload:k,activeTooltipIndex:R,chartName:n,element:P,isActive:F,layout:q,offset:N,tooltipAxisBandSize:B,tooltipEventType:V})}),fe(S,"renderPolarAxis",function(P,T,x){var O=sr(P,"type.axisType"),C=sr(S.state,"".concat(O,"Map")),k=P.type.defaultProps,N=k!==void 0?W(W({},k),P.props):P.props,R=C&&C[N["".concat(O,"Id")]];return j.cloneElement(P,W(W({},R),{},{className:Ie(O,R.className),key:P.key||"".concat(T,"-").concat(x),ticks:bi(R,!0)}))}),fe(S,"renderPolarGrid",function(P){var T=P.props,x=T.radialLines,O=T.polarAngles,C=T.polarRadius,k=S.state,N=k.radiusAxisMap,R=k.angleAxisMap,B=go(N),V=go(R),F=V.cx,q=V.cy,L=V.innerRadius,z=V.outerRadius;return j.cloneElement(P,{polarAngles:Array.isArray(O)?O:bi(V,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(C)?C:bi(B,!0).map(function(G){return G.coordinate}),cx:F,cy:q,innerRadius:L,outerRadius:z,key:P.key||"polar-grid",radialLines:x})}),fe(S,"renderLegend",function(){var P=S.state.formattedGraphicalItems,T=S.props,x=T.children,O=T.width,C=T.height,k=S.props.margin||{},N=O-(k.left||0)-(k.right||0),R=$U({children:x,formattedGraphicalItems:P,legendWidth:N,legendContent:u});if(!R)return null;var B=R.item,V=i2(R,xPe);return j.cloneElement(B,W(W({},V),{},{chartWidth:O,chartHeight:C,margin:k,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),fe(S,"renderTooltip",function(){var P,T=S.props,x=T.children,O=T.accessibilityLayer,C=Ln(x,xr);if(!C)return null;var k=S.state,N=k.isTooltipActive,R=k.activeCoordinate,B=k.activePayload,V=k.activeLabel,F=k.offset,q=(P=C.props.active)!==null&&P!==void 0?P:N;return j.cloneElement(C,{viewBox:W(W({},F),{},{x:F.left,y:F.top}),active:q,label:V,payload:q?B:[],coordinate:R,accessibilityLayer:O})}),fe(S,"renderBrush",function(P){var T=S.props,x=T.margin,O=T.data,C=S.state,k=C.offset,N=C.dataStartIndex,R=C.dataEndIndex,B=C.updateId;return j.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Gd(S.handleBrushChange,P.props.onChange),data:O,x:ee(P.props.x)?P.props.x:k.left,y:ee(P.props.y)?P.props.y:k.top+k.height+k.brushBottom-(x.bottom||0),width:ee(P.props.width)?P.props.width:k.width,startIndex:N,endIndex:R,updateId:"brush-".concat(B)})}),fe(S,"renderReferenceElement",function(P,T,x){if(!P)return null;var O=S,C=O.clipPathId,k=S.state,N=k.xAxisMap,R=k.yAxisMap,B=k.offset,V=P.type.defaultProps||{},F=P.props,q=F.xAxisId,L=q===void 0?V.xAxisId:q,z=F.yAxisId,G=z===void 0?V.yAxisId:z;return j.cloneElement(P,{key:P.key||"".concat(T,"-").concat(x),xAxis:N[L],yAxis:R[G],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:C})}),fe(S,"renderActivePoints",function(P){var T=P.item,x=P.activePoint,O=P.basePoint,C=P.childIndex,k=P.isRange,N=[],R=T.props.key,B=T.item.type.defaultProps!==void 0?W(W({},T.item.type.defaultProps),T.item.props):T.item.props,V=B.activeDot,F=B.dataKey,q=W(W({index:C,dataKey:F,cx:x.x,cy:x.y,r:4,fill:ZT(T.item),strokeWidth:2,stroke:"#fff",payload:x.payload,value:x.value},Te(V,!1)),Mm(V));return N.push(w.renderActiveDot(V,q,"".concat(R,"-activePoint-").concat(C))),O?N.push(w.renderActiveDot(V,W(W({},q),{},{cx:O.x,cy:O.y}),"".concat(R,"-basePoint-").concat(C))):k&&N.push(null),N}),fe(S,"renderGraphicChild",function(P,T,x){var O=S.filterFormatItem(P,T,x);if(!O)return null;var C=S.getTooltipEventType(),k=S.state,N=k.isTooltipActive,R=k.tooltipAxis,B=k.activeTooltipIndex,V=k.activeLabel,F=S.props.children,q=Ln(F,xr),L=O.props,z=L.points,G=L.isRange,Q=L.baseLine,K=O.item.type.defaultProps!==void 0?W(W({},O.item.type.defaultProps),O.item.props):O.item.props,re=K.activeDot,ve=K.hide,Ae=K.activeBar,je=K.activeShape,gt=!!(!ve&&N&&q&&(re||Ae||je)),kt={};C!=="axis"&&q&&q.props.trigger==="click"?kt={onClick:Gd(S.handleItemMouseEnter,P.props.onClick)}:C!=="axis"&&(kt={onMouseLeave:Gd(S.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Gd(S.handleItemMouseEnter,P.props.onMouseEnter)});var te=j.cloneElement(P,W(W({},O.props),kt));function ce(ii){return typeof R.dataKey=="function"?R.dataKey(ii.payload):null}if(gt)if(B>=0){var ue,X;if(R.dataKey&&!R.allowDuplicatedCategory){var qe=typeof R.dataKey=="function"?ce:"payload.".concat(R.dataKey.toString());ue=Nm(z,qe,V),X=G&&Q&&Nm(Q,qe,V)}else ue=z==null?void 0:z[B],X=G&&Q&&Q[B];if(je||Ae){var _e=P.props.activeIndex!==void 0?P.props.activeIndex:B;return[j.cloneElement(P,W(W(W({},O.props),kt),{},{activeIndex:_e})),null,null]}if(!be(ue))return[te].concat(Jl(S.renderActivePoints({item:O,activePoint:ue,basePoint:X,childIndex:B,isRange:G})))}else{var tt,lt=(tt=S.getItemByXY(S.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:te},Yt=lt.graphicalItem,Lr=Yt.item,ri=Lr===void 0?P:Lr,Yi=Yt.childIndex,Vr=W(W(W({},O.props),kt),{},{activeIndex:Yi});return[j.cloneElement(ri,Vr),null,null]}return G?[te,null,null]:[te,null]}),fe(S,"renderCustomized",function(P,T,x){return j.cloneElement(P,W(W({key:"recharts-customized-".concat(x)},S.props),S.state))}),fe(S,"renderMap",{CartesianGrid:{handler:Jd,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Jd},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Jd},YAxis:{handler:Jd},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((y=_.id)!==null&&y!==void 0?y:Fh("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=DB(S.triggeredAfterMouseMove,(I=_.throttleDelay)!==null&&I!==void 0?I:1e3/60),S.state={},S}return MPe(w,v),CPe(w,[{key:"componentDidMount",value:function(){var y,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,I=y.children,S=y.data,P=y.height,T=y.layout,x=Ln(I,xr);if(x){var O=x.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,k=Ax(this.state,S,O,C),N=this.state.tooltipTicks[O].coordinate,R=(this.state.offset.top+P)/2,B=T==="horizontal",V=B?{x:N,y:R}:{y:N,x:R},F=this.state.formattedGraphicalItems.find(function(L){var z=L.item;return z.type.name==="Scatter"});F&&(V=W(W({},V),F.props.points[O].tooltipPosition),k=F.props.points[O].tooltipPayload);var q={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:C,activePayload:k,activeCoordinate:V};this.setState(q),this.renderCursor(x),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var S,P;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(y){rw([Ln(y.children,xr)],[Ln(this.props.children,xr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Ln(this.props.children,xr);if(y&&typeof y.props.shared=="boolean"){var I=y.props.shared?"axis":"item";return s.indexOf(I)>=0?I:o}return o}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var I=this.container,S=I.getBoundingClientRect(),P=Oge(S),T={chartX:Math.round(y.pageX-P.left),chartY:Math.round(y.pageY-P.top)},x=S.width/I.offsetWidth||1,O=this.inRange(T.chartX,T.chartY,x);if(!O)return null;var C=this.state,k=C.xAxisMap,N=C.yAxisMap,R=this.getTooltipEventType(),B=a2(this.state,this.props.data,this.props.layout,O);if(R!=="axis"&&k&&N){var V=go(k).scale,F=go(N).scale,q=V&&V.invert?V.invert(T.chartX):null,L=F&&F.invert?F.invert(T.chartY):null;return W(W({},T),{},{xValue:q,yValue:L},B)}return B?W(W({},T),B):null}},{key:"inRange",value:function(y,I){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,T=y/S,x=I/S;if(P==="horizontal"||P==="vertical"){var O=this.state.offset,C=T>=O.left&&T<=O.left+O.width&&x>=O.top&&x<=O.top+O.height;return C?{x:T,y:x}:null}var k=this.state,N=k.angleAxisMap,R=k.radiusAxisMap;if(N&&R){var B=go(N);return BR({x:T,y:x},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,I=this.getTooltipEventType(),S=Ln(y,xr),P={};S&&I==="axis"&&(S.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Mm(this.props,this.handleOuterEvent);return W(W({},T),P)}},{key:"addListener",value:function(){d_.on(p_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){d_.removeListener(p_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,I,S){for(var P=this.state.formattedGraphicalItems,T=0,x=P.length;T<x;T++){var O=P[T];if(O.item===y||O.props.key===y.key||I===Si(O.item.type)&&S===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,I=this.state.offset,S=I.left,P=I.top,T=I.height,x=I.width;return D.createElement("defs",null,D.createElement("clipPath",{id:y},D.createElement("rect",{x:S,y:P,height:T,width:x})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(I,S){var P=r2(S,2),T=P[0],x=P[1];return W(W({},I),{},fe({},T,x.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(I,S){var P=r2(S,2),T=P[0],x=P[1];return W(W({},I),{},fe({},T,x.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[y])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(y){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[y])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(y){var I=this.state,S=I.formattedGraphicalItems,P=I.activeItem;if(S&&S.length)for(var T=0,x=S.length;T<x;T++){var O=S[T],C=O.props,k=O.item,N=k.type.defaultProps!==void 0?W(W({},k.type.defaultProps),k.props):k.props,R=Si(k.type);if(R==="Bar"){var B=(C.data||[]).find(function(L){return fEe(y,L)});if(B)return{graphicalItem:O,payload:B}}else if(R==="RadialBar"){var V=(C.data||[]).find(function(L){return BR(y,L)});if(V)return{graphicalItem:O,payload:V}}else if(dv(O,P)||pv(O,P)||th(O,P)){var F=p1e({graphicalItem:O,activeTooltipItem:P,itemData:N.data}),q=N.activeIndex===void 0?F:N.activeIndex;return{graphicalItem:W(W({},O),{},{childIndex:q}),payload:th(O,P)?N.data[F]:O.props.data[F]}}}return null}},{key:"render",value:function(){var y=this;if(!CC(this))return null;var I=this.props,S=I.children,P=I.className,T=I.width,x=I.height,O=I.style,C=I.compact,k=I.title,N=I.desc,R=i2(I,EPe),B=Te(R,!1);if(C)return D.createElement(VN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(ow,Qs({},B,{width:T,height:x,title:k,desc:N}),this.renderClipPath(),RC(S,this.renderMap)));if(this.props.accessibilityLayer){var V,F;B.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,B.role=(F=this.props.role)!==null&&F!==void 0?F:"application",B.onKeyDown=function(L){y.accessibilityManager.keyboardEvent(L)},B.onFocus=function(){y.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return D.createElement(VN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",Qs({className:Ie("recharts-wrapper",P),style:W({position:"relative",cursor:"default",width:T,height:x},O)},q,{ref:function(z){y.container=z}}),D.createElement(ow,Qs({},B,{width:T,height:x,title:k,desc:N,style:FPe}),this.renderClipPath(),RC(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);fe(m,"displayName",n),fe(m,"defaultProps",W({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),fe(m,"getDerivedStateFromProps",function(v,w){var _=v.dataKey,y=v.data,I=v.children,S=v.width,P=v.height,T=v.layout,x=v.stackOffset,O=v.margin,C=w.dataStartIndex,k=w.dataEndIndex;if(w.updateId===void 0){var N=s2(v);return W(W(W({},N),{},{updateId:0},p(W(W({props:v},N),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:y,prevWidth:S,prevHeight:P,prevLayout:T,prevStackOffset:x,prevMargin:O,prevChildren:I})}if(_!==w.prevDataKey||y!==w.prevData||S!==w.prevWidth||P!==w.prevHeight||T!==w.prevLayout||x!==w.prevStackOffset||!ul(O,w.prevMargin)){var R=s2(v),B={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},V=W(W({},a2(w,y,T)),{},{updateId:w.updateId+1}),F=W(W(W({},R),B),V);return W(W(W({},F),p(W({props:v},F),w)),{},{prevDataKey:_,prevData:y,prevWidth:S,prevHeight:P,prevLayout:T,prevStackOffset:x,prevMargin:O,prevChildren:I})}if(!rw(I,w.prevChildren)){var q,L,z,G,Q=Ln(I,Vl),K=Q&&(q=(L=Q.props)===null||L===void 0?void 0:L.startIndex)!==null&&q!==void 0?q:C,re=Q&&(z=(G=Q.props)===null||G===void 0?void 0:G.endIndex)!==null&&z!==void 0?z:k,ve=K!==C||re!==k,Ae=!be(y),je=Ae&&!ve?w.updateId:w.updateId+1;return W(W({updateId:je},p(W(W({props:v},w),{},{updateId:je,dataStartIndex:K,dataEndIndex:re}),w)),{},{prevChildren:I,dataStartIndex:K,dataEndIndex:re})}return null}),fe(m,"renderActiveDot",function(v,w,_){var y;return j.isValidElement(v)?y=j.cloneElement(v,w):ye(v)?y=v(w):y=D.createElement(tS,w),D.createElement(mt,{className:"recharts-active-dot",key:_},y)});var g=j.forwardRef(function(w,_){return D.createElement(m,Qs({},w,{ref:_}))});return g.displayName=m.displayName,g},YPe=X3({chartName:"LineChart",GraphicalChild:Hl,axisComponents:[{axisType:"xAxis",AxisComp:Kl},{axisType:"yAxis",AxisComp:Yl}],formatAxisMap:d3}),QPe=X3({chartName:"BarChart",GraphicalChild:gs,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Kl},{axisType:"yAxis",AxisComp:Yl}],formatAxisMap:d3});const JPe=({userProgress:t,onBack:e})=>{const[n,r]=j.useState("week"),[i,o]=j.useState("overview"),a=[{day:"Lun",exercises:12,accuracy:85,xp:120},{day:"Mar",exercises:8,accuracy:78,xp:95},{day:"Mié",exercises:15,accuracy:92,xp:150},{day:"Jue",exercises:10,accuracy:88,xp:110},{day:"Vie",exercises:18,accuracy:94,xp:180},{day:"Sáb",exercises:6,accuracy:75,xp:70},{day:"Dom",exercises:9,accuracy:82,xp:95}],s=[{level:"A1",progress:100,color:"#10B981"},{level:"A2",progress:65,color:"#3B82F6"},{level:"B1",progress:25,color:"#8B5CF6"},{level:"B2",progress:0,color:"#6B7280"}],l=[{skill:"Saludos",mastery:95,exercises:45},{skill:"Necesidades Básicas",mastery:88,exercises:32},{skill:"Cortesía",mastery:92,exercises:28},{skill:"Información Personal",mastery:78,exercises:24},{skill:"Rutinas Diarias",mastery:65,exercises:18}],u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,staggerChildren:.1}}},c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return E.jsxs(ie.div,{variants:u,initial:"hidden",animate:"visible",className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[E.jsx(ie.header,{variants:c,className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 sticky top-0 z-40",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"flex items-center justify-between h-16",children:[E.jsxs("button",{onClick:e,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[E.jsx(eT,{className:"w-5 h-5"}),E.jsx("span",{children:"Volver al Dashboard"})]}),E.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Mi Progreso"}),E.jsx("div",{className:"flex items-center space-x-2",children:E.jsxs("select",{value:n,onChange:f=>r(f.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[E.jsx("option",{value:"week",children:"Esta semana"}),E.jsx("option",{value:"month",children:"Este mes"}),E.jsx("option",{value:"all",children:"Todo el tiempo"})]})})]}),E.jsx("div",{className:"flex space-x-8 border-b border-gray-200",children:[{id:"overview",label:"Resumen",icon:cF},{id:"levels",label:"Niveles",icon:Dte},{id:"skills",label:"Habilidades",icon:Tf},{id:"achievements",label:"Logros",icon:Ete}].map(f=>{const d=f.icon;return E.jsxs("button",{onClick:()=>o(f.id),className:`flex items-center space-x-2 py-4 border-b-2 transition-colors ${i===f.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[E.jsx(d,{className:"w-4 h-4"}),E.jsx("span",{className:"font-medium",children:f.label})]},f.id)})})]})}),E.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i==="overview"&&E.jsxs("div",{className:"space-y-8",children:[E.jsxs(ie.div,{variants:c,className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[E.jsx(Zd,{title:"Total XP",value:t.totalXP.toLocaleString(),icon:E.jsx(mF,{className:"w-6 h-6"}),color:"yellow",change:"+12%",period:"esta semana"}),E.jsx(Zd,{title:"Ejercicios",value:t.totalExercises.toString(),icon:E.jsx(wte,{className:"w-6 h-6"}),color:"blue",change:"+8%",period:"esta semana"}),E.jsx(Zd,{title:"Precisión",value:`${Math.round(t.overallAccuracy*100)}%`,icon:E.jsx(Tf,{className:"w-6 h-6"}),color:"green",change:"+3%",period:"esta semana"}),E.jsx(Zd,{title:"Racha",value:`${t.currentStreak} días`,icon:E.jsx(Dc,{className:"w-6 h-6"}),color:"orange",change:"Activa",period:`récord: ${t.longestStreak}`})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[E.jsxs(ie.div,{variants:c,className:"bg-white rounded-2xl p-6 shadow-xl border border-gray-200/50",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Progreso Semanal"}),E.jsx(Ok,{width:"100%",height:300,children:E.jsxs(YPe,{data:a,children:[E.jsx(mx,{strokeDasharray:"3 3"}),E.jsx(Kl,{dataKey:"day"}),E.jsx(Yl,{}),E.jsx(xr,{}),E.jsx(Hl,{type:"monotone",dataKey:"exercises",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",strokeWidth:2,r:4}}),E.jsx(Hl,{type:"monotone",dataKey:"accuracy",stroke:"#10B981",strokeWidth:3,dot:{fill:"#10B981",strokeWidth:2,r:4}})]})})]}),E.jsxs(ie.div,{variants:c,className:"bg-white rounded-2xl p-6 shadow-xl border border-gray-200/50",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Distribución de XP"}),E.jsx(Ok,{width:"100%",height:300,children:E.jsxs(QPe,{data:a,children:[E.jsx(mx,{strokeDasharray:"3 3"}),E.jsx(Kl,{dataKey:"day"}),E.jsx(Yl,{}),E.jsx(xr,{}),E.jsx(gs,{dataKey:"xp",fill:"url(#xpGradient)",radius:[4,4,0,0]}),E.jsx("defs",{children:E.jsxs("linearGradient",{id:"xpGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[E.jsx("stop",{offset:"5%",stopColor:"#8B5CF6",stopOpacity:.8}),E.jsx("stop",{offset:"95%",stopColor:"#8B5CF6",stopOpacity:.3})]})})]})})]})]})]}),i==="levels"&&E.jsx(ie.div,{variants:c,className:"space-y-8",children:E.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl border border-gray-200/50",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Progreso por Niveles"}),E.jsx("div",{className:"space-y-6",children:s.map((f,d)=>{var p,m,g;return E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:f.color}}),E.jsxs("span",{className:"font-semibold text-lg",children:["Nivel ",f.level]}),f.level===t.currentLevel&&E.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:"Actual"})]}),E.jsxs("span",{className:"text-sm text-gray-600",children:[f.progress,"%"]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:E.jsx(ie.div,{initial:{width:0},animate:{width:`${f.progress}%`},transition:{duration:1,delay:d*.2},className:"h-3 rounded-full",style:{backgroundColor:f.color}})}),E.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600",children:[E.jsxs("div",{children:[E.jsx("span",{className:"font-medium",children:"Ejercicios:"})," ",((p=t.levelProgress[f.level])==null?void 0:p.exercisesCompleted)||0]}),E.jsxs("div",{children:[E.jsx("span",{className:"font-medium",children:"Precisión:"})," ",Math.round((((m=t.levelProgress[f.level])==null?void 0:m.accuracy)||0)*100),"%"]}),E.jsxs("div",{children:[E.jsx("span",{className:"font-medium",children:"XP:"})," ",((g=t.levelProgress[f.level])==null?void 0:g.xpEarned)||0]})]})]},f.level)})})]})}),i==="skills"&&E.jsx(ie.div,{variants:c,className:"space-y-8",children:E.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl border border-gray-200/50",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Dominio de Habilidades"}),E.jsx("div",{className:"space-y-6",children:l.map((f,d)=>E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("span",{className:"font-semibold",children:f.skill}),E.jsxs("div",{className:"text-right text-sm text-gray-600",children:[E.jsxs("div",{children:[f.mastery,"% dominada"]}),E.jsxs("div",{children:[f.exercises," ejercicios"]})]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:E.jsx(ie.div,{initial:{width:0},animate:{width:`${f.mastery}%`},transition:{duration:1,delay:d*.1},className:`h-3 rounded-full ${f.mastery>=90?"bg-green-500":f.mastery>=70?"bg-blue-500":f.mastery>=50?"bg-yellow-500":"bg-red-500"}`})})]},f.skill))})]})}),i==="achievements"&&E.jsx(ie.div,{variants:c,className:"space-y-8",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[E.jsx(Ps,{title:"Primer Paso",description:"Completa tu primera sesión",icon:"🎯",unlocked:!0,date:"Hace 5 días"}),E.jsx(Ps,{title:"Saludador Experto",description:"Domina los saludos básicos",icon:"👋",unlocked:!0,date:"Hace 3 días"}),E.jsx(Ps,{title:"Racha de Fuego",description:"Mantén una racha de 7 días",icon:"🔥",unlocked:t.currentStreak>=7,date:t.currentStreak>=7?"Hoy":void 0}),E.jsx(Ps,{title:"Maestro A1",description:"Completa el nivel A1",icon:"🏆",unlocked:!1}),E.jsx(Ps,{title:"Precisión Perfecta",description:"Logra 95% de precisión",icon:"🎯",unlocked:t.overallAccuracy>=.95}),E.jsx(Ps,{title:"Explorador B1",description:"Desbloquea el nivel B1",icon:"🗺️",unlocked:!1})]})})]})]})},Zd=({title:t,value:e,icon:n,color:r,change:i,period:o})=>{const a={yellow:"from-yellow-400 to-orange-500 text-yellow-600",blue:"from-blue-400 to-blue-600 text-blue-600",green:"from-green-400 to-emerald-500 text-green-600",orange:"from-orange-400 to-red-500 text-orange-600"};return E.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200/50",children:[E.jsx("div",{className:"flex items-center justify-between mb-4",children:E.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${a[r]}`,children:E.jsx("div",{className:"text-white",children:n})})}),E.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:e}),E.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t}),E.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[E.jsx("span",{className:"text-green-600 font-medium",children:i}),E.jsx("span",{className:"text-gray-500",children:o})]})]})},Ps=({title:t,description:e,icon:n,unlocked:r,date:i})=>E.jsx("div",{className:`
    p-6 rounded-xl border-2 transition-all duration-300
    ${r?"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-300 shadow-lg":"bg-gray-50 border-gray-200 opacity-60"}
  `,children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-4xl mb-3",children:r?n:"🔒"}),E.jsx("h3",{className:"font-bold text-lg mb-2",children:t}),E.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e}),r&&i&&E.jsxs("p",{className:"text-xs text-green-600 font-medium",children:["Desbloqueado ",i]}),!r&&E.jsx("p",{className:"text-xs text-gray-500",children:"Bloqueado"})]})}),ZPe=({userProgress:t,onBack:e,onUpdateProgress:n})=>{const[r,i]=j.useState("profile"),[o,a]=j.useState(!1),[s,l]=j.useState(!1),[u,c]=j.useState(t.preferences),[f,d]=j.useState(""),p=async()=>{try{a(!0);const y={...t,preferences:u};n(y),an.success("Preferencias guardadas exitosamente")}catch(y){console.error("Error saving preferences:",y),an.error("Error guardando preferencias")}finally{a(!1)}},m=async()=>{if(!f.trim()){an.error("Ingresa una API Key válida");return}try{a(!0),localStorage.setItem("gemini_api_key",f);const y={...t,apiKey:btoa(f)};n(y),an.success("API Key actualizada exitosamente"),d("")}catch(y){console.error("Error updating API key:",y),an.error("Error actualizando API Key")}finally{a(!1)}},g=async()=>{try{await Oq(Pa),an.success("Sesión cerrada exitosamente")}catch(y){console.error("Error signing out:",y),an.error("Error cerrando sesión")}},v=async()=>{if(window.confirm("¿Estás seguro de que quieres eliminar tu cuenta? Esta acción no se puede deshacer."))try{a(!0),an.success("Cuenta eliminada exitosamente")}catch(I){console.error("Error deleting account:",I),an.error("Error eliminando cuenta")}finally{a(!1)}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,staggerChildren:.1}}},_={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return E.jsxs(ie.div,{variants:w,initial:"hidden",animate:"visible",className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[E.jsx(ie.header,{variants:_,className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 sticky top-0 z-40",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"flex items-center justify-between h-16",children:[E.jsxs("button",{onClick:e,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[E.jsx(eT,{className:"w-5 h-5"}),E.jsx("span",{children:"Volver al Dashboard"})]}),E.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Configuración"}),E.jsx("div",{className:"w-32"})," "]}),E.jsx("div",{className:"flex space-x-8 border-b border-gray-200",children:[{id:"profile",label:"Perfil",icon:$te},{id:"preferences",label:"Preferencias",icon:pF},{id:"api",label:"API Key",icon:hF},{id:"privacy",label:"Privacidad",icon:Zb}].map(y=>{const I=y.icon;return E.jsxs("button",{onClick:()=>i(y.id),className:`flex items-center space-x-2 py-4 border-b-2 transition-colors ${r===y.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[E.jsx(I,{className:"w-4 h-4"}),E.jsx("span",{className:"font-medium",children:y.label})]},y.id)})})]})}),E.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200/50 overflow-hidden",children:[r==="profile"&&E.jsxs(ie.div,{variants:_,className:"p-8 space-y-8",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Información del Perfil"}),E.jsxs("div",{className:"flex items-center space-x-6",children:[E.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:E.jsx("span",{className:"text-white font-bold text-2xl",children:t.email.charAt(0).toUpperCase()})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t.email.split("@")[0]}),E.jsx("p",{className:"text-gray-600",children:t.email}),E.jsxs("p",{className:"text-sm text-gray-500",children:["Miembro desde ",new Date(t.createdAt).toLocaleDateString()]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-200",children:[E.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Nivel Actual"}),E.jsx("p",{className:"text-2xl font-bold text-blue-700",children:t.currentLevel})]}),E.jsxs("div",{className:"bg-green-50 p-6 rounded-xl border border-green-200",children:[E.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Total XP"}),E.jsx("p",{className:"text-2xl font-bold text-green-700",children:t.totalXP.toLocaleString()})]}),E.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-200",children:[E.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"Racha Actual"}),E.jsxs("p",{className:"text-2xl font-bold text-purple-700",children:[t.currentStreak," días"]})]})]})]}),r==="preferences"&&E.jsxs(ie.div,{variants:_,className:"p-8 space-y-8",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Preferencias"}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[E.jsx(Tf,{className:"w-4 h-4 inline mr-2"}),"Meta diaria de ejercicios"]}),E.jsxs("select",{value:u.dailyGoal,onChange:y=>c({...u,dailyGoal:parseInt(y.target.value)}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[E.jsx("option",{value:10,children:"10 ejercicios"}),E.jsx("option",{value:20,children:"20 ejercicios"}),E.jsx("option",{value:30,children:"30 ejercicios"}),E.jsx("option",{value:50,children:"50 ejercicios"})]})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[E.jsx(Tte,{className:"w-4 h-4 inline mr-2"}),"Recordatorio diario"]}),E.jsx("input",{type:"time",value:u.reminderTime||"19:00",onChange:y=>c({...u,reminderTime:y.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),E.jsx("div",{children:E.jsxs("label",{className:"flex items-center space-x-3",children:[E.jsx("input",{type:"checkbox",checked:u.soundEnabled,onChange:y=>c({...u,soundEnabled:y.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),E.jsx(gF,{className:"w-4 h-4 text-gray-600"}),E.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Habilitar sonidos y pronunciación"})]})}),E.jsx("div",{children:E.jsxs("label",{className:"flex items-center space-x-3",children:[E.jsx("input",{type:"checkbox",checked:u.animationsEnabled,onChange:y=>c({...u,animationsEnabled:y.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),E.jsx(Cte,{className:"w-4 h-4 text-gray-600"}),E.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Habilitar animaciones"})]})}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[E.jsx(Ate,{className:"w-4 h-4 inline mr-2"}),"Idioma de explicaciones"]}),E.jsxs("select",{value:u.explanationLanguage,onChange:y=>c({...u,explanationLanguage:y.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[E.jsx("option",{value:"es",children:"Español"}),E.jsx("option",{value:"en",children:"English"})]})]}),E.jsxs("button",{onClick:p,disabled:o,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50",children:[E.jsx(Nte,{className:"w-5 h-5 inline mr-2"}),o?"Guardando...":"Guardar Preferencias"]})]})]}),r==="api"&&E.jsxs(ie.div,{variants:_,className:"p-8 space-y-8",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Gestión de API Key"}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[E.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"API Key Actual"}),E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("input",{type:s?"text":"password",value:s?atob(t.apiKey):"••••••••••••••••",readOnly:!0,className:"flex-1 p-3 bg-white border border-blue-300 rounded-lg font-mono text-sm"}),E.jsx("button",{onClick:()=>l(!s),className:"p-3 text-blue-600 hover:text-blue-800 transition-colors",children:s?E.jsx(tT,{className:"w-5 h-5"}):E.jsx(nT,{className:"w-5 h-5"})})]}),E.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"Tu API Key está segura y encriptada. Solo se usa para generar ejercicios personalizados."})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva API Key (opcional)"}),E.jsxs("div",{className:"flex space-x-3",children:[E.jsx("input",{type:"password",value:f,onChange:y=>d(y.target.value),placeholder:"AIzaSy...",className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono"}),E.jsx("button",{onClick:m,disabled:o||!f.trim(),className:"bg-blue-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50",children:"Actualizar"})]}),E.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Solo actualiza tu API Key si necesitas cambiarla o si la actual no funciona."})]})]})]}),r==="privacy"&&E.jsxs(ie.div,{variants:_,className:"p-8 space-y-8",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Privacidad y Seguridad"}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[E.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"🔒 Tus Datos están Seguros"}),E.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[E.jsx("li",{children:"• Tu API Key se almacena encriptada"}),E.jsx("li",{children:"• Tus ejercicios se generan en tiempo real"}),E.jsx("li",{children:"• No compartimos tus datos con terceros"}),E.jsx("li",{children:"• Puedes exportar o eliminar tus datos en cualquier momento"})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center space-x-2 bg-gray-100 text-gray-800 py-3 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:[E.jsx(Ite,{className:"w-5 h-5"}),E.jsx("span",{children:"Cerrar Sesión"})]}),E.jsxs("button",{onClick:v,disabled:o,className:"w-full flex items-center justify-center space-x-2 bg-red-100 text-red-800 py-3 rounded-xl font-medium hover:bg-red-200 transition-colors disabled:opacity-50",children:[E.jsx(jte,{className:"w-5 h-5"}),E.jsx("span",{children:"Eliminar Cuenta"})]})]}),E.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:[E.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"⚠️ Eliminar Cuenta"}),E.jsx("p",{className:"text-sm text-yellow-800",children:"Al eliminar tu cuenta se borrarán permanentemente todos tus datos, progreso, y configuraciones. Esta acción no se puede deshacer."})]})]})]})]})})]})},eIe=()=>E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:E.jsxs(ie.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center",children:[E.jsx(ie.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),E.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"English Master"}),E.jsx("p",{className:"text-gray-600",children:"Cargando tu experiencia personalizada..."})]})});class tIe extends D.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("English Master Error:",e,n)}render(){return this.state.hasError?E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"max-w-md mx-auto text-center",children:[E.jsx("div",{className:"text-6xl mb-4",children:"😕"}),E.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Algo salió mal"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Ha ocurrido un error inesperado. Por favor recarga la página."}),E.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-6 py-3 rounded-xl font-medium hover:bg-blue-600 transition-colors",children:"Recargar Página"})]})}):this.props.children}}const nIe=()=>{const[t,e]=j.useState(null),[n,r]=j.useState(null),[i,o]=j.useState(""),[a,s]=j.useState(!0),[l,u]=j.useState("dashboard"),c=new Om;j.useEffect(()=>Iq(Pa,async m=>{try{if(m){console.log("👤 Usuario autenticado:",m.email),e(m);let g=await c.getUserProgress(m.uid);if(g){console.log("📊 Progreso del usuario cargado");const v=atob(g.apiKey);o(v)}else{console.log("🆕 Nuevo usuario detectado");const v=localStorage.getItem("gemini_api_key");v&&(console.log("🔑 API Key encontrada, inicializando progreso..."),g=await c.initializeUserProgress(m.uid,m.email,v),o(v))}r(g)}else console.log("👤 Usuario no autenticado"),e(null),r(null),o("")}catch(g){console.error("❌ Error en inicialización:",g)}finally{s(!1)}}),[]);const f=async p=>{if(!(!t||!n))try{console.log("📊 Completando sesión:",p);const m=await c.updateProgress(t.uid,p);r(m),m.currentLevel!==n.currentLevel&&console.log(`🎉 LEVEL UP: ${n.currentLevel} → ${m.currentLevel}`),u("dashboard")}catch(m){console.error("❌ Error completando sesión:",m)}},d=async p=>{if(t)try{console.log("🔑 Configurando API Key para usuario:",t.email);const m=await c.initializeUserProgress(t.uid,t.email,p);o(p),r(m),console.log("✅ Usuario inicializado exitosamente")}catch(m){console.error("❌ Error configurando API Key:",m)}};return a?E.jsx(eIe,{}):t?!i||!n?E.jsx(ane,{onComplete:d}):E.jsxs(tIe,{children:[E.jsx(W9,{children:E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:E.jsx(dm,{mode:"wait",children:E.jsxs(U9,{children:[E.jsx(cb,{path:"/",element:l==="dashboard"?E.jsx(lne,{userProgress:n,onStartSession:()=>u("session"),onViewProgress:()=>u("progress"),onSettings:()=>u("settings")}):l==="session"?E.jsx(fne,{userProgress:n,apiKey:i,onComplete:f,onExit:()=>u("dashboard")}):l==="progress"?E.jsx(JPe,{userProgress:n,onBack:()=>u("dashboard")}):E.jsx(ZPe,{userProgress:n,onBack:()=>u("dashboard"),onUpdateProgress:r})}),E.jsx(cb,{path:"*",element:E.jsx(F9,{to:"/",replace:!0})})]})})})}),E.jsx(WX,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]}):E.jsx(Lte,{})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});console.log("📊 Performance monitoring enabled");window.addEventListener("error",t=>{console.error("Global error:",t.error)});window.addEventListener("unhandledrejection",t=>{console.error("Unhandled promise rejection:",t.reason)});g_.createRoot(document.getElementById("root")).render(E.jsx(D.StrictMode,{children:E.jsx(nIe,{})}));
